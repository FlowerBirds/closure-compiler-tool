(function(ca,fg){typeof exports==="object"&&typeof module!=="undefined"?fg(exports):typeof define==="function"&&define.amd?define(["exports"],fg):fg(ca.echarts={})})(this,function(ca){function fg(a){var b={},c=a.match(/Firefox\/([\d.]+)/),d=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),e=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);c&&(b.firefox=!0,b.version=c[1]);d&&(b.ie=!0,b.version=d[1]);e&&(b.edge=!0,b.version=e[1]);a&&(b.weChat=!0);return{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,
svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&b.version>=11),domSupported:typeof document!=="undefined"}}function vq(a,b){a==="createCanvas"&&($h=null);Wk[a]=b}function T(a){if(a==null||typeof a!=="object")return a;var b=a,c=gg.call(a);if(c==="[object Array]"){if(!a[ee]){b=[];c=0;for(var d=a.length;c<d;c++)b[c]=T(a[c])}}else if(wq[c]){if(!a[ee])if(b=a.constructor,a.constructor.from)b=
b.from(a);else for(b=new b(a.length),c=0,d=a.length;c<d;c++)b[c]=T(a[c])}else if(!xq[c]&&!a[ee]&&!Ze(a))for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=T(a[d]));return b}function Y(a,b,c){if(!X(b)||!X(a))return c?T(b):a;for(var d in b)if(b.hasOwnProperty(d)){var e=a[d],f=b[d];!X(f)||!X(e)||F(f)||F(e)||Ze(f)||Ze(e)||Xk(f)||Xk(e)||f[ee]||e[ee]?!c&&d in a||(a[d]=T(b[d],!0)):Y(e,f,c)}return a}function hg(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=Y(c,a[d],b);return c}function U(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return a}function Q(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?b[d]!=null:a[d]==null)&&(a[d]=b[d]);return a}function yq(){$h||($h=$e().getContext("2d"));return $h}function ma(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function ua(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype;a.prototype=new c;for(var e in d)d.hasOwnProperty(e)&&(a.prototype[e]=d[e]);a.prototype.constructor=a;a.superClass=b}function pa(a,b,
c){a="prototype"in a?a.prototype:a;b="prototype"in b?b.prototype:b;Q(a,b,c)}function Lc(a){if(a)return typeof a==="string"?!1:typeof a.length==="number"}function y(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Qz)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function H(a,b,c){if(a&&b){if(a.map&&a.map===Rz)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function af(a,
b,c,d){if(a&&b){if(a.reduce&&a.reduce===Sz)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function Na(a,b,c){if(a&&b){if(a.filter&&a.filter===Tz)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function zq(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]}function L(a,b){var c=ig.call(arguments,2);return function(){return a.apply(b,c.concat(ig.call(arguments)))}}function R(a){var b=
ig.call(arguments,1);return function(){return a.apply(this,b.concat(ig.call(arguments)))}}function F(a){return gg.call(a)==="[object Array]"}function Oa(a){return typeof a==="function"}function va(a){return gg.call(a)==="[object String]"}function X(a){var b=typeof a;return b==="function"||!!a&&b==="object"}function Xk(a){return!!xq[gg.call(a)]}function Wb(a){return!!wq[gg.call(a)]}function Ze(a){return typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.ownerDocument==="object"}function jg(a){return a!==
a}function xa(a){for(var b=0,c=arguments.length;b<c;b++)if(arguments[b]!=null)return arguments[b]}function Ia(a,b){return a!=null?a:b}function oc(a,b,c){return a!=null?a:b!=null?b:c}function bf(){return Function.call.apply(ig,arguments)}function Yk(a){if(typeof a==="number")return[a,a,a,a];var b=a.length;return b===2?[a[0],a[1],a[0],a[1]]:b===3?[a[0],a[1],a[2],a[1]]:a}function ja(a,b){if(!a)throw Error(b);}function Jb(a){return a==null?null:typeof a.trim==="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
"")}function Zk(a){a[ee]=!0}function ai(a){function b(e,f){c?d.set(e,f):d.set(f,e)}var c=F(a);this.data={};var d=this;a instanceof ai?a.each(b):a&&y(a,b)}function aa(a){return new ai(a)}function $k(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];a=a.length;for(d=0;d<b.length;d++)c[d+a]=b[d];return c}function Pa(){}function id(a,b){var c=new Aq(2);a==null&&(a=0);b==null&&(b=0);c[0]=a;c[1]=b;return c}function Xa(a,b){a[0]=b[0];a[1]=b[1];return a}function Xb(a){var b=
new Aq(2);b[0]=a[0];b[1]=a[1];return b}function Bq(a,b,c){a[0]=b;a[1]=c;return a}function al(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function kg(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a}function Mc(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function lg(a){return Math.sqrt(bl(a))}function bl(a){return a[0]*a[0]+a[1]*a[1]}function bi(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function cf(a,b){var c=lg(b);c===0?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c);return a}function mg(a,b){return Math.sqrt((a[0]-
b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function Cq(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function Dq(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]);a[1]=b[1]+d*(c[1]-b[1]);return a}function sa(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function Nc(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}function Oc(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function ci(){this.on("mousedown",this._dragStart,this);this.on("mousemove",
this._drag,this);this.on("mouseup",this._dragEnd,this)}function df(a,b){return{target:a,topTarget:b&&b.topTarget}}function Eq(a,b,c,d,e,f){var g=a._$handlers;typeof c==="function"&&(e=d,d=c,c=null);if(!d||!b)return a;var h=a._$eventProcessor;c!=null&&h&&h.normalizeQuery&&(c=h.normalizeQuery(c));g[b]||(g[b]=[]);for(h=0;h<g[b].length;h++)if(g[b][h].h===d)return a;d={h:d,one:f,query:c,ctx:e||a,callAtLast:d.zrEventfulCallAtLast};e=g[b].length-1;(f=g[b][e])&&f.callAtLast?g[b].splice(e,0,d):g[b].push(d);
return a}function cl(a,b,c,d,e,f){var g=d+"-"+e,h=a.length;if(f.hasOwnProperty(g))return f[g];if(b===1)return a[c][Math.round(Math.log((1<<h)-1&~e)/Uz)];for(var k=d|1<<c,l=c+1;d&1<<l;)l++;for(var m=d=0,n=0;m<h;m++){var p=1<<m;p&e||(d+=(n%2?-1:1)*a[c][m]*cl(a,b-1,l,k,e|p,f),n++)}return f[g]=d}function Fq(a,b){a=[[a[0],a[1],1,0,0,0,-b[0]*a[0],-b[0]*a[1]],[0,0,0,a[0],a[1],1,-b[1]*a[0],-b[1]*a[1]],[a[2],a[3],1,0,0,0,-b[2]*a[2],-b[2]*a[3]],[0,0,0,a[2],a[3],1,-b[3]*a[2],-b[3]*a[3]],[a[4],a[5],1,0,0,0,-b[4]*
a[4],-b[4]*a[5]],[0,0,0,a[4],a[5],1,-b[5]*a[4],-b[5]*a[5]],[a[6],a[7],1,0,0,0,-b[6]*a[6],-b[6]*a[7]],[0,0,0,a[6],a[7],1,-b[7]*a[6],-b[7]*a[7]]];var c={},d=cl(a,8,0,0,0,c);if(d!==0){for(var e=[],f=0;f<8;f++)for(var g=0;g<8;g++)e[g]==null&&(e[g]=0),e[g]+=((f+g)%2?-1:1)*cl(a,7,f===0?1:0,1<<f,1<<g,c)/d*b[f];return function(h,k,l){var m=k*e[6]+l*e[7]+1;h[0]=(k*e[0]+l*e[1]+e[2])/m;h[1]=(k*e[3]+l*e[4]+e[5])/m}}}function dl(a,b,c,d,e){if(b.getBoundingClientRect&&da.domSupported&&b.nodeName.toUpperCase()!==
"CANVAS"){var f=b.___zrEVENTSAVED||(b.___zrEVENTSAVED={}),g=f.markers;if(!g){g=f.markers=[];for(var h=["left","right"],k=["top","bottom"],l=0;l<4;l++){var m=document.createElement("div"),n=l%2,p=(l>>1)%2;m.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",h[n]+":0",k[p]+":0",h[1-n]+":auto",k[1-p]+":auto",""].join("!important;");b.appendChild(m);g.push(m)}}b=g;g=e?"invTrans":"trans";h=f[g];k=f.srcCoords;l=!0;
m=[];n=[];for(p=0;p<4;p++){var q=b[p].getBoundingClientRect(),t=2*p,r=q.left;q=q.top;m.push(r,q);l=l&&k&&r===k[t]&&q===k[t+1];n.push(b[p].offsetLeft,b[p].offsetTop)}if(e=l&&h?h:(f.srcCoords=m,f[g]=e?Fq(n,m):Fq(m,n)))return e(a,c,d),!0}return!1}function el(a,b,c,d){c=c||{};d||!da.canvasSupported?Gq(a,b,c):da.browser.firefox&&b.layerX!=null&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):b.offsetX!=null?(c.zrX=b.offsetX,c.zrY=b.offsetY):Gq(a,b,c);return c}function Gq(a,b,c){if(da.domSupported&&
a.getBoundingClientRect){var d=b.clientX;b=b.clientY;if(a.nodeName.toUpperCase()==="CANVAS"){a=a.getBoundingClientRect();c.zrX=d-a.left;c.zrY=b-a.top;return}if(dl(fl,a,d,b)){c.zrX=fl[0];c.zrY=fl[1];return}}c.zrX=c.zrY=0}function pc(a,b,c){b=b||window.event;if(b.zrX!=null)return b;var d=b.type;d&&d.indexOf("touch")>=0?(d=d!=="touchend"?b.targetTouches[0]:b.changedTouches[0])&&el(a,d,b,c):(el(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;b.which==null&&a!==void 0&&Vz.test(b.type)&&
(b.which=a&1?1:a&2?3:a&4?2:0);return b}function gl(a,b,c,d){hl?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}function Hq(a){var b=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(b*b+a*a)}function Wz(){fe(this.event)}function Iq(){}function Jq(a,b,c){a=a.painter;return b<0||b>a.getWidth()||c<0||c>a.getHeight()}function mb(){var a=new Xz(6);ef(a);return a}function ef(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function ng(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=
b[5];return a}function jd(a,b,c){var d=b[1]*c[0]+b[3]*c[1],e=b[0]*c[2]+b[2]*c[3],f=b[1]*c[2]+b[3]*c[3],g=b[0]*c[4]+b[2]*c[5]+b[4],h=b[1]*c[4]+b[3]*c[5]+b[5];a[0]=b[0]*c[0]+b[2]*c[1];a[1]=d;a[2]=e;a[3]=f;a[4]=g;a[5]=h;return a}function Yb(a,b,c){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4]+c[0];a[5]=b[5]+c[1];return a}function Pc(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3];b=b[5];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+g*k;a[1]=-d*k+g*c;a[2]=e*c+h*k;a[3]=-e*k+c*h;a[4]=c*f+k*b;a[5]=c*b-k*f;
return a}function og(a,b,c){var d=c[0];c=c[1];a[0]=b[0]*d;a[1]=b[1]*c;a[2]=b[2]*d;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*c;return a}function di(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3];b=b[5];var h=c*g-f*d;if(!h)return null;h=1/h;a[0]=g*h;a[1]=-f*h;a[2]=-d*h;a[3]=c*h;a[4]=(d*b-g*e)*h;a[5]=(f*e-c*b)*h;return a}function Kq(a){var b=mb();ng(b,a);return b}function ge(a){return a>5E-5||a<-5E-5}function il(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=
a.loop==null?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}function Zb(a){a=Math.round(a);return a<0?0:a>255?255:a}function pg(a){return a<0?0:a>1?1:a}function jl(a){return a.length&&a.charAt(a.length-1)==="%"?Zb(parseFloat(a)/100*255):Zb(parseInt(a,10))}function ff(a){return a.length&&a.charAt(a.length-1)==="%"?pg(parseFloat(a)/100):pg(parseFloat(a))}function kl(a,b,c){c<0?
c+=1:c>1&&--c;return c*6<1?a+(b-a)*c*6:c*2<1?b:c*3<2?a+(b-a)*(2/3-c)*6:a}function kd(a,b,c){return a+(b-a)*c}function $b(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function ll(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function gf(a,b){ei&&ll(ei,b);ei=Lq.put(a,ei||b.slice())}function vb(a,b){if(a){b=b||[];var c=Lq.get(a);if(c)return ll(b,c);a+="";var d=a.replace(/ /g,"").toLowerCase();if(d in Mq)return ll(b,Mq[d]),gf(a,b),b;if(d.charAt(0)==="#"){if(d.length===4){c=parseInt(d.substr(1),
16);if(!(c>=0&&c<=4095)){$b(b,0,0,0,1);return}$b(b,(c&3840)>>4|(c&3840)>>8,c&240|(c&240)>>4,c&15|(c&15)<<4,1);gf(a,b);return b}if(d.length===7){c=parseInt(d.substr(1),16);if(c>=0&&c<=16777215)return $b(b,(c&16711680)>>16,(c&65280)>>8,c&255,1),gf(a,b),b;$b(b,0,0,0,1)}}else{var e=d.indexOf("("),f=d.indexOf(")");if(e!==-1&&f+1===d.length)switch(c=d.substr(0,e),d=d.substr(e+1,f-(e+1)).split(","),e=1,c){case "rgba":if(d.length!==4){$b(b,0,0,0,1);return}e=ff(d.pop());case "rgb":if(d.length!==3){$b(b,0,
0,0,1);return}$b(b,jl(d[0]),jl(d[1]),jl(d[2]),e);gf(a,b);return b;case "hsla":if(d.length!==4){$b(b,0,0,0,1);return}d[3]=ff(d[3]);ml(d,b);gf(a,b);return b;case "hsl":if(d.length!==3){$b(b,0,0,0,1);return}ml(d,b);gf(a,b);return b;default:return}$b(b,0,0,0,1)}}}function ml(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=ff(a[1]),e=ff(a[2]);d=e<=.5?e*(d+1):e+d-e*d;e=e*2-d;b=b||[];$b(b,Zb(kl(e,d,c+1/3)*255),Zb(kl(e,d,c)*255),Zb(kl(e,d,c-1/3)*255),1);a.length===4&&(b[3]=a[3]);return b}function Nq(a,b){var c=
vb(a);if(c){for(var d=0;d<3;d++)c[d]=b<0?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0,c[d]>255?c[d]=255:a[d]<0&&(c[d]=0);return Qc(c,c.length===4?"rgba":"rgb")}}function nl(a){if(a=vb(a))return(16777216+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function qg(a,b,c){if(b&&b.length&&a>=0&&a<=1){c=c||[];var d=a*(b.length-1),e=Math.floor(d);a=b[e];b=b[Math.ceil(d)];d-=e;c[0]=Zb(kd(a[0],b[0],d));c[1]=Zb(kd(a[1],b[1],d));c[2]=Zb(kd(a[2],b[2],d));c[3]=pg(kd(a[3],b[3],d));return c}}function Oq(a,b,c){if(b&&b.length&&
a>=0&&a<=1){a*=b.length-1;var d=Math.floor(a),e=Math.ceil(a),f=vb(b[d]);b=vb(b[e]);var g=a-d;f=Qc([Zb(kd(f[0],b[0],g)),Zb(kd(f[1],b[1],g)),Zb(kd(f[2],b[2],g)),pg(kd(f[3],b[3],g))],"rgba");return c?{color:f,leftIndex:d,rightIndex:e,value:a}:f}}function hf(a,b,c,d){if(a=vb(a)){if(a){var e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),k=Math.max(e,f,g),l=k-h,m=(k+h)/2,n;if(l===0)h=n=0;else{h=m<.5?l/(k+h):l/(2-k-h);var p=((k-e)/6+l/2)/l,q=((k-f)/6+l/2)/l;l=((k-g)/6+l/2)/l;e===k?n=l-q:f===k?n=1/3+p-
l:g===k&&(n=2/3+q-p);n<0&&(n+=1);n>1&&--n}e=[n*360,h,m];a[3]!=null&&e.push(a[3]);a=e}else a=void 0;b!=null&&(b=Math.round(b),a[0]=b<0?0:b>360?360:b);c!=null&&(a[1]=ff(c));d!=null&&(a[2]=ff(d));return Qc(ml(a),"rgba")}}function fi(a,b){if((a=vb(a))&&b!=null)return a[3]=pg(b),Qc(a,"rgba")}function Qc(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];if(b==="rgba"||b==="hsva"||b==="hsla")c+=","+a[3];return b+"("+c+")"}}function Yz(a,b){return a[b]}function Zz(a,b,c){a[b]=c}function Pq(a,b,c,d,e){var f=
a.length;if(e===1)for(e=0;e<f;e++){var g=a[e];d[e]=(b[e]-g)*c+g}else for(g=f&&a[0].length,e=0;e<f;e++)for(var h=0;h<g;h++){var k=a[e][h];d[e][h]=(b[e][h]-k)*c+k}}function Qq(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(;d<e;d++)a.push(c===1?b[d]:ol.call(b[d]));e=a[0]&&a[0].length;for(d=0;d<a.length;d++)if(c===1)isNaN(a[d])&&(a[d]=b[d]);else for(var f=0;f<e;f++)isNaN(a[d][f])&&(a[d][f]=b[d][f])}function $z(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(c===
1)for(c=0;c<d;c++){if(a[c]!==b[c])return!1}else{var e=a[0].length;for(c=0;c<d;c++)for(var f=0;f<e;f++)if(a[c][f]!==b[c][f])return!1}return!0}function Rq(a,b,c,d,e,f,g,h,k){var l=a.length;if(k===1)for(k=0;k<l;k++)h[k]=pl(a[k],b[k],c[k],d[k],e,f,g);else{var m=a[0].length;for(k=0;k<l;k++)for(var n=0;n<m;n++)h[k][n]=pl(a[k][n],b[k][n],c[k][n],d[k][n],e,f,g)}}function pl(a,b,c,d,e,f,g){a=(c-a)*.5;d=(d-b)*.5;return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function Sq(a){a[0]=Math.floor(a[0]);a[1]=Math.floor(a[1]);
a[2]=Math.floor(a[2]);return"rgba("+a.join(",")+")"}function aA(a){a=a[a.length-1].value;return Lc(a&&a[0])?2:1}function bA(a,b,c,d,e,f){var g=a._getter,h=a._setter,k=b==="spline",l=d.length;if(l){var m=Lc(d[0].value),n=!1,p=!1,q=m?aA(d):0;d.sort(function(S,N){return S.time-N.time});for(var t=d[l-1].time,r=[],u=[],v=d[0].value,x=!0,w=0;w<l;w++){r.push(d[w].time/t);var z=d[w].value;m&&$z(z,v,q)||!m&&z===v||(x=!1);v=z;if(typeof z==="string"){var A=vb(z);A?(z=A,n=!0):p=!0}u.push(z)}if(f||!x){d=u[l-1];
for(w=0;w<l-1;w++)m?Qq(u[w],d,q):!isNaN(u[w])||isNaN(d)||p||n||(u[w]=d);m&&Qq(g(a._target,e),d,q);var B=0,C=0,D,E,P,W,M;if(n)var J=[0,0,0,0];a=new il({target:a._target,life:t,loop:a._loop,delay:a._delay,onframe:function(S,N){if(N<0)var K=0;else if(N<C){for(K=Math.min(B+1,l-1);K>=0&&!(r[K]<=N);K--);K=Math.min(K,l-2)}else{for(K=B;K<l&&!(r[K]>N);K++);K=Math.min(K-1,l-2)}B=K;C=N;var Z=r[K+1]-r[K];if(Z!==0)if(D=(N-r[K])/Z,k)if(P=u[K],E=u[K===0?K:K-1],W=u[K>l-2?l-1:K+1],M=u[K>l-3?l-1:K+2],m)Rq(E,P,W,M,
D,D*D,D*D*D,g(S,e),q);else{if(n)Rq(E,P,W,M,D,D*D,D*D*D,J,1),K=Sq(J);else{if(p)return D>.5?W:P;K=pl(E,P,W,M,D,D*D,D*D*D)}h(S,e,K)}else if(m)Pq(u[K],u[K+1],D,g(S,e),q);else{if(n)Pq(u[K],u[K+1],D,J,1),K=Sq(J);else{if(p)return D>.5?u[K+1]:u[K];N=u[K];K=(u[K+1]-N)*D+N}h(S,e,K)}},ondestroy:c});b&&b!=="spline"&&(a.easing=b);return a}}}function Tq(a,b,c,d,e,f,g,h){function k(){l--;l||f&&f()}va(d)?(f=e,e=d,d=0):Oa(e)?(f=e,e="linear",d=0):Oa(d)?(f=d,d=0):Oa(c)?(f=c,c=500):c||(c=500);a.stopAnimation();Uq(a,
"",a,b,c,d,h);a=a.animators.slice();var l=a.length;l||f&&f();for(b=0;b<a.length;b++)a[b].done(k).start(e,g)}function Uq(a,b,c,d,e,f,g){var h={},k=0,l;for(l in d)d.hasOwnProperty(l)&&(c[l]!=null?X(d[l])&&!Lc(d[l])?Uq(a,b?b+"."+l:l,c[l],d[l],e,f,g):(g?(h[l]=c[l],Vq(a,b,l,d[l])):h[l]=d[l],k++):d[l]==null||g||Vq(a,b,l,d[l]));k>0&&a.animate(b,!1).when(e==null?500:e,h).delay(f||0)}function Vq(a,b,c,d){if(b){var e={};e[b]={};e[b][c]=d;a.attr(e)}else a.attr(c,d)}function ea(a,b,c,d){c<0&&(a+=c,c=-c);d<0&&
(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function Wq(a,b,c,d){var e=b+1;if(e===c)return 1;if(d(a[e++],a[b])<0){for(;e<c&&d(a[e],a[e-1])<0;)e++;c=b;d=e;for(d--;c<d;){var f=a[c];a[c++]=a[d];a[d--]=f}}else for(;e<c&&d(a[e],a[e-1])>=0;)e++;return e-b}function Xq(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f=a[d],g=b,h=d,k;g<h;)k=g+h>>>1,e(f,a[k])<0?h=k:g=k+1;h=d-g;switch(h){case 3:a[g+3]=a[g+2];case 2:a[g+2]=a[g+1];case 1:a[g+1]=a[g];break;default:for(;h>0;)a[g+h]=a[g+h-1],h--}a[g]=f}}
function ql(a,b,c,d,e,f){var g=0,h=1;if(f(a,b[c+e])>0){for(d-=e;h<d&&f(a,b[c+e+h])>0;)g=h,h=(h<<1)+1,h<=0&&(h=d);h>d&&(h=d);g+=e;h+=e}else{for(d=e+1;h<d&&f(a,b[c+e-h])<=0;)g=h,h=(h<<1)+1,h<=0&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}for(g++;g<h;)e=g+(h-g>>>1),f(a,b[c+e])>0?g=e+1:h=e;return h}function rl(a,b,c,d,e,f){var g=0,h=1;if(f(a,b[c+e])<0){for(d=e+1;h<d&&f(a,b[c+e-h])<0;)g=h,h=(h<<1)+1,h<=0&&(h=d);h>d&&(h=d);d=g;g=e-h;h=e-d}else{for(d-=e;h<d&&f(a,b[c+e+h])>=0;)g=h,h=(h<<1)+1,h<=0&&(h=d);h>d&&(h=d);
g+=e;h+=e}for(g++;g<h;)e=g+(h-g>>>1),f(a,b[c+e])<0?h=e:g=e+1;return h}function cA(a,b){function c(k){var l=g[k],m=h[k],n=g[k+1],p=h[k+1];h[k]=m+p;k===e-3&&(g[k+1]=g[k+2],h[k+1]=h[k+2]);e--;k=rl(a[n],a,l,m,0,b);l+=k;m-=k;if(m!==0&&(p=ql(a[l+m-1],a,n,p,p-1,b),p!==0))if(m<=p){var q=l;l=m;m=p;for(p=0;p<l;p++)f[p]=a[q+p];k=0;a[q++]=a[n++];if(--m===0)for(p=0;p<l;p++)a[q+p]=f[k+p];else if(l===1){for(p=0;p<m;p++)a[q+p]=a[n+p];a[q+m]=f[k]}else{for(var t=d,r,u,v;;){u=r=0;v=!1;do if(b(a[n],f[k])<0){if(a[q++]=
a[n++],u++,r=0,--m===0){v=!0;break}}else if(a[q++]=f[k++],r++,u=0,--l===1){v=!0;break}while((r|u)<t);if(v)break;do{r=rl(a[n],f,k,l,0,b);if(r!==0){for(p=0;p<r;p++)a[q+p]=f[k+p];q+=r;k+=r;l-=r;if(l<=1){v=!0;break}}a[q++]=a[n++];if(--m===0){v=!0;break}u=ql(f[k],a,n,m,0,b);if(u!==0){for(p=0;p<u;p++)a[q+p]=a[n+p];q+=u;n+=u;m-=u;if(m===0){v=!0;break}}a[q++]=f[k++];if(--l===1){v=!0;break}t--}while(r>=7||u>=7);if(v)break;t<0&&(t=0);t+=2}d=t;d<1&&(d=1);if(l===1){for(p=0;p<m;p++)a[q+p]=a[n+p];a[q+m]=f[k]}else{if(l===
0)throw Error();for(p=0;p<l;p++)a[q+p]=f[k+p]}}}else{for(k=0;k<p;k++)f[k]=a[n+k];q=l+m-1;t=p-1;n=n+p-1;a[n--]=a[q--];if(--m===0)for(r=n-(p-1),k=0;k<p;k++)a[r+k]=f[k];else if(p===1){n-=m;u=n+1;r=q-m+1;for(k=m-1;k>=0;k--)a[u+k]=a[r+k];a[n]=f[t]}else{for(v=d;;){var x=0,w=0,z=!1;do if(b(f[t],a[q])<0){if(a[n--]=a[q--],x++,w=0,--m===0){z=!0;break}}else if(a[n--]=f[t--],w++,x=0,--p===1){z=!0;break}while((x|w)<v);if(z)break;do{x=m-rl(f[t],a,l,m,m-1,b);if(x!==0){n-=x;q-=x;m-=x;u=n+1;r=q+1;for(k=x-1;k>=0;k--)a[u+
k]=a[r+k];if(m===0){z=!0;break}}a[n--]=f[t--];if(--p===1){z=!0;break}w=p-ql(a[q],f,0,p,p-1,b);if(w!==0){n-=w;t-=w;p-=w;u=n+1;r=t+1;for(k=0;k<w;k++)a[u+k]=f[r+k];if(p<=1){z=!0;break}}a[n--]=a[q--];if(--m===0){z=!0;break}v--}while(x>=7||w>=7);if(z)break;v<0&&(v=0);v+=2}d=v;d<1&&(d=1);if(p===1){n-=m;u=n+1;r=q-m+1;for(k=m-1;k>=0;k--)a[u+k]=a[r+k];a[n]=f[t]}else{if(p===0)throw Error();r=n-(p-1);for(k=0;k<p;k++)a[r+k]=f[k]}}}}var d=7,e=0,f=[],g=[],h=[];this.mergeRuns=function(){for(;e>1;){var k=e-2;if(k>=
1&&h[k-1]<=h[k]+h[k+1]||k>=2&&h[k-2]<=h[k]+h[k-1])h[k-1]<h[k+1]&&k--;else if(h[k]>h[k+1])break;c(k)}};this.forceMergeRuns=function(){for(;e>1;){var k=e-2;k>0&&h[k-1]<h[k+1]&&k--;c(k)}};this.pushRun=function(k,l){g[e]=k;h[e]=l;e+=1}}function gi(a,b,c,d){c||(c=0);d||(d=a.length);var e=d-c;if(!(e<2))if(e<32){var f=Wq(a,c,d,b);Xq(a,c,d,c+f,b)}else{var g=new cA(a,b),h;f=e;for(h=0;f>=32;)h|=f&1,f>>=1;h=f+h;do{f=Wq(a,c,d,b);if(f<h){var k=e;k>h&&(k=h);Xq(a,c,c+k,c+f,b);f=k}g.pushRun(c,f);g.mergeRuns();e-=
f;c+=f}while(e!==0);g.forceMergeRuns()}}function Yq(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function dA(a,b,c){var d=b.x==null?0:b.x,e=b.x2==null?1:b.x2,f=b.y==null?0:b.y,g=b.y2==null?0:b.y2;b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y);d=isNaN(d)?0:d;e=isNaN(e)?1:e;f=isNaN(f)?0:f;g=isNaN(g)?0:g;return a.createLinearGradient(d,f,e,g)}function eA(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=b.x==null?.5:b.x,h=b.y==null?.5:b.y,
k=b.r==null?.5:b.r;b.global||(g=g*d+c.x,h=h*e+c.y,k*=f);return a.createRadialGradient(g,h,0,g,h,k)}function fA(){return!1}function Zq(a,b,c){var d=$e(),e=b.getWidth();b=b.getHeight();var f=d.style;f&&(f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=b+"px",d.setAttribute("data-zr-dom-id",a));d.width=e*c;d.height=b*c;return d}function $q(a,b,c,d,e){if(a){if(typeof a==="string"){if(b&&b.__zrImageSrc===a||!c)return b;var f=sl.get(a);c={hostEl:c,cb:d,cbPayload:e};f?(b=f.image)&&b.width&&
b.height||f.pending.push(c):(b=new Image,b.onload=b.onerror=gA,sl.put(a,b.__cachedImgObj={image:b,pending:[c]}),b.src=b.__zrImageSrc=a);return b}return a}return b}function gA(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function hA(a,b){ar[a]=b}function wb(a,b){b=b||"12px sans-serif";var c=a+":"+b;if(hi[c])return hi[c];a=(a+"").split("\n");for(var d=
0,e=0,f=a.length;e<f;e++)d=Math.max(ar.measureText(a[e],b).width,d);tl>5E3&&(tl=0,hi={});tl++;return hi[c]=d}function qc(a,b,c,d,e,f,g,h){g?(e=ul(a,{rich:g,truncate:h,font:b,textAlign:c,textPadding:e,textLineHeight:f}),f=e.outerWidth,e=e.outerHeight,c=rg(0,f,c),d=jf(0,e,d),d=new ea(c,d,f,e)):(f=vl(a,b,e,f,h),a=wb(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=rg(0,a,c),d=jf(0,e,d),d=new ea(c,d,a,e),d.lineHeight=f.lineHeight);return d}function rg(a,b,c){c==="right"?a-=b:c==="center"&&(a-=b/2);return a}function jf(a,
b,c){c==="middle"?a-=b/2:c==="bottom"&&(a-=b);return a}function wl(a,b,c){var d=b.textPosition;b=b.textDistance;var e=c.x,f=c.y;b=b||0;var g=c.height;c=c.width;var h=g/2,k="left",l="top";switch(d){case "left":e-=b;f+=h;k="right";l="middle";break;case "right":e+=b+c;f+=h;l="middle";break;case "top":e+=c/2;f-=b;k="center";l="bottom";break;case "bottom":e+=c/2;f+=g+b;k="center";break;case "inside":e+=c/2;f+=h;k="center";l="middle";break;case "insideLeft":e+=b;f+=h;l="middle";break;case "insideRight":e+=
c-b;f+=h;k="right";l="middle";break;case "insideTop":e+=c/2;f+=b;k="center";break;case "insideBottom":e+=c/2;f+=g-b;k="center";l="bottom";break;case "insideTopLeft":e+=b;f+=b;break;case "insideTopRight":e+=c-b;f+=b;k="right";break;case "insideBottomLeft":e+=b;f+=g-b;l="bottom";break;case "insideBottomRight":e+=c-b,f+=g-b,k="right",l="bottom"}a=a||{};a.x=e;a.y=f;a.textAlign=k;a.textVerticalAlign=l;return a}function xl(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");e=br(b,c,d,e);b=0;for(c=a.length;b<
c;b++)a[b]=cr(a[b],e);return a.join("\n")}function br(a,b,c,d){d=U({},d);d.font=b;c=Ia(c,"...");d.maxIterations=Ia(d.maxIterations,2);var e=d.minChar=Ia(d.minChar,0);d.cnCharWidth=wb("\u56fd",b);var f=d.ascCharWidth=wb("a",b);d.placeholder=Ia(d.placeholder,"");for(var g=a=Math.max(0,a-1),h=0;h<e&&g>=f;h++)g-=f;b=wb(c,b);b>g&&(c="",b=0);d.ellipsis=c;d.ellipsisWidth=b;d.contentWidth=a-b;d.containerWidth=a;return d}function cr(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=
wb(a,d);if(f<=c)return a;for(c=0;;c++){if(f<=e||c>=b.maxIterations){a+=b.ellipsis;break}if(c===0){f=a;for(var g=e,h=b.ascCharWidth,k=b.cnCharWidth,l=0,m=0,n=f.length;m<n&&l<g;m++){var p=f.charCodeAt(m);l+=0<=p&&p<=127?h:k}f=m}else f=f>0?Math.floor(a.length*e/f):0;a=a.substr(0,f);f=wb(a,d)}a===""&&(a=b.placeholder);return a}function vl(a,b,c,d,e){a!=null&&(a+="");d=Ia(d,wb("\u56fd",b));var f=a?a.split("\n"):[],g=f.length*d,h=g,k=!0;c&&(h+=c[0]+c[2]);if(a&&e){k=!1;a=e.outerHeight;var l=e.outerWidth;
if(a!=null&&h>a)f=[];else if(l!=null)for(b=br(l-(c?c[1]+c[3]:0),b,e.ellipsis,{minChar:e.minChar,placeholder:e.placeholder}),c=0,e=f.length;c<e;c++)f[c]=cr(f[c],b)}return{lines:f,height:g,outerHeight:h,lineHeight:d,canCacheByTextString:k}}function ul(a,b){var c={lines:[],width:0,height:0};a!=null&&(a+="");if(!a)return c;for(var d=yl.lastIndex=0,e;(e=yl.exec(a))!=null;){var f=e.index;f>d&&zl(c,a.substring(d,f));zl(c,e[2],e[1]);d=yl.lastIndex}d<a.length&&zl(c,a.substring(d,a.length));a=c.lines;e=d=0;
f=[];var g=b.textPadding,h=b.truncate,k=h&&h.outerWidth,l=h&&h.outerHeight;g&&(k!=null&&(k-=g[1]+g[3]),l!=null&&(l-=g[0]+g[2]));for(var m=0;m<a.length;m++){for(var n=a[m],p=0,q=0,t=0;t<n.tokens.length;t++){var r=n.tokens[t],u=r.styleName&&b.rich[r.styleName]||{},v=r.textPadding=u.textPadding,x=r.font=u.font||b.font,w=r.textHeight=Ia(u.textHeight,wb("\u56fd",x));v&&(w+=v[0]+v[2]);r.height=w;r.lineHeight=oc(u.textLineHeight,b.textLineHeight,w);r.textAlign=u&&u.textAlign||b.textAlign;r.textVerticalAlign=
u&&u.textVerticalAlign||"middle";if(l!=null&&d+r.lineHeight>l)return{lines:[],width:0,height:0};r.textWidth=wb(r.text,x);var z=u.textWidth,A=z==null||z==="auto";if(typeof z==="string"&&z.charAt(z.length-1)==="%")r.percentWidth=z,f.push(r),z=0;else{if(A){z=r.textWidth;var B=u.textBackgroundColor;if(B=B&&B.image)typeof B==="string"&&(B=(B=sl.get(B))&&B.image),B&&B.width&&B.height&&(z=Math.max(z,B.width*w/B.height))}v=v?v[1]+v[3]:0;z+=v;w=k!=null?k-q:null;w!=null&&w<z&&(!A||w<v?(r.text="",r.textWidth=
z=0):(r.text=xl(r.text,w-v,x,h.ellipsis,{minChar:h.minChar}),r.textWidth=wb(r.text,x),z=r.textWidth+v))}q+=r.width=z;u&&(p=Math.max(p,r.lineHeight))}n.width=q;n.lineHeight=p;d+=p;e=Math.max(e,q)}c.outerWidth=c.width=Ia(b.textWidth,e);c.outerHeight=c.height=Ia(b.textHeight,d);g&&(c.outerWidth+=g[1]+g[3],c.outerHeight+=g[0]+g[2]);for(m=0;m<f.length;m++)r=f[m],r.width=parseInt(r.percentWidth,10)/100*e;return c}function zl(a,b,c){var d=b==="";b=b.split("\n");a=a.lines;for(var e=0;e<b.length;e++){var f=
b[e],g={styleName:c,text:f,isLineHolder:!f&&!d};if(e)a.push({tokens:[g]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,k=h.length;k===1&&h[0].isLineHolder?h[0]=g:(f||!k||d)&&h.push(g)}}}function dr(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return b&&Jb(b)||a.textFont||a.font}function er(a,b){var c=b.x,d=b.y,e=b.width,f=b.height,g=b.r,h,k,l;e<0&&(c+=e,e=-e);f<0&&(d+=f,f=-f);typeof g==="number"?b=h=k=l=g:g instanceof
Array?g.length===1?b=h=k=l=g[0]:g.length===2?(b=k=g[0],h=l=g[1]):g.length===3?(b=g[0],h=l=g[1],k=g[2]):(b=g[0],h=g[1],k=g[2],l=g[3]):b=h=k=l=0;b+h>e&&(g=b+h,b*=e/g,h*=e/g);k+l>e&&(g=k+l,k*=e/g,l*=e/g);h+k>f&&(g=h+k,h*=f/g,k*=f/g);b+l>f&&(g=b+l,b*=f/g,l*=f/g);a.moveTo(c+b,d);a.lineTo(c+e-h,d);h!==0&&a.arc(c+e-h,d+h,h,-Math.PI/2,0);a.lineTo(c+e,d+f-k);k!==0&&a.arc(c+e-k,d+f-k,k,0,Math.PI/2);a.lineTo(c+l,d+f);l!==0&&a.arc(c+l,d+f-l,l,Math.PI/2,Math.PI);a.lineTo(c,d+b);b!==0&&a.arc(c+b,d+b,b,Math.PI,
Math.PI*1.5)}function sg(a){fr(a);y(a.rich,fr);return a}function fr(a){if(a){a.font=dr(a);var b=a.textAlign;b==="middle"&&(b="center");a.textAlign=b==null||iA[b]?b:"left";b=a.textVerticalAlign||a.textBaseline;b==="center"&&(b="middle");a.textVerticalAlign=b==null||jA[b]?b:"top";a.textPadding&&(a.textPadding=Yk(a.textPadding))}}function gr(a,b,c,d,e,f){var g=Al(d),h=!1,k=b.__attrCachedBy===ld.PLAIN_TEXT;if(f!==9){if(f){var l=f.style;h=!g&&k&&l}b.__attrCachedBy=g?ld.NONE:ld.PLAIN_TEXT}else k&&(b.__attrCachedBy=
ld.NONE);f=d.font||"12px sans-serif";h&&f===(l.font||"12px sans-serif")||(b.font=f);var m=a.__computedFont;a.__styleFont!==f&&(a.__styleFont=f,m=a.__computedFont=b.font);var n=d.textPadding;f=d.textLineHeight;k=a.__textCotentBlock;if(!k||a.__dirtyText)k=a.__textCotentBlock=vl(c,m,n,f,d.truncate);var p=k.outerHeight;f=k.lines;k=k.lineHeight;var q=Bl(hr,a,d,e),t=q.baseX,r=q.baseY,u=q.textAlign||"left";q=q.textVerticalAlign;ir(b,d,e,t,r);q=jf(r,p,q);e=t;r=q;if(g||n)c=wb(c,m),n&&(c+=n[1]+n[3]),m=rg(t,
c,u),g&&Cl(a,b,d,m,q,c,p),n&&(e=jr(t,u,n),r+=n[0]);b.textAlign=u;b.textBaseline="middle";b.globalAlpha=d.opacity||1;for(a=0;a<kr.length;a++)g=kr[a],c=g[0],n=g[1],m=d[c],h&&m===l[c]||(b[n]=Dl(b,n,m||g[2]));r+=k/2;a=d.textStrokeWidth;g=h?l.textStrokeWidth:null;n=!h||a!==g;m=!h||n||d.textStroke!==l.textStroke;g=El(d.textStroke,a);c=lr(d.textFill);g&&(n&&(b.lineWidth=a),m&&(b.strokeStyle=g));!c||h&&d.textFill===l.textFill||(b.fillStyle=c);if(f.length===1)g&&b.strokeText(f[0],e,r),c&&b.fillText(f[0],e,
r);else for(a=0;a<f.length;a++)g&&b.strokeText(f[a],e,r),c&&b.fillText(f[a],e,r),r+=k}function mr(a,b,c,d,e,f){f!==9&&(b.__attrCachedBy=ld.NONE);f=a.__textCotentBlock;if(!f||a.__dirtyText)f=a.__textCotentBlock=ul(c,d);c=f;f=c.width;var g=c.outerWidth,h=c.outerHeight,k=d.textPadding,l=Bl(hr,a,d,e),m=l.baseX,n=l.baseY,p=l.textAlign;l=l.textVerticalAlign;ir(b,d,e,m,n);m=rg(m,g,p);p=jf(n,h,l);e=m;n=p;k&&(e+=k[3],n+=k[0]);k=e+f;Al(d)&&Cl(a,b,d,m,p,g,h);for(g=0;g<c.lines.length;g++){l=c.lines[g];h=l.tokens;
m=h.length;p=l.lineHeight;l=l.width;for(var q=0,t=e,r=k,u=m-1,v;q<m&&(v=h[q],!v.textAlign||v.textAlign==="left");)Fl(a,b,v,d,p,n,t,"left"),l-=v.width,t+=v.width,q++;for(;u>=0&&(v=h[u],v.textAlign==="right");)Fl(a,b,v,d,p,n,r,"right"),l-=v.width,r-=v.width,u--;for(t+=(f-(t-e)-(k-r)-l)/2;q<=u;)v=h[q],Fl(a,b,v,d,p,n,t+v.width/2,"center"),t+=v.width,q++;n+=p}}function ir(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;f==="center"?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y);a.translate(d,
e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function Fl(a,b,c,d,e,f,g,h){var k=d.rich[c.styleName]||{};k.text=c.text;var l=c.textVerticalAlign,m=f+e/2;l==="top"?m=f+c.height/2:l==="bottom"&&(m=f+e-c.height/2);!c.isLineHolder&&Al(k)&&Cl(a,b,k,h==="right"?g-c.width:h==="center"?g-c.width/2:g,m-c.height/2,c.width,c.height);if(a=c.textPadding)g=jr(g,h,a),m-=c.height/2-a[2]-c.textHeight/2;Ya(b,"shadowBlur",oc(k.textShadowBlur,d.textShadowBlur,0));Ya(b,"shadowColor",k.textShadowColor||d.textShadowColor||
"transparent");Ya(b,"shadowOffsetX",oc(k.textShadowOffsetX,d.textShadowOffsetX,0));Ya(b,"shadowOffsetY",oc(k.textShadowOffsetY,d.textShadowOffsetY,0));Ya(b,"textAlign",h);Ya(b,"textBaseline","middle");Ya(b,"font",c.font||"12px sans-serif");h=El(k.textStroke||d.textStroke,n);a=lr(k.textFill||d.textFill);var n=Ia(k.textStrokeWidth,d.textStrokeWidth);h&&(Ya(b,"lineWidth",n),Ya(b,"strokeStyle",h),b.strokeText(c.text,g,m));a&&(Ya(b,"fillStyle",a),b.fillText(c.text,g,m))}function Al(a){return!!(a.textBackgroundColor||
a.textBorderWidth&&a.textBorderColor)}function Cl(a,b,c,d,e,f,g){var h=c.textBackgroundColor,k=c.textBorderWidth,l=c.textBorderColor,m=va(h);Ya(b,"shadowBlur",c.textBoxShadowBlur||0);Ya(b,"shadowColor",c.textBoxShadowColor||"transparent");Ya(b,"shadowOffsetX",c.textBoxShadowOffsetX||0);Ya(b,"shadowOffsetY",c.textBoxShadowOffsetY||0);if(m||k&&l){b.beginPath();var n=c.textBorderRadius;n?er(b,{x:d,y:e,width:f,height:g,r:n}):b.rect(d,e,f,g);b.closePath()}m?(Ya(b,"fillStyle",h),c.fillOpacity!=null?(a=
b.globalAlpha,b.globalAlpha=c.fillOpacity*c.opacity,b.fill(),b.globalAlpha=a):b.fill()):X(h)&&(m=h.image,(m=$q(m,null,a,kA,h))&&m&&m.width&&m.height&&b.drawImage(m,d,e,f,g));k&&l&&(Ya(b,"lineWidth",k),Ya(b,"strokeStyle",l),c.strokeOpacity!=null?(a=b.globalAlpha,b.globalAlpha=c.strokeOpacity*c.opacity,b.stroke(),b.globalAlpha=a):b.stroke())}function kA(a,b){b.image=a}function Bl(a,b,c,d){var e=c.x||0,f=c.y||0,g=c.textAlign,h=c.textVerticalAlign;d&&(f=c.textPosition,f instanceof Array?(e=d.x+Gl(f[0],
d.width),f=d.y+Gl(f[1],d.height)):(b=b&&b.calculateTextPosition?b.calculateTextPosition(nr,c,d):wl(nr,c,d),e=b.x,f=b.y,g=g||b.textAlign,h=h||b.textVerticalAlign),c=c.textOffset)&&(e+=c[0],f+=c[1]);a=a||{};a.baseX=e;a.baseY=f;a.textAlign=g;a.textVerticalAlign=h;return a}function Ya(a,b,c){a[b]=Dl(a,b,c);return a[b]}function El(a,b){return a==null||b<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function lr(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function Gl(a,
b){return typeof a==="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function jr(a,b,c){return b==="right"?a-c[1]:b==="center"?a+c[3]/2-c[1]/2:a+c[3]}function Hl(a,b){return a!=null&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function nb(a){a=a||{};Rc.call(this,a);for(var b in a)a.hasOwnProperty(b)&&b!=="style"&&(this[b]=a[b]);this.style=new md(a.style,this);this.__clipPaths=this._rect=null}function Va(a){nb.call(this,a)}function lA(a,b){if(a===
b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0;return!1}function or(a){return a==="mousewheel"&&da.browser.firefox?"DOMMouseScroll":a}function Il(a){a=a.pointerType;return a==="pen"||a==="touch"}function mA(a){a.touching=!0;a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null);a.touchTimer=setTimeout(function(){a.touching=!1;a.touchTimer=null},700)}function pr(a,b){for(var c=b,d=!1;c&&c.nodeType!==9&&!(d=c.domBelongToZr||c!==b&&c===
a.painterRoot);)c=c.parentNode;return d}function qr(a,b){this.type=b.type;this.target=this.currentTarget=a.dom;this.pointerType=b.pointerType;this.clientX=b.clientX;this.clientY=b.clientY}function nA(a,b){var c=b.domHandlers;da.pointerEventsSupported?y(Jl.pointer,function(d){ii(b,d,function(e){c[d].call(a,e)})}):(da.touchEventsSupported&&y(Jl.touch,function(d){ii(b,d,function(e){c[d].call(a,e);mA(b)})}),y(Jl.mouse,function(d){ii(b,d,function(e){e=e||window.event;b.touching||c[d].call(a,e)})}))}function oA(a,
b){function c(d){ii(b,d,function(e){e=e||window.event;pr(a,e.target)||(e=pc(a.dom,new qr(a,e),!0),b.domHandlers[d].call(a,e))},{capture:!0})}da.pointerEventsSupported?y(rr.pointer,c):da.touchEventsSupported||y(rr.mouse,c)}function ii(a,b,c,d){a.mounted[b]=c;a.listenerOpts[b]=d;gl(a.domTarget,or(b),c,d)}function Kl(a){var b=a.mounted,c;for(c in b)if(b.hasOwnProperty(c)){var d=a.domTarget,e=or(c),f=b[c];hl?d.removeEventListener(e,f,a.listenerOpts[c]):d.detachEvent("on"+e,f)}a.mounted={}}function Ll(a,
b){a._mayPointerCapture=null;if(Ml&&a._pointerCapturing^b){a._pointerCapturing=b;var c=a._globalHandlerScope;b?oA(a,c):Kl(c)}}function sr(a,b){this.domTarget=a;this.domHandlers=b;this.mounted={};this.listenerOpts={};this.touchTimer=null;this.touching=!1}function Nl(a,b){Ra.call(this);this.dom=a;this.painterRoot=b;this._localHandlerScope=new sr(a,ac);Ml&&(this._globalHandlerScope=new sr(document,Ol));this._pointerCapturing=!1;this._mayPointerCapture=null;nA(this,this._localHandlerScope)}function Pl(a,
b){a=new Ql(tr++,a,b);return he[a.id]=a}function Za(a){return a instanceof Array?a:a==null?[]:[a]}function ie(a,b,c){if(a){a[b]=a[b]||{};a.emphasis=a.emphasis||{};a.emphasis[b]=a.emphasis[b]||{};for(var d=0,e=c.length;d<e;d++){var f=c[d];!a.emphasis[b].hasOwnProperty(f)&&a[b].hasOwnProperty(f)&&(a.emphasis[b][f]=a[b][f])}}}function tg(a){return!kf(a)||pA(a)||a instanceof Date?a:a.value}function Rl(a,b){b=(b||[]).slice();var c=H(a||[],function(d,e){return{exist:d}});lf(b,function(d,e){if(kf(d)){for(var f=
0;f<c.length;f++)if(!c[f].option&&d.id!=null&&c[f].exist.id===d.id+""){c[f].option=d;b[e]=null;return}for(f=0;f<c.length;f++){var g=c[f].exist;if(!(c[f].option||g.id!=null&&d.id!=null||d.name==null||ji(d)||ji(g))&&g.name===d.name+""){c[f].option=d;b[e]=null;break}}}});lf(b,function(d,e){if(kf(d)){for(e=0;e<c.length;e++){var f=c[e].exist;if(!c[e].option&&!ji(f)&&d.id==null){c[e].option=d;break}}e>=c.length&&c.push({option:d})}});return c}function ur(a){var b=aa();lf(a,function(c,d){(d=c.exist)&&b.set(d.id,
c)});lf(a,function(c,d){d=c.option;ja(!d||d.id==null||!b.get(d.id)||b.get(d.id)===c,"id duplicates: "+(d&&d.id));d&&d.id!=null&&b.set(d.id,c);!c.keyInfo&&(c.keyInfo={})});lf(a,function(c,d){var e=c.exist,f=c.option,g=c.keyInfo;if(kf(f)){g.name=f.name!=null?f.name+"":e?e.name:"series\x00"+d;if(e)g.id=e.id;else if(f.id!=null)g.id=f.id+"";else{d=0;do g.id="\x00"+g.name+"\x00"+d++;while(b.get(g.id))}b.set(g.id,c)}})}function Sl(a){a=a.name;return!(!a||!a.indexOf("series\x00"))}function ji(a){return kf(a)&&
a.id&&(a.id+"").indexOf("\x00_ec_\x00")===0}function qA(a,b){function c(g,h,k){for(var l=0,m=g.length;l<m;l++)for(var n=g[l].seriesId,p=Za(g[l].dataIndex),q=k&&k[n],t=0,r=p.length;t<r;t++){var u=p[t];q&&q[u]?q[u]=null:(h[n]||(h[n]={}))[u]=1}}function d(g,h){var k=[],l;for(l in g)if(g.hasOwnProperty(l)&&g[l]!=null)if(h)k.push(+l);else{var m=d(g[l],!0);m.length&&k.push({seriesId:l,dataIndex:m})}return k}var e={},f={};c(a||[],e);c(b||[],f,e);return[d(e),d(f)]}function ki(a,b){if(b.dataIndexInside!=null)return b.dataIndexInside;
if(b.dataIndex!=null)return F(b.dataIndex)?H(b.dataIndex,function(c){return a.indexOfRawIndex(c)}):a.indexOfRawIndex(b.dataIndex);if(b.name!=null)return F(b.name)?H(b.name,function(c){return a.indexOfName(c)}):a.indexOfName(b.name)}function ob(){var a="__\x00ec_inner_"+rA++ +"_"+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function ug(a,b,c){if(va(b)){var d={};d[b+"Index"]=0;b=d}d=c&&c.defaultMainType;!d||b&&b.hasOwnProperty(d+"Index")||b&&b.hasOwnProperty(d+"Id")||b&&b.hasOwnProperty(d+
"Name")||(b[d+"Index"]=0);var e={};lf(b,function(f,g){f=b[g];if(g==="dataIndex"||g==="dataIndexInside")e[g]=f;else{var h=g.match(/^(\w+)(Index|Id|Name)$/)||[];g=h[1];h=(h[2]||"").toLowerCase();if(!(!g||!h||f==null||h==="index"&&f==="none"||c&&c.includeMainTypes&&ma(c.includeMainTypes,g)<0)){var k={mainType:g};if(h!=="index"||f!=="all")k[h]=f;f=a.queryComponents(k);e[g+"Models"]=f;e[g+"Model"]=f[0]}}});return e}function vr(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function wr(a){return a===
"auto"?da.domSupported?"html":"richText":a||"html"}function Tl(a,b){var c=aa(),d=[];y(a,function(e){var f=b(e);(c.get(f)||(d.push(f),c.set(f,[]))).push(e)});return{keys:d,buckets:c}}function nd(a){var b={main:"",sub:""};a&&(a=a.split("."),b.main=a[0]||"",b.sub=a[1]||"");return b}function vg(a,b){a.$constructor=a;a.extend=function(c){I&&y(b,function(f){c[f]||console.warn("Method `"+f+"` should be implemented"+(c.type?" in "+c.type:"")+".")});var d=this,e=function(){c.$constructor?c.$constructor.apply(this,
arguments):d.apply(this,arguments)};U(e.prototype,c);e.extend=this.extend;e.superCall=sA;e.superApply=tA;ua(e,this);e.superClass=d;return e}}function li(a){var b=["__\x00is_clz",uA++,Math.random().toFixed(3)].join("_");a.prototype[b]=!0;I&&ja(!a.isInstance,'The method "is" can not be defined.');a.isInstance=function(c){return!(!c||!c[b])}}function sA(a,b){var c=bf(arguments,2);return this.superClass.prototype[b].apply(a,c)}function tA(a,b,c){return this.superClass.prototype[b].apply(a,c)}function mi(a,
b){b=b||{};var c={};a.registerClass=function(e,f){if(f){var g=f;ja(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(g),'componentType "'+g+'" illegal');f=nd(f);f.sub?f.sub!=="___EC__COMPONENT__CONTAINER___"&&(g=c[f.main],g&&g.___EC__COMPONENT__CONTAINER___||(g=c[f.main]={},g.___EC__COMPONENT__CONTAINER___=!0),g[f.sub]=e):(I&&c[f.main]&&console.warn(f.main+" exists."),c[f.main]=e)}return e};a.getClass=function(e,f,g){var h=c[e];h&&h.___EC__COMPONENT__CONTAINER___&&(h=f?h[f]:null);if(g&&!h)throw Error(f?"Component "+
e+"."+(f||"")+" not exists. Load it first.":e+".type should be specified.");return h};a.getClassesByMainType=function(e){e=nd(e);var f=[];(e=c[e.main])&&e.___EC__COMPONENT__CONTAINER___?y(e,function(g,h){h!=="___EC__COMPONENT__CONTAINER___"&&f.push(g)}):f.push(e);return f};a.hasClass=function(e){e=nd(e);return!!c[e.main]};a.getAllClassMainTypes=function(){var e=[];y(c,function(f,g){e.push(g)});return e};a.hasSubTypes=function(e){e=nd(e);return(e=c[e.main])&&e.___EC__COMPONENT__CONTAINER___};a.parseClassType=
nd;if(b.registerWhenExtend){var d=a.extend;d&&(a.extend=function(e){var f=d.call(this,e);return a.registerClass(f,e.type)})}return a}function od(a){return a>-1E-8&&a<1E-8}function Wa(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function xr(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function yr(a,b,c,d,e){var f=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(od(c)){if(f>1E-8||f<-1E-8)b=-b/f,b>=0&&b<=1&&(e[a++]=b)}else b=f*f-4*c*b,od(b)?e[0]=-f/(2*c):b>0&&(d=pd(b),
b=(-f+d)/(2*c),f=(-f-d)/(2*c),b>=0&&b<=1&&(e[a++]=b),f>=0&&f<=1&&(e[a++]=f));return a}function zr(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b;c=(d-c)*e+c;b=(h-g)*e+g;h=(c-h)*e+h;e=(h-b)*e+b;f[0]=a;f[1]=g;f[2]=b;f[3]=e;f[4]=e;f[5]=h;f[6]=c;f[7]=d}function hb(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function ni(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function Ar(a,b,c){c=a+c-2*b;return c===0?.5:(a-b)/c}function mf(a,b,c,d,e){var f=(b-a)*d+a;b=(c-b)*d+b;d=(b-f)*d+f;e[0]=a;e[1]=f;e[2]=d;e[3]=d;e[4]=
b;e[5]=c}function wg(a,b,c){if(a.length!==0){var d=a[0],e=d[0],f=d[0],g=d[1],h=d[1],k;for(k=1;k<a.length;k++)d=a[k],e=cb(e,d[0]),f=db(f,d[0]),g=cb(g,d[1]),h=db(h,d[1]);b[0]=e;b[1]=g;c[0]=f;c[1]=h}}function qd(a,b,c,d,e,f,g){if(e===0||g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a!==c)var h=(b-d)/(a-c);else return Math.abs(f-a)<=e/2;a=h*f-g+(a*d-c*b)/(a-c);return a*a/(h*h+1)<=e/2*e/2}function Br(a,b,c,d,e,f,g,h,k){if(g===0||k>b+g&&k>d+g&&k>f+g||k<b-g&&k<d-g&&k<f-g||h>a+g&&h>c+
g&&h>e+g||h<a-g&&h<c-g&&h<e-g)return!1;var l=.005,m=Infinity;rc[0]=h;rc[1]=k;for(k=0;k<1;k+=.05)if(Kb[0]=hb(a,c,e,k),Kb[1]=hb(b,d,f,k),h=rd(rc,Kb),h<m){var n=k;m=h}m=Infinity;for(k=0;k<32&&!(l<1E-4);k++){var p=n-l,q=n+l;Kb[0]=hb(a,c,e,p);Kb[1]=hb(b,d,f,p);h=rd(Kb,rc);p>=0&&h<m?(n=p,m=h):(nf[0]=hb(a,c,e,q),nf[1]=hb(b,d,f,q),h=rd(nf,rc),q<=1&&h<m?(n=q,m=h):l*=.5)}return pd(m)<=g/2}function sd(a){a%=Cr;a<0&&(a+=Cr);return a}function Sc(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=d<b?1:-1;
f=(f-b)/(d-b);if(f===1||f===0)g=d<b?.5:-.5;a=f*(c-a)+a;return a===e?Infinity:a>e?g:0}function Dr(a,b,c,d,e){for(var f=0,g=0,h=0,k=0,l=0,m=0;m<a.length;){var n=a[m++];n===td.M&&m>1&&(c||(f+=Sc(g,h,k,l,d,e)));m===1&&(g=a[m],h=a[m+1],k=g,l=h);switch(n){case td.M:k=a[m++];l=a[m++];g=k;h=l;break;case td.L:if(c){if(qd(g,h,a[m],a[m+1],b,d,e))return!0}else f+=Sc(g,h,a[m],a[m+1],d,e)||0;g=a[m++];h=a[m++];break;case td.C:if(c){var p=g,q=h,t=a[m++],r=a[m++],u=a[m++],v=a[m++],x=a[m],w=a[m+1];if(b===0)var z=!1;
else{var A=b;if(e>q+A&&e>r+A&&e>v+A&&e>w+A||e<q-A&&e<r-A&&e<v-A&&e<w-A||d>p+A&&d>t+A&&d>u+A&&d>x+A||d<p-A&&d<t-A&&d<u-A&&d<x-A)var B=!1;else{var C=void 0,D=void 0,E=void 0,P=void 0,W=void 0,M=p,J=q,S=t,N=r,K=u,Z=v,Ga=x,ib=w,of=e,bc=.005,ud=Infinity;rc[0]=d;rc[1]=of;for(var xg=0;xg<1;xg+=.05)Kb[0]=Wa(M,S,K,Ga,xg),Kb[1]=Wa(J,N,Z,ib,xg),D=rd(rc,Kb),D<ud&&(W=xg,ud=D);ud=Infinity;for(var Er=0;Er<32&&!(bc<1E-4);Er++)P=W-bc,E=W+bc,Kb[0]=Wa(M,S,K,Ga,P),Kb[1]=Wa(J,N,Z,ib,P),D=rd(Kb,rc),P>=0&&D<ud?(W=P,ud=
D):(nf[0]=Wa(M,S,K,Ga,E),nf[1]=Wa(J,N,Z,ib,E),C=rd(nf,rc),E<=1&&C<ud?(W=E,ud=C):bc*=.5);B=pd(ud)<=A/2}z=B}if(z)return!0}else{var vA=f,Ul=void 0,yg=void 0,wA=g,vd=h,xA=a[m++],pf=a[m++],yA=a[m++],qf=a[m++],zA=a[m],wd=a[m+1],AA=d;if(e>vd&&e>pf&&e>qf&&e>wd||e<vd&&e<pf&&e<qf&&e<wd)var Vl=0;else{var oi=vd,Wl=pf,Fr=qf,xd=jb,sc=wd+3*(Wl-Fr)-oi,pb=3*(Fr-Wl*2+oi),zg=3*(Wl-oi),Gr=oi-e,tc=pb*pb-3*sc*zg,je=pb*zg-9*sc*Gr,BA=zg*zg-3*pb*Gr,yd=0;if(od(tc)&&od(je))if(od(pb))xd[0]=0;else{var kb=-zg/pb;kb>=0&&kb<=1&&
(xd[yd++]=kb)}else{var Xl=je*je-4*tc*BA;if(od(Xl)){var Hr=je/tc;kb=-pb/sc+Hr;var ke=-Hr/2;kb>=0&&kb<=1&&(xd[yd++]=kb);ke>=0&&ke<=1&&(xd[yd++]=ke)}else if(Xl>0){var Ir=pd(Xl),Ag=tc*pb+1.5*sc*(-je+Ir),Bg=tc*pb+1.5*sc*(-je-Ir);Ag=Ag<0?-pi(-Ag,qi):pi(Ag,qi);Bg=Bg<0?-pi(-Bg,qi):pi(Bg,qi);kb=(-pb-(Ag+Bg))/(3*sc);kb>=0&&kb<=1&&(xd[yd++]=kb)}else{var CA=(2*tc*pb-3*sc*je)/(2*pd(tc*tc*tc)),Yl=Math.acos(CA)/3,Zl=pd(tc),$l=Math.cos(Yl);kb=(-pb-2*Zl*$l)/(3*sc);ke=(-pb+Zl*($l+Jr*Math.sin(Yl)))/(3*sc);var am=(-pb+
Zl*($l-Jr*Math.sin(Yl)))/(3*sc);kb>=0&&kb<=1&&(xd[yd++]=kb);ke>=0&&ke<=1&&(xd[yd++]=ke);am>=0&&am<=1&&(xd[yd++]=am)}}var Kr=yd;if(Kr===0)Vl=0;else{for(var le=0,Cg=-1,bm=0;bm<Kr;bm++){var rf=jb[bm],uc=rf===0||rf===1?.5:1;if(!(Wa(wA,xA,yA,zA,rf)<AA)){if(Cg<0){Cg=yr(vd,pf,qf,wd,Lb);if(Lb[1]<Lb[0]&&Cg>1){var DA=Lb[0];Lb[0]=Lb[1];Lb[1]=DA}yg=Wa(vd,pf,qf,wd,Lb[0]);Cg>1&&(Ul=Wa(vd,pf,qf,wd,Lb[1]))}le=Cg===2?rf<Lb[0]?le+(yg<vd?uc:-uc):rf<Lb[1]?le+(Ul<yg?uc:-uc):le+(wd<Ul?uc:-uc):rf<Lb[0]?le+(yg<vd?uc:-uc):
le+(wd<yg?uc:-uc)}}Vl=le}}f=vA+(Vl||0)}g=a[m++];h=a[m++];break;case td.Q:if(c){if(Br(g,h,a[m++],a[m++],a[m],a[m+1],b,d,e))return!0}else{var EA=f,Lr=g,me=h,Mr=a[m++],Dg=a[m++],Nr=a[m],ne=a[m+1],Or=d;if(e>me&&e>Dg&&e>ne||e<me&&e<Dg&&e<ne)var ri=0;else{var cm=me,Pr=Dg,si=jb,Eg=cm-2*Pr+ne,zd=2*(Pr-cm),Qr=cm-e,Fg=0;if(od(Eg)){if(zd>1E-8||zd<-1E-8){var cc=-Qr/zd;cc>=0&&cc<=1&&(si[Fg++]=cc)}}else{var dm=zd*zd-4*Eg*Qr;if(od(dm))cc=-zd/(2*Eg),cc>=0&&cc<=1&&(si[Fg++]=cc);else if(dm>0){var Rr=pd(dm);cc=(-zd+
Rr)/(2*Eg);var em=(-zd-Rr)/(2*Eg);cc>=0&&cc<=1&&(si[Fg++]=cc);em>=0&&em<=1&&(si[Fg++]=em)}}var Sr=Fg;if(Sr===0)ri=0;else{var ti=Ar(me,Dg,ne);if(ti>=0&&ti<=1){for(var ui=0,Tr=hb(me,Dg,ne,ti),sf=0;sf<Sr;sf++){var oe=jb[sf]===0||jb[sf]===1?.5:1,fm=hb(Lr,Mr,Nr,jb[sf]);fm<Or||(ui=jb[sf]<ti?ui+(Tr<me?oe:-oe):ui+(ne<Tr?oe:-oe))}ri=ui}else oe=jb[0]===0||jb[0]===1?.5:1,fm=hb(Lr,Mr,Nr,jb[0]),ri=fm<Or?0:ne<me?oe:-oe}}f=EA+(ri||0)}g=a[m++];h=a[m++];break;case td.A:var tf=a[m++],vi=a[m++],gm=a[m++],Gg=a[m++],
Ad=a[m++],wi=a[m++];m+=1;var Ur=1-a[m++],Tc=Math.cos(Ad)*gm+tf,Uc=Math.sin(Ad)*Gg+vi;m>1?f+=Sc(g,h,Tc,Uc,d,e):(k=Tc,l=Uc);var Vr=(d-tf)*Gg/gm+tf;if(c){var FA=tf,GA=vi,Wr=Gg,Bd=Ad,Vc=Ad+wi,HA=Ur,Xr=b,xi=Vr,yi=e;if(Xr===0)var zi=!1;else{var Yr=Xr;xi-=FA;yi-=GA;var Zr=Math.sqrt(xi*xi+yi*yi);if(Zr-Yr>Wr||Zr+Yr<Wr)zi=!1;else if(Math.abs(Bd-Vc)%Hg<1E-4)zi=!0;else{if(HA){var IA=Bd;Bd=sd(Vc);Vc=sd(IA)}else Bd=sd(Bd),Vc=sd(Vc);Bd>Vc&&(Vc+=Hg);var uf=Math.atan2(yi,xi);uf<0&&(uf+=Hg);zi=uf>=Bd&&uf<=Vc||uf+Hg>=
Bd&&uf+Hg<=Vc}}if(zi)return!0}else{var JA=f,hm=tf,Ai=Gg,Cd=Ad,Wc=Ad+wi,im=Ur,jm=Vr,vf=e;vf-=vi;if(vf>Ai||vf<-Ai)var Bi=0;else{var Ci=Math.sqrt(Ai*Ai-vf*vf);jb[0]=-Ci;jb[1]=Ci;var $r=Math.abs(Cd-Wc);if($r<1E-4)Bi=0;else if($r%Ig<1E-4)Bi=jm>=jb[0]+hm&&jm<=jb[1]+hm?im?1:-1:0;else{im?(Ci=Cd,Cd=sd(Wc),Wc=sd(Ci)):(Cd=sd(Cd),Wc=sd(Wc));Cd>Wc&&(Wc+=Ig);for(var as=0,km=0;km<2;km++){var bs=jb[km];if(bs+hm>jm){var Xc=Math.atan2(vf,bs),lm=im?1:-1;Xc<0&&(Xc=Ig+Xc);if(Xc>=Cd&&Xc<=Wc||Xc+Ig>=Cd&&Xc+Ig<=Wc)Xc>Math.PI/
2&&Xc<Math.PI*1.5&&(lm=-lm),as+=lm}}Bi=as}}f=JA+Bi}g=Math.cos(Ad+wi)*gm+tf;h=Math.sin(Ad+wi)*Gg+vi;break;case td.R:k=g=a[m++];l=h=a[m++];var KA=a[m++],LA=a[m++];Tc=k+KA;Uc=l+LA;if(c){if(qd(k,l,Tc,l,b,d,e)||qd(Tc,l,Tc,Uc,b,d,e)||qd(Tc,Uc,k,Uc,b,d,e)||qd(k,Uc,k,l,b,d,e))return!0}else f+=Sc(Tc,l,Tc,Uc,d,e),f+=Sc(k,Uc,k,l,d,e);break;case td.Z:if(c){if(qd(g,h,k,l,b,d,e))return!0}else f+=Sc(g,h,k,l,d,e);g=k;h=l}}c||Math.abs(h-l)<1E-4||(f+=Sc(g,h,k,l,d,e)||0);return f!==0}function ha(a){nb.call(this,a);
this.path=null}function cs(a,b,c,d,e,f,g,h,k,l,m){k*=Di/180;var n=Ei(k)*(a-c)/2+Fi(k)*(b-d)/2,p=-1*Fi(k)*(a-c)/2+Ei(k)*(b-d)/2,q=n*n/(g*g)+p*p/(h*h);q>1&&(g*=mm(q),h*=mm(q));q=(e===f?-1:1)*mm((g*g*(h*h)-g*g*(p*p)-h*h*(n*n))/(g*g*(p*p)+h*h*(n*n)))||0;e=q*g*p/h;q=q*-h*n/g;a=(a+c)/2+Ei(k)*e-Fi(k)*q;b=(b+d)/2+Fi(k)*e+Ei(k)*q;d=ds([1,0],[(n-e)/g,(p-q)/h]);c=[(n-e)/g,(p-q)/h];n=[(-1*n-e)/g,(-1*p-q)/h];p=ds(c,n);nm(c,n)<=-1&&(p=Di);nm(c,n)>=1&&(p=0);f===0&&p>0&&(p-=2*Di);f===1&&p<0&&(p+=2*Di);m.addData(l,
a,b,g,h,d,p,k,f)}function MA(a){if(!a)return new qb;var b=0,c=0,d=b,e=c,f=new qb,g=qb.CMD;a=a.match(NA);for(var h=0;h<a.length;h++){var k=a[h],l=k.charAt(0);k=k.match(OA)||[];for(var m=k.length,n=0;n<m;n++)k[n]=parseFloat(k[n]);for(n=0;n<m;)switch(l){case "l":b+=k[n++];c+=k[n++];var p=g.L;f.addData(p,b,c);break;case "L":b=k[n++];c=k[n++];p=g.L;f.addData(p,b,c);break;case "m":b+=k[n++];c+=k[n++];p=g.M;f.addData(p,b,c);d=b;e=c;l="l";break;case "M":b=k[n++];c=k[n++];p=g.M;f.addData(p,b,c);d=b;e=c;l=
"L";break;case "h":b+=k[n++];p=g.L;f.addData(p,b,c);break;case "H":b=k[n++];p=g.L;f.addData(p,b,c);break;case "v":c+=k[n++];p=g.L;f.addData(p,b,c);break;case "V":c=k[n++];p=g.L;f.addData(p,b,c);break;case "C":p=g.C;f.addData(p,k[n++],k[n++],k[n++],k[n++],k[n++],k[n++]);b=k[n-2];c=k[n-1];break;case "c":p=g.C;f.addData(p,k[n++]+b,k[n++]+c,k[n++]+b,k[n++]+c,k[n++]+b,k[n++]+c);b+=k[n-2];c+=k[n-1];break;case "S":var q=b,t=c;p=f.len();var r=f.data;z===g.C&&(q+=b-r[p-4],t+=c-r[p-3]);p=g.C;r=k[n++];var u=
k[n++];b=k[n++];c=k[n++];f.addData(p,q,t,r,u,b,c);break;case "s":q=b;t=c;p=f.len();r=f.data;z===g.C&&(q+=b-r[p-4],t+=c-r[p-3]);p=g.C;r=b+k[n++];u=c+k[n++];b+=k[n++];c+=k[n++];f.addData(p,q,t,r,u,b,c);break;case "Q":r=k[n++];u=k[n++];b=k[n++];c=k[n++];p=g.Q;f.addData(p,r,u,b,c);break;case "q":r=k[n++]+b;u=k[n++]+c;b+=k[n++];c+=k[n++];p=g.Q;f.addData(p,r,u,b,c);break;case "T":q=b;t=c;p=f.len();r=f.data;z===g.Q&&(q+=b-r[p-4],t+=c-r[p-3]);b=k[n++];c=k[n++];p=g.Q;f.addData(p,q,t,b,c);break;case "t":q=
b;t=c;p=f.len();r=f.data;z===g.Q&&(q+=b-r[p-4],t+=c-r[p-3]);b+=k[n++];c+=k[n++];p=g.Q;f.addData(p,q,t,b,c);break;case "A":q=k[n++];t=k[n++];var v=k[n++],x=k[n++],w=k[n++];r=b;u=c;b=k[n++];c=k[n++];p=g.A;cs(r,u,b,c,x,w,q,t,v,p,f);break;case "a":q=k[n++],t=k[n++],v=k[n++],x=k[n++],w=k[n++],r=b,u=c,b+=k[n++],c+=k[n++],p=g.A,cs(r,u,b,c,x,w,q,t,v,p,f)}if(l==="z"||l==="Z")p=g.Z,f.addData(p),b=d,c=e;var z=p}f.toStatic();return f}function om(a,b){var c=MA(a);b=b||{};b.buildPath=function(d){if(d.setData){d.setData(c.data);
var e=d.getContext();e&&d.rebuildPath(e)}else c.rebuildPath(d)};b.applyTransform=function(d){var e=c.data,f,g=wf.M,h=wf.C,k=wf.L,l=wf.R,m=wf.A,n=wf.Q;for(f=0;f<e.length;){var p=e[f++],q=f,t=0;switch(p){case g:t=1;break;case k:t=1;break;case h:t=3;break;case n:t=2;break;case m:q=d[4];p=d[5];var r=es(d[0]*d[0]+d[1]*d[1]),u=es(d[2]*d[2]+d[3]*d[3]),v=PA(-d[1]/u,d[0]/r);e[f]*=r;e[f++]+=q;e[f]*=u;e[f++]+=p;e[f++]*=r;e[f++]*=u;e[f++]+=v;e[f++]+=v;q=f+=2;break;case l:x[0]=e[f++],x[1]=e[f++],sa(x,x,d),e[q++]=
x[0],e[q++]=x[1],x[0]+=e[f++],x[1]+=e[f++],sa(x,x,d),e[q++]=x[0],e[q++]=x[1]}for(p=0;p<t;p++){var x=QA[p];x[0]=e[f++];x[1]=e[f++];sa(x,x,d);e[q++]=x[0];e[q++]=x[1]}}this.dirty(!0)};return b}function fs(a,b,c,d,e,f,g){a=(c-a)*.5;d=(d-b)*.5;return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function gs(a,b,c){var d=b.points,e=b.smooth;if(d&&d.length>=2){if(e&&e!=="spline"){var f=d,g=b.smoothConstraint;b=[];var h=[],k=[],l=[];if(g){for(var m=[Infinity,Infinity],n=[-Infinity,-Infinity],p=0,q=f.length;p<q;p++)Nc(m,
m,f[p]),Oc(n,n,f[p]);Nc(m,m,g[0]);Oc(n,n,g[1])}p=0;for(q=f.length;p<q;p++){var t=f[p];if(c)var r=f[p?p-1:q-1],u=f[(p+1)%q];else if(p===0||p===q-1){b.push(Xb(f[p]));continue}else r=f[p-1],u=f[p+1];Mc(h,u,r);bi(h,h,e);r=mg(t,r);u=mg(t,u);var v=r+u;v!==0&&(r/=v,u/=v);bi(k,h,-r);bi(l,h,u);r=al([],t,k);t=al([],t,l);g&&(Oc(r,r,m),Nc(r,r,n),Oc(t,t,m),Nc(t,t,n));b.push(r);b.push(t)}c&&b.push(b.shift());a.moveTo(d[0][0],d[0][1]);f=d.length;for(e=0;e<(c?f:f-1);e++)m=b[e*2],n=b[e*2+1],g=d[(e+1)%f],a.bezierCurveTo(m[0],
m[1],n[0],n[1],g[0],g[1])}else{if(e==="spline"){b=d.length;e=[];m=0;for(f=1;f<b;f++)m+=mg(d[f-1],d[f]);m/=2;m=m<b?b:m;for(f=0;f<m;f++)n=f/(m-1)*(c?b:b-1),l=Math.floor(n),n-=l,h=d[l%b],c?(g=d[(l-1+b)%b],k=d[(l+1)%b],l=d[(l+2)%b]):(g=d[l===0?l:l-1],k=d[l>b-2?b-1:l+1],l=d[l>b-3?b-1:l+2]),p=n*n,q=n*p,e.push([fs(g[0],h[0],k[0],l[0],n,p,q),fs(g[1],h[1],k[1],l[1],n,p,q)]);d=e}a.moveTo(d[0][0],d[0][1]);e=1;for(b=d.length;e<b;e++)a.lineTo(d[e][0],d[e][1])}c&&a.closePath()}}function hs(a,b,c){if(b){var d=b.x1,
e=b.x2,f=b.y1;b=b.y2;a.x1=d;a.x2=e;a.y1=f;a.y2=b;if(c=c&&c.lineWidth)xf(d*2)===xf(e*2)&&(a.x1=a.x2=pe(d,c,!0)),xf(f*2)===xf(b*2)&&(a.y1=a.y2=pe(f,c,!0))}}function is(a,b,c){if(b){var d=b.x,e=b.y,f=b.width;b=b.height;a.x=d;a.y=e;a.width=f;a.height=b;if(c=c&&c.lineWidth)a.x=pe(d,c,!0),a.y=pe(e,c,!0),a.width=Math.max(pe(d+f,c,!1)-a.x,f===0?0:1),a.height=Math.max(pe(e+b,c,!1)-a.y,b===0?0:1)}}function pe(a,b,c){if(!b)return a;a=xf(a*2);return(a+xf(b))%2===0?a/2:(a+(c?1:-1))/2}function js(a,b,c){var d=
a.cpy2;return a.cpx2===null||d===null?[(c?xr:Wa)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?xr:Wa)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?ni:hb)(a.x1,a.cpx1,a.x2,b),(c?ni:hb)(a.y1,a.cpy1,a.y2,b)]}function xb(a){nb.call(this,a);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function Mb(a){return ha.extend(a)}function pm(a){if(Nb.hasOwnProperty(a))return Nb[a]}function Gi(a,b,c,d){a=new ha(om(a,b));c&&(d==="center"&&(c=ks(c,a.getBoundingRect())),ls(a,c));return a}function ms(a,b,c){var d=
new Va({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(e){c==="center"&&d.setStyle(ks(b,{width:e.width,height:e.height}))}});return d}function ks(a,b){var c=b.width/b.height;b=a.height*c;b<=a.width?c=a.height:(b=a.width,c=b/c);return{x:a.x+a.width/2-b/2,y:a.y+a.height/2-c/2,width:b,height:c}}function ls(a,b){a.applyTransform&&(b=a.getBoundingRect().calculateTransform(b),a.applyTransform(b))}function Hi(a){return a!=null&&a!=="none"}function ns(a){if(typeof a!=="string")return a;
var b=os.get(a);b||(b=Nq(a,-.1),ps<1E4&&(os.set(a,b),ps++));return b}function qm(a){var b=a.__hoverStl;if(b&&!a.__highlighted){var c=a.__zr,d=a.useHoverLayer&&c&&c.painter.type==="canvas";a.__highlighted=d?"layer":"plain";if(!(a.isGroup||!c&&a.useHoverLayer)){var e=a,f=a.style;d&&(e=c.addHover(a),f=e.style);Ii(f);if(!d){var g=e;if(g.__hoverStlDirty)if(g.__hoverStlDirty=!1,c=g.__hoverStl){e=g.__cachedNormalStl={};g.__cachedNormalZ2=g.z2;g=g.style;for(var h in c)c[h]!=null&&(e[h]=g[h]);e.fill=g.fill;
e.stroke=g.stroke}else g.__cachedNormalStl=g.__cachedNormalZ2=null}f.extendFrom(b);h=f;!Hi(b.fill)&&Hi(h.fill)&&(h.fill=ns(h.fill));h=f;!Hi(b.stroke)&&Hi(h.stroke)&&(h.stroke=ns(h.stroke));Jg(f);d||(a.dirty(!1),a.z2+=1)}}}function rm(a){var b=a.__highlighted;if(b&&(a.__highlighted=!1,!a.isGroup))if(b==="layer")a.__zr&&a.__zr.removeHover(a);else{b=a.style;var c=a.__cachedNormalStl;c&&(Ii(b),a.setStyle(c),Jg(b));b=a.__cachedNormalZ2;b!=null&&a.z2-b===1&&(a.z2=b)}}function Kg(a,b,c){var d="normal",e=
"normal",f;a.__highlighted&&(d="emphasis",f=!0);b(a,c);a.__highlighted&&(e="emphasis",f=!0);a.isGroup&&a.traverse(function(g){!g.isGroup&&b(g,c)});f&&a.__highDownOnUpdate&&a.__highDownOnUpdate(d,e)}function Lg(a,b){a.__hoverStl=b!==!1&&(a.hoverStyle||b||{});a.__hoverStlDirty=!0;a.__highlighted&&(a.__cachedNormalStl=null,rm(a),qm(a))}function RA(a){this.__highDownSilentOnTouch&&a.zrByTouch||this.__highByOuter||Kg(this,qm)}function SA(a){this.__highDownSilentOnTouch&&a.zrByTouch||this.__highByOuter||
Kg(this,rm)}function TA(a){this.__highByOuter|=1<<(a||0);Kg(this,qm)}function UA(a){!(this.__highByOuter&=~(1<<(a||0)))&&Kg(this,rm)}function Aa(a,b){qe(a,!0);Kg(a,Lg,b)}function qe(a,b){b=b===!1;a.__highDownSilentOnTouch=a.highDownSilentOnTouch;a.__highDownOnUpdate=a.highDownOnUpdate;if(!b||a.__highDownDispatcher){var c=b?"off":"on";a[c]("mouseover",RA)[c]("mouseout",SA);a[c]("emphasis",TA)[c]("normal",UA);a.__highByOuter=a.__highByOuter||0;a.__highDownDispatcher=!b}}function Ji(a){return!(!a||!a.__highDownDispatcher)}
function qs(a){var b=rs[a];b==null&&ss<=32&&(b=rs[a]=ss++);return b}function yb(a,b,c,d,e,f,g){e=e||Ki;var h=e.labelFetcher,k=e.labelDataIndex,l=e.labelDimIndex,m=e.labelProp,n=c.getShallow("show"),p=d.getShallow("show"),q;if(n||p)h&&(q=h.getFormattedLabel(k,"normal",null,l,m)),q==null&&(q=Oa(e.defaultText)?e.defaultText(k,e):e.defaultText);n=n?q:null;h=p?Ia(h?h.getFormattedLabel(k,"emphasis",null,l,m):null,q):null;if(n!=null||h!=null)Ca(a,c,f,e),Ca(b,d,g,e,!0);a.text=n;b.text=h}function sm(a,b,c){var d=
a.style;b&&(Ii(d),a.setStyle(b),Jg(d));d=a.__hoverStl;c&&d&&(Ii(d),U(d,c),Jg(d))}function Ca(a,b,c,d,e){ts(a,b,d,e);c&&U(a,c);return a}function ts(a,b,c,d){c=c||Ki;if(c.isRectText){if(c.getTextPosition)var e=c.getTextPosition(b,d);else e=b.getShallow("position")||(d?null:"inside"),e==="outside"&&(e="top");a.textPosition=e;a.textOffset=b.getShallow("offset");e=b.getShallow("rotate");e!=null&&(e*=Math.PI/180);a.textRotation=e;a.textDistance=Ia(b.getShallow("distance"),d?null:5)}e=(e=b.ecModel)&&e.option.textStyle;
for(var f,g=b;g&&g!==g.ecModel;){var h=(g.option||Ki).rich;if(h){f=f||{};for(var k in h)h.hasOwnProperty(k)&&(f[k]=1)}g=g.parentModel}if(f){var l={},m;for(m in f)f.hasOwnProperty(m)&&(k=b.getModel(["rich",m]),us(l[m]={},k,e,c,d))}a.rich=l;us(a,b,e,c,d,!0);c.forceRich&&!c.textStyle&&(c.textStyle={});return a}function us(a,b,c,d,e,f){c=!e&&c||Ki;a.textFill=Li(b.getShallow("color"),d)||c.color;a.textStroke=Li(b.getShallow("textBorderColor"),d)||c.textBorderColor;a.textStrokeWidth=Ia(b.getShallow("textBorderWidth"),
c.textBorderWidth);e||(f&&(a.insideRollbackOpt=d,Jg(a)),a.textFill==null&&(a.textFill=d.autoColor));a.fontStyle=b.getShallow("fontStyle")||c.fontStyle;a.fontWeight=b.getShallow("fontWeight")||c.fontWeight;a.fontSize=b.getShallow("fontSize")||c.fontSize;a.fontFamily=b.getShallow("fontFamily")||c.fontFamily;a.textAlign=b.getShallow("align");a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline");a.textLineHeight=b.getShallow("lineHeight");a.textWidth=b.getShallow("width");a.textHeight=
b.getShallow("height");a.textTag=b.getShallow("tag");f&&d.disableBox||(a.textBackgroundColor=Li(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=Li(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY"));
a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor;a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur;a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX;a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function Li(a,b){return a!=="auto"?a:b&&b.autoColor?b.autoColor:null}function Jg(a){var b=a.textPosition,c=a.insideRollbackOpt;if(c&&a.textFill==null){var d=c.autoColor,e=c.isRectText;c=c.useInsideStyle;b=c!==!1&&(c===
!0||e&&b&&typeof b==="string"&&b.indexOf("inside")>=0);e=!b&&d!=null;if(b||e)var f={textFill:a.textFill,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth};b&&(a.textFill="#fff",a.textStroke==null&&(a.textStroke=d,a.textStrokeWidth==null&&(a.textStrokeWidth=2)));e&&(a.textFill=d)}a.insideRollback=f}function Ii(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth,a.insideRollback=null)}function tm(a,b){b=b&&b.getModel("textStyle");
return Jb([a.fontStyle||b&&b.getShallow("fontStyle")||"",a.fontWeight||b&&b.getShallow("fontWeight")||"",(a.fontSize||b&&b.getShallow("fontSize")||12)+"px",a.fontFamily||b&&b.getShallow("fontFamily")||"sans-serif"].join(" "))}function vs(a,b,c,d,e,f){typeof e==="function"&&(f=e,e=null);if(d&&d.isAnimationEnabled()){var g=a?"Update":"";a=d.getShallow("animationDuration"+g);var h=d.getShallow("animationEasing"+g);g=d.getShallow("animationDelay"+g);typeof g==="function"&&(g=g(e,d.getAnimationDelayParams?
d.getAnimationDelayParams(b,e):null));typeof a==="function"&&(a=a(e));a>0?b.animateTo(c,a,g||0,h,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function ba(a,b,c,d,e){vs(!0,a,b,c,d,e)}function eb(a,b,c,d,e){vs(!1,a,b,c,d,e)}function re(a,b){for(var c=ef([]);a&&a!==b;)jd(c,a.getLocalTransform(),c),a=a.parent;return c}function vc(a,b,c){b&&!Lc(b)&&(b=dc.getLocalTransform(b));c&&(b=di([],b));return sa([],a,b)}function um(a,b,c){var d=b[4]===0||b[5]===0||b[0]===0?
1:Math.abs(2*b[4]/b[0]),e=b[4]===0||b[5]===0||b[2]===0?1:Math.abs(2*b[4]/b[2]);a=[a==="left"?-d:a==="right"?d:0,a==="top"?-e:a==="bottom"?e:0];a=vc(a,b,c);return Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Mi(a,b,c,d){function e(g){var h={position:Xb(g.position),rotation:g.rotation};g.shape&&(h.shape=U({},g.shape));return h}if(a&&b){var f=function(g){var h={};g.traverse(function(k){!k.isGroup&&k.anid&&(h[k.anid]=k)});return h}(a);b.traverse(function(g){if(!g.isGroup&&
g.anid){var h=f[g.anid];if(h){var k=e(g);g.attr(e(h));ba(g,k,c,g.dataIndex)}}})}}function ws(a,b){return H(a,function(c){var d=c[0];d=Ni(d,b.x);d=Oi(d,b.x+b.width);c=c[1];c=Ni(c,b.y);c=Oi(c,b.y+b.height);return[d,c]})}function yf(a,b,c){b=U({rectHover:!0},b);var d=b.style={strokeNoScale:!0};c=c||{x:-1,y:-1,width:2,height:2};if(a)return a.indexOf("image://")===0?(d.image=a.slice(8),Q(d,c),new Va(b)):Gi(a.replace("path://",""),b,c,"center")}function Mg(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=
e[f];if(xs(a,b,c,d,h[0],h[1],g[0],g[1]))return!0;g=h}}function xs(a,b,c,d,e,f,g,h){c-=a;d-=b;g-=e;h-=f;var k=g*d-c*h;if(k<=1E-6&&k>=-1E-6)return!1;a-=e;b-=f;f=(a*d-c*b)/k;if(f<0||f>1)return!1;b=(a*h-g*b)/k;return b<0||b>1?!1:!0}function ka(a,b,c){this.parentModel=b;this.ecModel=c;this.option=a}function ys(a,b,c){for(var d=0;d<b.length&&(!b[d]||(a=a&&typeof a==="object"?a[b[d]]:null,a!=null));d++);a==null&&c&&(a=c.get(b));return a}function vm(a,b){var c=zs(a).getParent;return c?c.call(a,b):a.parentModel}
function Ng(a){return[a||"",VA++,Math.random().toFixed(5)].join("_")}function ia(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(e===0)return f===0?c[0]:(c[0]+c[1])/2;if(d)if(e>0){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function G(a,b){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return typeof a===
"string"?a.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):a==null?NaN:+a}function wa(a,b,c){b==null&&(b=10);b=Math.min(Math.max(0,b),20);a=(+a).toFixed(b);return c?a:+a}function wc(a){a.sort(function(b,c){return b-c});return a}function As(a){a=+a;if(isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function Dd(a){a=a.toString();var b=a.indexOf("e");if(b>0)return a=+a.slice(b+1),a<0?-a:0;b=a.indexOf(".");return b<0?0:a.length-1-b}function wm(a,b){var c=
Math.log,d=Math.LN10;a=Math.floor(c(a[1]-a[0])/d);b=Math.round(c(Math.abs(b[1]-b[0]))/d);b=Math.min(Math.max(-a+b,0),20);return isFinite(b)?b:20}function Bs(a,b,c){if(!a[b])return 0;var d=af(a,function(n,p){return n+(isNaN(p)?0:p)},0);if(d===0)return 0;var e=Math.pow(10,c),f=H(a,function(n){return(isNaN(n)?0:n)/d*e*100});a=e*100;var g=H(f,function(n){return Math.floor(n)});c=af(g,function(n,p){return n+p},0);for(f=H(f,function(n,p){return n-g[p]});c<a;){for(var h=Number.NEGATIVE_INFINITY,k=null,l=
0,m=f.length;l<m;++l)f[l]>h&&(h=f[l],k=l);++g[k];f[k]=0;++c}return g[b]/e}function xm(a){var b=Math.PI*2;return(a%b+b)%b}function Og(a){return a>-1E-4&&a<1E-4}function Pg(a){if(a instanceof Date)return a;if(typeof a==="string"){a=WA.exec(a);if(!a)return new Date(NaN);if(a[8]){var b=+a[4]||0;a[8].toUpperCase()!=="Z"&&(b-=a[8].slice(0,3));return new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,b,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||
0)}return a==null?new Date(NaN):new Date(Math.round(a))}function Cs(a){return Math.pow(10,ym(a))}function ym(a){if(a===0)return 0;var b=Math.floor(Math.log(a)/Math.LN10);a/Math.pow(10,b)>=10&&b++;return b}function zm(a,b){var c=ym(a),d=Math.pow(10,c);a/=d;a=(b?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10)*d;return c>=-20?+a.toFixed(c<0?-c:0):a}function Am(a){function b(k,l,m){return k.interval[m]<l.interval[m]||k.interval[m]===l.interval[m]&&(k.close[m]-l.close[m]===(m?-1:1)||!m&&b(k,
l,1))}a.sort(function(k,l){return b(k,l,0)?-1:1});for(var c=-Infinity,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;h<2;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&g[0]*g[1]!==1?a.splice(e,1):e++}return a}function Ds(a){return a-parseFloat(a)>=0}function Yc(a){if(isNaN(a))return"-";a=(a+"").split(".");return a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:"")}function Es(a,b){a=(a||"").toLowerCase().replace(/-(.)/g,function(c,d){return d.toUpperCase()});
b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1));return a}function ya(a){return a==null?"":(a+"").replace(XA,function(b,c){return YA[c]})}function Bm(a,b,c){F(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=Fs[f];a=a.replace("{"+g+"}","{"+g+0+"}")}for(f=0;f<d;f++)for(g=0;g<e.length;g++){var h=b[f][e[g]];a=a.replace("{"+Fs[g]+(f==null?"":f)+"}",c?ya(h):h)}return a}function Gs(a,b,c){y(b,function(d,e){a=a.replace("{"+e+"}",c?ya(d):d)});return a}function Pi(a,
b){a=va(a)?{color:a,extraCssText:b}:a||{};var c=a.color,d=a.type;b=a.extraCssText;var e=a.renderMode||"html";a=a.markerId||"X";return c?e==="html"?d==="subItem"?'\x3cspan style\x3d"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ya(c)+";"+(b||"")+'"\x3e\x3c/span\x3e':'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ya(c)+";"+(b||"")+'"\x3e\x3c/span\x3e':
{renderMode:e,content:"{marker"+a+"|}  ",style:{color:c}}:""}function zf(a,b){a+="";return"0000".substr(0,b-a.length)+a}function Cm(a,b,c){if(a==="week"||a==="month"||a==="quarter"||a==="half-year"||a==="year")a="MM-dd\nyyyy";b=Pg(b);var d=c?"UTC":"";c=b["get"+d+"FullYear"]();var e=b["get"+d+"Month"]()+1,f=b["get"+d+"Date"](),g=b["get"+d+"Hours"](),h=b["get"+d+"Minutes"](),k=b["get"+d+"Seconds"]();b=b["get"+d+"Milliseconds"]();return a.replace("MM",zf(e,2)).replace("M",e).replace("yyyy",c).replace("yy",
c%100).replace("dd",zf(f,2)).replace("d",f).replace("hh",zf(g,2)).replace("h",g).replace("mm",zf(h,2)).replace("m",h).replace("ss",zf(k,2)).replace("s",k).replace("SSS",zf(b,3))}function Qi(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Qg(a,b){b==="_blank"||b==="blank"?(b=window.open(),b.opener=null,b.location=a):window.open(a,b)}function Dm(a,b,c,d,e){var f=0,g=0;d==null&&(d=Infinity);e==null&&(e=Infinity);var h=0;b.eachChild(function(k,l){var m=k.position,n=k.getBoundingRect();l=
(l=b.childAt(l+1))&&l.getBoundingRect();if(a==="horizontal"){l=n.width+(l?-l.x+n.x:0);var p=f+l;p>d||k.newline?(f=0,p=l,g+=h+c,h=n.height):h=Math.max(h,n.height)}else{l=n.height+(l?-l.y+n.y:0);var q=g+l;q>e||k.newline?(f+=h+c,g=0,q=l,h=n.width):h=Math.max(h,n.width)}k.newline||(m[0]=f,m[1]=g,a==="horizontal"?f=p+c:g=q+c)})}function Ja(a,b,c){c=se(c||0);var d=b.width;b=b.height;var e=G(a.left,d),f=G(a.top,b),g=G(a.right,d),h=G(a.bottom,b),k=G(a.width,d),l=G(a.height,b),m=c[2]+c[0],n=c[1]+c[3],p=a.aspect;
isNaN(k)&&(k=d-g-n-e);isNaN(l)&&(l=b-h-m-f);p!=null&&(isNaN(k)&&isNaN(l)&&(p>d/b?k=d*.8:l=b*.8),isNaN(k)&&(k=p*l),isNaN(l)&&(l=k/p));isNaN(e)&&(e=d-g-k-n);isNaN(f)&&(f=b-h-l-m);switch(a.left||a.right){case "center":e=d/2-k/2-c[3];break;case "right":e=d-k-n}switch(a.top||a.bottom){case "middle":case "center":f=b/2-l/2-c[0];break;case "bottom":f=b-l-m}e=e||0;f=f||0;isNaN(k)&&(k=d-n-e-(g||0));isNaN(l)&&(l=b-m-f-(h||0));a=new ea(e+c[3],f+c[0],k,l);a.margin=c;return a}function Ri(a,b,c,d,e){var f=!e||
!e.hv||e.hv[0],g=!e||!e.hv||e.hv[1];e=e&&e.boundingMode||"all";if(f||g){if(e==="raw")var h=a.type==="group"?new ea(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(h=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();h=h.clone();h.applyTransform(k)}b=Ja(Q({width:h.width,height:h.height},b),c,d);c=a.position;f=f?b.x-h.x:0;b=g?b.y-h.y:0;a.attr("position",e==="raw"?[f,b]:[c[0]+f,c[1]+b])}}function Ed(a,b,c){function d(k,l){var m={},n=0,p={},q=0;Si(k,function(r){p[r]=a[r]});
Si(k,function(r){b.hasOwnProperty(r)&&(m[r]=p[r]=b[r]);e(m,r)&&n++;e(p,r)&&q++});if(g[l])return e(b,k[1])?p[k[2]]=null:e(b,k[2])&&(p[k[1]]=null),p;if(q!==2&&n){if(!(n>=2))for(l=0;l<k.length;l++){var t=k[l];if(!m.hasOwnProperty(t)&&a.hasOwnProperty(t)){m[t]=a[t];break}}return m}return p}function e(k,l){return k[l]!=null&&k[l]!=="auto"}function f(k,l,m){Si(k,function(n){l[n]=m[n]})}!X(c)&&(c={});var g=c.ignoreSize;!F(g)&&(g=[g,g]);c=d(te[0],0);var h=d(te[1],1);f(te[0],a,c);f(te[1],a,h)}function ue(a,
b){b&&a&&Si(Hs,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});return a}function ec(a){this.fromDataset=a.fromDataset;this.data=a.data||(a.sourceFormat==="keyedColumns"?{}:[]);this.sourceFormat=a.sourceFormat||"unknown";this.seriesLayoutBy=a.seriesLayoutBy||"column";this.dimensionsDefine=a.dimensionsDefine;this.encodeDefine=a.encodeDefine&&aa(a.encodeDefine);this.startIndex=a.startIndex||0;this.dimensionsDetectCount=a.dimensionsDetectCount}function Is(a){var b=a.option,c=b.data,d=Wb(c)?"typedArray":
"original",e=!1,f=b.seriesLayoutBy,g=b.sourceHeader,h=b.dimensions,k=Em(a);if(k){var l=k.option;c=l.source;d=Af(k).sourceFormat;e=!0;f=f||l.seriesLayoutBy;g==null&&(g=l.sourceHeader);h=h||l.dimensions}g=ZA(c,d,f,g,h);Af(a).source=new ec({data:c,fromDataset:e,seriesLayoutBy:f,sourceFormat:d,dimensionsDefine:g.dimensionsDefine,startIndex:g.startIndex,dimensionsDetectCount:g.dimensionsDetectCount,encodeDefine:b.encode})}function ZA(a,b,c,d,e){if(!a)return{dimensionsDefine:Js(e)};var f;if(b==="arrayRows"){d===
"auto"||d==null?Ks(function(h){h!=null&&h!=="-"&&(va(h)?f==null&&(f=1):f=0)},c,a,10):f=d?1:0;e||f!==1||(e=[],Ks(function(h,k){e[k]=h!=null?h:""},c,a));var g=e?e.length:c==="row"?a.length:a[0]?a[0].length:null}else b==="objectRows"?e||(e=$A(a)):b==="keyedColumns"?e||(e=[],y(a,function(h,k){e.push(k)})):b==="original"?(a=tg(a[0]),g=F(a)&&a.length||1):b==="typedArray"&&I&&ja(!!e,"dimensions must be given if data is TypedArray.");return{startIndex:f,dimensionsDefine:Js(e),dimensionsDetectCount:g}}function Js(a){if(a){var b=
aa();return H(a,function(c,d){c=U({},X(c)?c:{name:c});if(c.name==null)return c;c.name+="";c.displayName==null&&(c.displayName=c.name);(d=b.get(c.name))?c.name+="-"+d.count++:b.set(c.name,{count:1});return c})}}function Ks(a,b,c,d){d==null&&(d=Infinity);if(b==="row")for(b=0;b<c.length&&b<d;b++)a(c[b]?c[b][0]:null,b);else for(c=c[0]||[],b=0;b<c.length&&b<d;b++)a(c[b],b)}function $A(a){for(var b=0,c;b<a.length&&!(c=a[b++]););if(c){var d=[];y(c,function(e,f){d.push(f)});return d}}function Ls(a,b,c){function d(p,
q,t){for(var r=0;r<t;r++)p.push(q+r)}function e(p){return(p=p.dimsDef)?p.length:1}var f={},g=Em(b);if(!g||!a)return f;var h=[],k=[];b=Af(b.ecModel).datasetMap;c=g.uid+"_"+c.seriesLayoutBy;var l,m;a=a.slice();y(a,function(p,q){!X(p)&&(a[q]={name:p});p.type==="ordinal"&&l==null&&(l=q,m=e(a[q]));f[p.name]=[]});var n=b.get(c)||b.set(c,{categoryWayDim:m,valueWayDim:0});y(a,function(p,q){var t=p.name;p=e(p);l==null?(q=n.valueWayDim,d(f[t],q,p),d(k,q,p),n.valueWayDim+=p):l===q?(d(f[t],0,p),d(h,0,p)):(q=
n.categoryWayDim,d(f[t],q,p),d(k,q,p),n.categoryWayDim+=p)});h.length&&(f.itemName=h);k.length&&(f.seriesName=k);return f}function Fm(a,b,c){var d={};if(!Em(a))return d;var e=b.sourceFormat,f=b.dimensionsDefine,g;e!=="objectRows"&&e!=="keyedColumns"||y(f,function(h,k){(X(h)?h.name:h)==="name"&&(g=k)});if(a=function(){for(var h={},k={},l=[],m=0,n=Math.min(5,c);m<n;m++){var p=Ms(b.data,e,b.seriesLayoutBy,f,b.startIndex,m);l.push(p);var q=p===lb.Not;q&&h.v==null&&m!==g&&(h.v=m);if(h.n==null||h.n===h.v||
!q&&l[h.n]===lb.Not)h.n=m;if(h.v!=null&&h.n!=null&&l[h.n]!==lb.Not)return h;q||(p===lb.Might&&k.v==null&&m!==g&&(k.v=m),k.n!=null&&k.n!==k.v)||(k.n=m)}return h.v!=null&&h.n!=null?h:k.v!=null&&k.n!=null?k:null}())d.value=a.v,a=g!=null?g:a.n,d.itemName=[a],d.seriesName=[a];return d}function Em(a){var b=a.option;if(!b.data)return a.ecModel.getComponent("dataset",b.datasetIndex||0)}function Ms(a,b,c,d,e,f){function g(m){var n=va(m);if(m!=null&&isFinite(m)&&m!=="")return n?lb.Might:lb.Not;if(n&&m!=="-")return lb.Must}
var h;if(Wb(a))return lb.Not;if(d)if(d=d[f],X(d))var k=d.name,l=d.type;else va(d)&&(k=d);if(l!=null)return l==="ordinal"?lb.Must:lb.Not;if(b==="arrayRows")if(c==="row")for(a=a[f],b=0;b<(a||[]).length&&b<5;b++){if((h=g(a[e+b]))!=null)return h}else for(b=0;b<a.length&&b<5;b++){if((k=a[e+b])&&(h=g(k[f]))!=null)return h}else if(b==="objectRows"){if(!k)return lb.Not;for(b=0;b<a.length&&b<5;b++)if((e=a[b])&&(h=g(e[k]))!=null)return h}else if(b==="keyedColumns"){if(!k)return lb.Not;a=a[k];if(!a||Wb(a))return lb.Not;
for(b=0;b<a.length&&b<5;b++)if((h=g(a[b]))!=null)return h}else if(b==="original")for(b=0;b<a.length&&b<5;b++){e=a[b];h=tg(e);if(!F(h))break;if((h=g(h[f]))!=null)return h}return lb.Not}function aB(a,b){var c=a.color&&!a.colorLayer;y(b,function(d,e){e==="colorLayer"&&c||na.hasClass(e)||(typeof d==="object"?a[e]=a[e]?Y(a[e],d,!1):T(d):a[e]==null&&(a[e]=d))})}function bB(a){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap=aa({series:[]});this._seriesIndicesMap;aB(a,this._theme.option);
Y(a,cB,!1);this.mergeOption(a)}function dB(a,b){F(b)||(b=b?[b]:[]);var c={};y(b,function(d){c[d]=(a.get(d)||[]).slice()});return c}function Gm(a,b){a._seriesIndicesMap=aa(a._seriesIndices=H(b,function(c){return c.componentIndex})||[])}function Ns(a,b){return b.hasOwnProperty("subType")?Na(a,function(c){return c.subType===b.subType}):a}function Ti(a){if(I&&!a._seriesIndices)throw Error("Option should contains series.");}function Os(a){y(eB,function(b){this[b]=L(a[b],a)},this)}function $a(){this._coordinateSystems=
[]}function Hm(a){this._api=a;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function fB(a,b,c){var d=[],e=[],f,g=a.timeline;if(a.baseOption)var h=a.baseOption;if(g||a.options)h=h||{},d=(a.options||[]).slice();a.media&&(h=h||{},Ui(a.media,function(k){k&&k.option&&(k.query?e.push(k):f||(f=k))}));h||(h=a);h.timeline||(h.timeline=g);Ui([h].concat(d).concat(H(e,function(k){return k.option})),function(k){Ui(b,function(l){l(k,c)})});return{baseOption:h,timelineOptions:d,mediaDefault:f,
mediaList:e}}function gB(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;y(a,function(f,g){var h=g.match(hB);h&&h[1]&&h[2]&&(g=h[1],h=h[2].toLowerCase(),h=d[h],(g==="min"?h>=f:g==="max"?h<=f:h===f)||(e=!1))});return e}function iB(a,b){return a.join(",")===b.join(",")}function jB(a,b){b=b||{};Ui(b,function(c,d){if(c!=null){var e=a[d];na.hasClass(d)?(c=Za(c),e=Za(e),c=Rl(e,c),a[d]=Vi(c,function(f){return f.option&&f.exist?Ps(f.exist,f.option,!0):f.exist||f.option})):a[d]=Ps(e,c,!0)}})}function Im(a){var b=
a&&a.itemStyle;if(b)for(var c=0,d=Qs.length;c<d;c++){var e=Qs[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?Y(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null);g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?Y(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function fb(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,e=a[b].emphasis;d&&(c?(a[b].normal=a[b].emphasis=null,Q(a[b],d)):a[b]=d);e&&(a.emphasis=a.emphasis||{},a.emphasis[b]=e)}}function Rg(a){fb(a,"itemStyle");fb(a,
"lineStyle");fb(a,"areaStyle");fb(a,"label");fb(a,"labelLine");fb(a,"upperLabel");fb(a,"edgeLabel")}function Ka(a,b){a=Sg(a)&&a[b];var c=Sg(a)&&a.textStyle;if(c)for(var d=0,e=Rs.length;d<e;d++)b=Rs[d],c.hasOwnProperty(b)&&(a[b]=c[b])}function Ob(a){a&&(Rg(a),Ka(a,"label"),a.emphasis&&Ka(a.emphasis,"label"))}function kB(a){if(Sg(a)){Im(a);Rg(a);Ka(a,"label");Ka(a,"upperLabel");Ka(a,"edgeLabel");a.emphasis&&(Ka(a.emphasis,"label"),Ka(a.emphasis,"upperLabel"),Ka(a.emphasis,"edgeLabel"));var b=a.markPoint;
b&&(Im(b),Ob(b));if(b=a.markLine)Im(b),Ob(b);(b=a.markArea)&&Ob(b);var c=a.data;if(a.type==="graph"){c=c||a.nodes;var d=a.links||a.edges;if(d&&!Wb(d))for(b=0;b<d.length;b++)Ob(d[b]);y(a.categories,function(e){Rg(e)})}if(c&&!Wb(c))for(b=0;b<c.length;b++)Ob(c[b]);if((b=a.markPoint)&&b.data)for(c=b.data,b=0;b<c.length;b++)Ob(c[b]);if((b=a.markLine)&&b.data)for(c=b.data,b=0;b<c.length;b++)F(c[b])?(Ob(c[b][0]),Ob(c[b][1])):Ob(c[b]);a.type==="gauge"?(Ka(a,"axisLabel"),Ka(a,"title"),Ka(a,"detail")):a.type===
"treemap"?(fb(a.breadcrumb,"itemStyle"),y(a.levels,function(e){Rg(e)})):a.type==="tree"&&Rg(a.leaves)}}function Zc(a){return F(a)?a:a?[a]:[]}function Ss(a){return(F(a)?a[0]:a)||{}}function Ts(a){y(lB,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function mB(a){y(a,function(b,c){var d=[],e=[NaN,NaN],f=b.data,g=b.isStackedByIndex,h=f.map([b.stackResultDimension,b.stackedOverDimension],function(k,l,m){k=f.get(b.stackedDimension,m);if(isNaN(k))return e;var n,p;g?p=f.getRawIndex(m):n=f.get(b.stackedByDimension,
m);m=NaN;for(l=c-1;l>=0;l--){var q=a[l];g||(p=q.data.rawIndexOf(q.stackedByDimension,n));if(p>=0&&(q=q.data.getByRawIndex(q.stackResultDimension,p),k>=0&&q>0||k<=0&&q<0)){k+=q;m=q;break}}d[0]=k;d[1]=m;return d});f.hostModel.setData(h);b.data=h})}function Us(a,b){ec.isInstance(a)||(a=ec.seriesDataToSource(a));this._source=a;var c=this._data=a.data,d=a.sourceFormat;if(d==="typedArray"){if(I&&b==null)throw Error("Typed array data must specify dimension size");this._offset=0;this._dimSize=b;this._data=
c}a=nB[d==="arrayRows"?d+"_"+a.seriesLayoutBy:d];I&&ja(a,"Invalide sourceFormat: "+d);U(this,a)}function Vs(){return this._data.length}function Ws(a){return this._data[a]}function Jm(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}function Km(a,b,c,d){return c!=null?a[c]:a}function Xs(a,b,c,d){return Lm(a[d],this._dimensionInfos[b])}function Lm(a,b){var c=b&&b.type;if(c==="ordinal")return(b=b&&b.ordinalMeta)?b.parseAndCollect(a):a;c==="time"&&typeof a!=="number"&&a!=null&&a!=="-"&&(a=+Pg(a));
return a==null||a===""?NaN:+a}function ve(a,b,c){if(a){var d=a.getRawDataItem(b);if(d!=null){var e=a.getProvider().getSource().sourceFormat;if(a=a.getDimensionInfo(c))var f=a.name,g=a.index;return oB[e](d,b,g,f)}}}function Ys(a,b,c){if(a){var d=a.getProvider().getSource().sourceFormat;if(d==="original"||d==="objectRows")if(a=a.getRawDataItem(b),d!=="original"||X(a)||(a=null),a)return a[c]}}function Bf(a){a=a||{};this._reset=a.reset;this._plan=a.plan;this._count=a.count;this._onDirty=a.onDirty;this._dirty=
!0;this.context}function Zs(a,b,c,d,e,f){$s.reset(c,d,e,f);a._callingProgress=b;a._callingProgress({start:c,end:d,count:d-c,next:$s.next},a.context)}function pB(a,b){a._dueIndex=a._outputDueEnd=a._dueEnd=0;a._settedOutputEnd=null;var c;if(!b&&a._reset){if((c=a._reset(a.context))&&c.progress){var d=c.forceFirstProgress;c=c.progress}F(c)&&!c.length&&(c=null)}a._progress=c;a._modBy=a._modDataCount=null;(a=a._downstream)&&a.dirty();return d}function at(a){var b=a.name;Sl(a)||(a.name=qB(a)||b)}function qB(a){var b=
a.getRawData();a=b.mapDimension("seriesName",!0);var c=[];y(a,function(d){d=b.getDimensionInfo(d);d.displayName&&c.push(d.displayName)});return c.join(" ")}function rB(a){return a.model.getRawData().count()}function sB(a){a=a.model;a.setData(a.getRawData().cloneShallow());return tB}function tB(a,b){b.outputData&&a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function bt(a,b){y(a.CHANGABLE_METHODS,function(c){a.wrapMethod(c,R(uB,b))})}function uB(a){(a=Mm(a))&&a.setOutputEnd(this.count())}
function Mm(a){var b=(a.ecModel||{}).scheduler;if(b=b&&b.getPipeline(a.uid)){if(b=b.currentTask){var c=b.agentStubMap;c&&(b=c.get(a.uid))}return b}}function Sa(){this.group=new O;this.uid=Ng("viewChart");this.renderTask=new Bf({plan:vB,reset:wB});this.renderTask.context={view:this}}function Nm(a,b,c){if(a&&(a.trigger(b,c),a.isGroup&&!Ji(a)))for(var d=0,e=a.childCount();d<e;d++)Nm(a.childAt(d),b,c)}function ct(a,b,c){var d=ki(a,b),e=b&&b.highlightKey!=null?qs(b.highlightKey):null;d!=null?y(Za(d),function(f){Nm(a.getItemGraphicEl(f),
c,e)}):a.eachItemGraphicEl(function(f){Nm(f,c,e)})}function vB(a){return xB(a.model)}function wB(a){var b=a.model,c=a.ecModel,d=a.api,e=a.payload,f=b.pipelineContext.progressiveRender;a=a.view;var g=e&&dt(e).updateMethod;f=f?"incrementalPrepareRender":g&&a[g]?g:"render";if(f!=="render")a[f](b,c,d,e);return yB[f]}function Wi(a,b,c){function d(){g=(new Date).getTime();h=null;a.apply(l,m||[])}var e,f=0,g=0,h=null,k,l,m,n;b=b||0;var p=function(){e=(new Date).getTime();l=this;m=arguments;var q=n||b,t=
n||c;n=null;k=e-(t?f:g)-q;clearTimeout(h);t?h=setTimeout(d,q):k>=0?d():h=setTimeout(d,-k);f=e};p.clear=function(){h&&(clearTimeout(h),h=null)};p.debounceNextCall=function(q){n=q};return p}function Tg(a,b,c,d){var e=a[b];if(e){var f=e["\x00__throttleOriginMethod"]||e,g=e["\x00__throttleType"];if(e["\x00__throttleRate"]!==c||g!==d){if(c==null||!d)return a[b]=f;e=a[b]=Wi(f,c,d==="debounce");e["\x00__throttleOriginMethod"]=f;e["\x00__throttleType"]=d;e["\x00__throttleRate"]=c}return e}}function et(a,
b){var c=a[b];c&&c["\x00__throttleOriginMethod"]&&(a[b]=c["\x00__throttleOriginMethod"])}function Xi(a,b,c,d){this.ecInstance=a;this.api=b;this.unfinished;c=this._dataProcessorHandlers=c.slice();d=this._visualHandlers=d.slice();this._allHandlers=c.concat(d);this._stageTaskMap=aa()}function ft(a,b,c,d,e){e=e||{};var f;y(b,function(g,h){if(!e.visualType||e.visualType===g.visualType){var k=a._stageTaskMap.get(g.uid);h=k.seriesTaskMap;if(k=k.overallTask){var l;h=k.agentStubMap;h.each(function(n){!e.setDirty||
e.dirtyMap&&!e.dirtyMap.get(n.__pipeline.id)||(n.dirty(),l=!0)});l&&k.dirty();gt(k,d);var m=a.getPerformArgs(k,e.block);h.each(function(n){n.perform(m)});f|=k.perform(m)}else h&&h.each(function(n,p){!e.setDirty||e.dirtyMap&&!e.dirtyMap.get(n.__pipeline.id)||n.dirty();p=a.getPerformArgs(n,e.block);p.skip=!g.performRawSeries&&c.isSeriesFiltered(n.context.model);gt(n,d);f|=n.perform(p)})}});a.unfinished|=f}function zB(a,b,c,d,e){function f(l){var m=l.uid;m=g.get(m)||g.set(m,new Bf({plan:AB,reset:BB,
count:CB}));m.context={model:l,ecModel:d,api:e,useClearVisual:b.isVisual&&!b.isLayout,plan:b.plan,reset:b.reset,scheduler:a};Yi(a,l,m)}var g=c.seriesTaskMap||(c.seriesTaskMap=aa());c=b.seriesType;var h=b.getTargetSeries;b.createOnAllSeries?d.eachRawSeries(f):c?d.eachRawSeriesByType(c,f):h&&h(d,e).each(f);var k=a._pipelineMap;g.each(function(l,m){k.get(m)||(l.dispose(),g.removeKey(m))})}function DB(a,b,c,d,e){function f(p){var q=p.uid,t=h.get(q);t||(t=h.set(q,new Bf({reset:EB,onDirty:FB})),g.dirty());
t.context={model:p,overallProgress:l,modifyOutputEnd:m};t.agent=g;t.__block=l;Yi(a,p,t)}var g=c.overallTask=c.overallTask||new Bf({reset:GB});g.context={ecModel:d,api:e,overallReset:b.overallReset,scheduler:a};var h=g.agentStubMap=g.agentStubMap||aa();c=b.seriesType;var k=b.getTargetSeries,l=!0,m=b.modifyOutputEnd;c?d.eachRawSeriesByType(c,f):k?k(d,e).each(f):(l=!1,y(d.getSeries(),f));var n=a._pipelineMap;h.each(function(p,q){n.get(q)||(p.dispose(),g.dirty(),h.removeKey(q))})}function GB(a){a.overallReset(a.ecModel,
a.api,a.payload)}function EB(a,b){return a.overallProgress&&HB}function HB(){this.agent.dirty();this.getDownstream().dirty()}function FB(){this.agent&&this.agent.dirty()}function AB(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function BB(a){a.useClearVisual&&a.data.clearAllVisual();a=a.resetDefines=Za(a.reset(a.model,a.ecModel,a.api,a.payload));return a.length>1?H(a,function(b,c){return ht(c)}):IB}function ht(a){return function(b,c){var d=c.data;if((c=c.resetDefines[a])&&c.dataEach)for(var e=
b.start;e<b.end;e++)c.dataEach(d,e);else c&&c.progress&&c.progress(b,d)}}function CB(a){return a.data.count()}function Yi(a,b,c){a=a._pipelineMap.get(b.uid);!a.head&&(a.head=c);a.tail&&a.tail.pipe(c);a.tail=c;c.__idxInPipeline=a.count++;c.__pipeline=a}function it(a,b){for(var c in b.prototype)a[c]=Pa}function jt(a){va(a)&&(a=(new DOMParser).parseFromString(a,"text/xml"));for(a.nodeType===9&&(a=a.firstChild);a.nodeName.toLowerCase()!=="svg"||a.nodeType!==1;)a=a.nextSibling;return a}function Zi(){this._defs=
{};this._root=null;this._isText=this._isDefine=!1}function Pb(a,b){a&&a.__inheritedStyle&&(b.__inheritedStyle||(b.__inheritedStyle={}),Q(b.__inheritedStyle,a.__inheritedStyle))}function kt(a){a=Jb(a).split(Fd);for(var b=[],c=0;c<a.length;c+=2){var d=parseFloat(a[c]),e=parseFloat(a[c+1]);b.push([d,e])}return b}function zb(a,b,c,d){var e=b.__inheritedStyle||{},f=b.type==="text";if(a.nodeType===1&&(JB(a,b),U(e,KB(a)),!d))for(var g in Cf)Cf.hasOwnProperty(g)&&(d=a.getAttribute(g),d!=null&&(e[Cf[g]]=d));
a=f?"textFill":"fill";g=f?"textStroke":"stroke";b.style=b.style||new md;var h=b.style;e.fill!=null&&h.set(a,lt(e.fill,c));e.stroke!=null&&h.set(g,lt(e.stroke,c));y("lineWidth opacity fillOpacity strokeOpacity miterLimit fontSize".split(" "),function(k){var l=k==="lineWidth"&&f?"textStrokeWidth":k;e[k]!=null&&h.set(l,parseFloat(e[k]))});e.textBaseline&&e.textBaseline!=="auto"||(e.textBaseline="alphabetic");e.textBaseline==="alphabetic"&&(e.textBaseline="bottom");e.textAlign==="start"&&(e.textAlign=
"left");e.textAlign==="end"&&(e.textAlign="right");y("lineDashOffset lineCap lineJoin fontWeight fontFamily fontStyle textAlign textBaseline".split(" "),function(k){e[k]!=null&&h.set(k,e[k])});e.lineDash&&(b.style.lineDash=Jb(e.lineDash).split(Fd));h[g]&&h[g]!=="none"&&(b[g]=!0);b.__inheritedStyle=e}function lt(a,b){var c=b&&a&&a.match(LB);return c?(a=Jb(c[1]),b[a]):a}function JB(a,b){var c=a.getAttribute("transform");if(c){c=c.replace(/,/g," ");a=null;var d=[];c.replace(MB,function(g,h,k){d.push(h,
k)});for(c=d.length-1;c>0;c-=2){var e=d[c],f=d[c-1];a=a||mb();switch(f){case "translate":e=Jb(e).split(Fd);Yb(a,a,[parseFloat(e[0]),parseFloat(e[1]||0)]);break;case "scale":e=Jb(e).split(Fd);og(a,a,[parseFloat(e[0]),parseFloat(e[1]||e[0])]);break;case "rotate":e=Jb(e).split(Fd);Pc(a,a,parseFloat(e[0]));break;case "skew":e=Jb(e).split(Fd);console.warn("Skew transform is not supported yet");break;case "matrix":e=Jb(e).split(Fd),a[0]=parseFloat(e[0]),a[1]=parseFloat(e[1]),a[2]=parseFloat(e[2]),a[3]=
parseFloat(e[3]),a[4]=parseFloat(e[4]),a[5]=parseFloat(e[5])}}b.setLocalTransform(a)}}function KB(a){a=a.getAttribute("style");var b={};if(!a)return b;var c={};mt.lastIndex=0;for(var d;(d=mt.exec(a))!=null;)c[d[1]]=d[2];for(var e in Cf)Cf.hasOwnProperty(e)&&c[e]!=null&&(b[Cf[e]]=c[e]);return b}function nt(a,b,c){var d=Math.min(b/a.width,c/a.height);return{scale:[d,d],position:[-(a.x+a.width/2)*d+b/2,-(a.y+a.height/2)*d+c/2]}}function Df(a,b){return function(c,d,e){!b&&this._disposed?Ab(this.id):(c=
c&&c.toLowerCase(),Ra.prototype[a].call(this,c,d,e))}}function Ug(){Ra.call(this)}function Vg(a,b,c){function d(f,g){return f.__prio-g.__prio}c=c||{};typeof b==="string"&&(b=$i[b]);this._dom=a;var e="canvas";I&&(e=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||e);a=this._zr=Pl(a,{renderer:c.renderer||e,devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=Wi(L(a.flush,a),17);(b=T(b))&&ot(b,!0);this._theme=b;this._chartsViews=[];this._chartsMap=
{};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new $a;b=this._api=NB(this);gi(aj,d);gi(Om,d);this._scheduler=new Xi(this,b,Om,aj);Ra.call(this,this._ecEventProcessor=new Pm);this._messageCenter=new Ug;this._initEvents();this.resize=L(this.resize,this);this._pendingActions=[];a.animation.on("frame",this._onframe,this);OB(a,this);Zk(this)}function pt(a,b,c){if(this._disposed)Ab(this.id);else{var d=this._model,e=this._coordSysMgr.getCoordinateSystems(),f;b=ug(d,b);for(var g=0;g<
e.length;g++){var h=e[g];if(h[a]&&(f=h[a](d,b,c))!=null)return f}I&&console.warn("No coordinate system that supports "+a+" found by the given finder.")}}function Wg(a){var b=a._model,c=a._scheduler;c.restorePipelines(b);c.prepareStageTasks();qt(a,"component",b,c);qt(a,"chart",b,c);c.plan()}function rt(a,b,c,d,e){function f(l){l&&l.__alive&&l[b]&&l[b](l.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"];h[d+"Index"]=c[d+"Index"];h[d+"Name"]=c[d+"Name"];h={mainType:d,query:h};e&&
(h.subType=e);var k=c.excludeSeriesId;k!=null&&(k=aa(Za(k)));g&&g.eachComponent(h,function(l){k&&k.get(l.id)!=null||f(a[d==="series"?"_chartsMap":"_componentsMap"][l.__viewId])},a)}else Qa(a._componentsViews.concat(a._chartsViews),f)}function st(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(e){d.updateStreamModes(e,c[e.__viewId])})}function tt(a,b){var c=a.type,d=a.escapeConnect,e=bj[c],f=e.actionInfo,g=(f.update||"update").split(":"),h=g.pop();g=g[0]!=null&&Qm(g[0]);this.__flagInMainProcess=
!0;var k=[a],l=!1;a.batch&&(l=!0,k=H(a.batch,function(q){q=Q(U({},q),a);q.batch=null;return q}));var m=[],n=c==="highlight"||c==="downplay";Qa(k,function(q){p=(p=e.action(q,this._model,this._api))||U({},q);p.type=f.event||p.type;m.push(p);n?rt(this,h,q,"series"):g&&rt(this,h,q,g.main,g.sub)},this);h==="none"||n||g||(this.__optionUpdated?(Wg(this),Gd.update.call(this,a),this.__optionUpdated=!1):Gd[h].call(this,a));var p=l?{type:f.event||c,escapeConnect:d,batch:m}:m[0];this.__flagInMainProcess=!1;!b&&
this._messageCenter.trigger(p.type,p)}function cj(a){for(var b=this._pendingActions;b.length;){var c=b.shift();tt.call(this,c,a)}}function OB(a,b){a.on("rendered",function(){b.trigger("rendered");!a.animation.isFinished()||b.__optionUpdated||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})}function qt(a,b,c,d){function e(m){var n="_ec_"+m.id+"_"+m.type,p=h[n];if(!p){p=Qm(m.type);var q=f?xc.getClass(p.main,p.sub):Sa.getClass(p.sub);I&&Ef(q,p.sub+" does not exist.");p=new q;
p.init(c,l);h[n]=p;g.push(p);k.add(p.group)}m.__viewId=p.__id=n;p.__alive=!0;p.__model=m;p.group.__ecComponentInfo={mainType:m.mainType,index:m.componentIndex};!f&&d.prepareView(p,m,c,l)}var f=b==="component",g=f?a._componentsViews:a._chartsViews,h=f?a._componentsMap:a._chartsMap,k=a._zr,l=a._api;for(a=0;a<g.length;a++)g[a].__alive=!1;f?c.eachComponent(function(m,n){m!=="series"&&e(n)}):c.eachSeries(e);for(a=0;a<g.length;)b=g[a],b.__alive?a++:(!f&&b.renderTask.dispose(),k.remove(b.group),b.dispose(c,
l),g.splice(a,1),delete h[b.__id],b.__id=b.group.__ecComponentInfo=null)}function Rm(a){a.clearColorPalette();a.eachSeries(function(b){b.clearColorPalette()})}function ut(a,b,c,d){PB(a,b,c,d);Qa(a._chartsViews,function(e){e.__alive=!1});Sm(a,b,c,d);Qa(a._chartsViews,function(e){e.__alive||e.remove(b,c)})}function PB(a,b,c,d,e){Qa(e||a._componentsViews,function(f){var g=f.__model;f.render(g,b,c,d);vt(g,f)})}function Sm(a,b,c,d,e){var f=a._scheduler,g;b.eachSeries(function(h){var k=a._chartsMap[h.__viewId];
k.__alive=!0;var l=k.renderTask;f.updatePayload(l,d);e&&e.get(h.uid)&&l.dirty();g|=l.perform(f.getPerformArgs(l));k.group.silent=!!h.get("silent");vt(h,k);QB(h,k)});f.unfinished|=g;RB(a,b);SB(a._zr.dom,b)}function Tm(a,b){Qa(wt,function(c){c(a,b)})}function Ab(a){I&&console.warn("Instance "+a+" has been disposed")}function RB(a,b){var c=0;a._zr.storage.traverse(function(d){c++});c>b.get("hoverLayerThreshold")&&!da.node&&b.eachSeries(function(d){d.preventUsingHoverLayer||(d=a._chartsMap[d.__viewId],
d.__alive&&d.group.traverse(function(e){e.useHoverLayer=!0}))})}function QB(a,b){var c=a.get("blendMode")||null;I&&!da.canvasSupported&&c&&c!=="source-over"&&console.warn("Only canvas support blendMode");b.group.traverse(function(d){d.isGroup||d.style.blend!==c&&d.setStyle("blend",c);d.eachPendingDisplayable&&d.eachPendingDisplayable(function(e){e.setStyle("blend",c)})})}function vt(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(e){e.type!=="group"&&(c!=null&&(e.z=c),d!=null&&(e.zlevel=
d))})}function NB(a){var b=a._coordSysMgr;return U(new Os(a),{getCoordinateSystems:L(b.getCoordinateSystems,b),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(d!=null)return a._model.getComponent(d.mainType,d.index);c=c.parent}}})}function Pm(){this.eventInfo}function TB(a){function b(c,d){for(var e=0;e<c.length;e++)c[e].__connectUpdateStatus=d}Qa(dj,function(c,d){a._messageCenter.on(d,function(e){if(ej[a.group]&&a.__connectUpdateStatus!==0&&(!e||!e.escapeConnect)){var f=a.makeActionFromEvent(e),
g=[];Qa(we,function(h){h!==a&&h.group===a.group&&g.push(h)});b(g,0);Qa(g,function(h){h.__connectUpdateStatus!==1&&h.dispatchAction(f)});b(g,2)}})})}function xt(a){ej[a]=!1}function Um(a){var b=we,c=Vm;a=a.getAttribute?a.getAttribute(c):a[c];return b[a]}function ab(a){yt.push(a)}function Bb(a,b){Wm(Om,a,b,1E3)}function la(a,b,c){typeof b==="function"&&(c=b,b="");var d=Xg(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase();b=a.event;Ef(zt.test(d)&&zt.test(b));bj[d]||(bj[d]={action:c,actionInfo:a});
dj[b]=d}function Xm(a,b){$a.register(a,b)}function Da(a,b){Wm(aj,a,b,1E3,"layout")}function za(a,b){Wm(aj,a,b,3E3,"visual")}function Wm(a,b,c,d,e){if(UB(b)||Xg(b))c=b,b=d;if(I){if(isNaN(b)||b==null)throw Error("Illegal priority");Qa(a,function(f){Ef(f.__raw!==c)})}d=Xi.wrapStageHandler(c,e);d.__prio=b;d.__raw=c;a.push(d);return d}function Cb(a){return na.extend(a)}function Ta(a){return xc.extend(a)}function fj(a){return Ea.extend(a)}function rb(a){return Sa.extend(a)}function At(a){return a}function $c(a,
b,c,d,e){this._old=a;this._new=b;this._oldKeyGetter=c||At;this._newKeyGetter=d||At;this.context=e}function Bt(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];h==null?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function VB(a){var b={},c=b.encode={},d=aa(),e=[],f=[],g=b.userOutput={dimensionNames:a.dimensions.slice(),encode:{}};y(a.dimensions,function(m){var n=a.getDimensionInfo(m),p=n.coordDim;if(p){I&&ja(Ym.get(p)==null);var q=n.coordDimIndex;Zm(c,p)[q]=m;n.isExtraCoord||
(d.set(p,1),WB(n.type)&&(e[0]=m),Zm(g.encode,p)[q]=n.index);n.defaultTooltip&&f.push(m)}Ym.each(function(t,r){t=Zm(c,r);r=n.otherDims[r];r!=null&&r!==!1&&(t[r]=n.name)})});var h=[],k={};d.each(function(m,n){m=c[n];k[n]=m[0];h=h.concat(m)});b.dataDimsOnCoord=h;b.encodeFirstDimNotExtra=k;var l=c.label;l&&l.length&&(e=l.slice());(l=c.tooltip)&&l.length?f=l.slice():f.length||(f=e.slice());c.defaultedLabel=e;c.defaultedTooltip=f;return b}function Zm(a,b){a.hasOwnProperty(b)||(a[b]=[]);return a[b]}function gj(a){return a===
"category"?"ordinal":a==="time"?"time":"float"}function WB(a){return!(a==="ordinal"||a==="time")}function Yg(a){a!=null&&U(this,a);this.otherDims={}}function Ct(a,b){y(XB.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});a.__wrappedMethods=b.__wrappedMethods;y(YB,function(c){a[c]=T(b[c])});a._calculationInfo=U(b._calculationInfo)}function Dt(a,b,c,d,e){var f=ZB[b.type],g=d-1;b=b.name;var h=a[b][g];if(h&&h.length<c){for(var k=new f(Math.min(e-g*c,c)),l=0;l<h.length;l++)k[l]=
h[l];a[b][g]=k}for(d*=c;d<e;d+=c)a[b].push(new f(Math.min(e-d,c)))}function Et(a){var b=a._invertedIndicesMap;y(b,function(c,d){if(c=a._dimensionInfos[d].ordinalMeta){c=b[d]=new $B(c.categories.length);for(var e=0;e<c.length;e++)c[e]=-1;for(e=0;e<a._count;e++)c[a.get(d,e)]=e}})}function Ft(a,b,c){if(b!=null){var d=a._chunkSize;b=a.dimensions[b];var e=a._storage[b][Math.floor(c/d)];if(e){var f=e[c%d];(a=a._dimensionInfos[b].ordinalMeta)&&a.categories.length&&(f=a.categories[f])}}return f}function Zg(a){return a}
function $g(a){return a<this._count&&a>=0?this._indices[a]:-1}function $m(a,b){var c=a._idList[b];c==null&&(c=Ft(a,a._idDimIdx,b));c==null&&(c="e\x00\x00"+b);return c}function an(a){F(a)||(a=[a]);return a}function hj(a,b){for(var c=0;c<b.length;c++)a._dimensionInfos[b[c]]||console.error("Unkown dimension "+b[c])}function Gt(a,b){var c=a.dimensions,d=new Ua(H(c,a.getDimensionInfo,a),a.hostModel);Ct(d,a);var e=d._storage={};a=a._storage;for(var f=0;f<c.length;f++){var g=c[f];if(a[g])if(ma(b,g)>=0){for(var h=
g,k=a[g],l=Array(k.length),m=0;m<k.length;m++){var n=m,p=k[m],q=p.constructor;p=q===Array?p.slice():new q(p);l[n]=p}e[h]=l;d._rawExtent[g]=[Infinity,-Infinity];d._extent[g]=null}else e[g]=a[g]}return d}function Ht(a,b,c){function d(r,u,v){Ym.get(u)!=null?r.otherDims[u]=v:(r.coordDim=u,r.coordDimIndex=v,g.set(u,!0))}ec.isInstance(b)||(b=ec.seriesDataToSource(b));c=c||{};a=(a||[]).slice();for(var e=(c.dimsDef||[]).slice(),f=aa(),g=aa(),h=[],k=aC(b,a,e,c.dimCount),l=0;l<k;l++){var m=e[l]=U({},X(e[l])?
e[l]:{name:e[l]}),n=m.name,p=h[l]=new Yg;n!=null&&f.get(n)==null&&(p.name=p.displayName=n,f.set(n,l));m.type!=null&&(p.type=m.type);m.displayName!=null&&(p.displayName=m.displayName)}var q=c.encodeDef;!q&&c.encodeDefaulter&&(q=c.encodeDefaulter(b,k));q=aa(q);q.each(function(r,u){r=Za(r).slice();if(r.length===1&&!va(r[0])&&r[0]<0)q.set(u,!1);else{var v=q.set(u,[]);y(r,function(x,w){va(x)&&(x=f.get(x));x!=null&&x<k&&(v[w]=x,d(h[x],u,w))})}});var t=0;y(a,function(r,u){if(va(r)){var v=r;r={}}else{v=r.name;
u=r.ordinalMeta;r.ordinalMeta=null;r=T(r);r.ordinalMeta=u;var x=r.dimsDef,w=r.otherDims;r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}u=q.get(v);if(u!==!1){u=Za(u);if(!u.length)for(var z=0;z<(x&&x.length||1);z++){for(;t<h.length&&h[t].coordDim!=null;)t++;t<h.length&&u.push(t++)}y(u,function(A,B){A=h[A];d(Q(A,r),v,B);A.name==null&&x&&(B=x[B],!X(B)&&(B={name:B}),A.name=A.displayName=B.name,A.defaultTooltip=B.defaultTooltip);w&&Q(A.otherDims,w)})}});a=c.generateCoord;c=c.generateCoordCount;
e=c!=null;c=a?c||1:0;l=a||"value";for(m=0;m<k;m++){p=h[m]=h[m]||new Yg;if(p.coordDim==null){p.coordDim=It(l,g,e);p.coordDimIndex=0;if(!a||c<=0)p.isExtraCoord=!0;c--}p.name==null&&(p.name=It(p.coordDim,f));p.type!=null||Ms(b.data,b.sourceFormat,b.seriesLayoutBy,b.dimensionsDefine,b.startIndex,m)!==lb.Must&&(!p.isExtraCoord||p.otherDims.itemName==null&&p.otherDims.seriesName==null)||(p.type="ordinal")}return h}function aC(a,b,c,d){var e=Math.max(a.dimensionsDetectCount||1,b.length,c.length,d||0);y(b,
function(f){(f=f.dimsDef)&&(e=Math.max(e,f.length))});return e}function It(a,b,c){if(c||b.get(a)!=null){for(c=0;b.get(a+c)!=null;)c++;a+=c}b.set(a,!0);return a}function bC(a){this.coordSysName=a;this.coordSysDims=[];this.axisMap=aa();this.categoryAxisMap=aa();this.firstCategoryDimIndex=null}function cC(a){var b=a.get("coordinateSystem"),c=new bC(b);if(b=dC[b])return b(a,c,c.axisMap,c.categoryAxisMap),c}function Ff(a){return a.get("type")==="category"}function Jt(a,b,c){c=c||{};var d=c.byIndex,e=c.stackedCoordDimension,
f=!(!a||!a.get("stack")),g,h;y(b,function(p,q){va(p)&&(b[q]=p={name:p});f&&!p.isExtraCoord&&(d||g||!p.ordinalMeta||(g=p),h||p.type==="ordinal"||p.type==="time"||e&&e!==p.coordDim||(h=p))});!h||d||g||(d=!0);if(h){var k="__\x00ecstackresult",l="__\x00ecstackedover";g&&(g.createInvertedIndices=!0);var m=h.coordDim;a=h.type;var n=0;y(b,function(p){p.coordDim===m&&n++});b.push({name:k,coordDim:m,coordDimIndex:n,type:a,isExtraCoord:!0,isCalculationCoord:!0});n++;b.push({name:l,coordDim:l,coordDimIndex:n,
type:a,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:h&&h.name,stackedByDimension:g&&g.name,isStackedByIndex:d,stackedOverDimension:l,stackResultDimension:k}}function ad(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function ah(a,b){return ad(a,b)?a.getCalculationInfo("stackResultDimension"):b}function bd(a,b,c){c=c||{};ec.isInstance(a)||(a=ec.seriesDataToSource(a));var d=b.get("coordinateSystem");d=$a.get(d);var e=cC(b),f;e&&(f=H(e.coordSysDims,function(k){var l=
{name:k};if(k=e.axisMap.get(k))k=k.get("type"),l.type=gj(k);return l}));f||(f=d&&(d.getDimensionsInfo?d.getDimensionsInfo():d.dimensions.slice())||["x","y"]);f=Gf(a,{coordDimensions:f,generateCoord:c.generateCoord,encodeDefaulter:c.useEncodeDefaulter?R(Ls,f,b):null});var g,h;e&&y(f,function(k,l){var m=e.categoryAxisMap.get(k.coordDim);m&&(g==null&&(g=l),k.ordinalMeta=m.getOrdinalMeta());k.otherDims.itemName!=null&&(h=!0)});h||g==null||(f[g].otherDims.itemName=0);c=Jt(b,f);b=new Ua(f,b);b.setCalculationInfo(c);
c=g!=null&&eC(a)?function(k,l,m,n){return n===g?m:this.defaultDimValueGetter(k,l,m,n)}:null;b.hasItemOption=!1;b.initData(a,null,c);return b}function eC(a){if(a.sourceFormat==="original"){a=a.data||[];for(var b=0;b<a.length&&a[b]==null;)b++;a=a[b];return a!=null&&!F(tg(a))}}function La(a){this._setting=a||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}function bh(a){this.categories=a.categories||[];this._needCollect=a.needCollect;this._deduplication=
a.deduplication}function fC(a){return X(a)&&a.value!=null?a.value:a+""}function Kt(a,b){!isFinite(a[0])&&(a[0]=b[0]);!isFinite(a[1])&&(a[1]=b[1]);a[0]=Math.max(Math.min(a[0],b[1]),b[0]);a[1]=Math.max(Math.min(a[1],b[1]),b[0]);a[0]>a[1]&&(a[0]=a[1])}function bn(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Lt(a,b){var c=[];b.eachSeriesByType(a,function(d){!d.coordinateSystem||d.coordinateSystem.type!=="cartesian2d"||d.pipelineContext&&d.pipelineContext.large||c.push(d)});return c}
function gC(a){var b={};y(a,function(h){var k=h.coordinateSystem.getBaseAxis();if(k.type==="time"||k.type==="value"){h=h.getData();var l=k.dim+"_"+k.index;k=h.mapDimension(k.dim);for(var m=0,n=h.count();m<n;++m){var p=h.get(k,m);b[l]?b[l].push(p):b[l]=[p]}}});a=[];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(d){d.sort(function(h,k){return h-k});for(var e=null,f=1;f<d.length;++f){var g=d[f]-d[f-1];g>0&&(e=e===null?g:Math.min(e,g))}a[c]=e}}return a}function cn(a){var b=gC(a),c=[];y(a,function(d){var e=
d.coordinateSystem.getBaseAxis(),f=e.getExtent();if(e.type==="category")var g=e.getBandWidth();else if(e.type==="value"||e.type==="time"){g=b[e.dim+"_"+e.index];f=Math.abs(f[1]-f[0]);var h=e.scale.getExtent();h=Math.abs(h[1]-h[0]);g=g?f/h*g:f}else g=d.getData(),g=Math.abs(f[1]-f[0])/g.count();f=G(d.get("barWidth"),g);h=G(d.get("barMaxWidth"),g);var k=G(d.get("barMinWidth")||1,g),l=d.get("barGap"),m=d.get("barCategoryGap");c.push({bandWidth:g,barWidth:f,barMaxWidth:h,barMinWidth:k,barGap:l,barCategoryGap:m,
axisKey:e.dim+e.index,stackId:bn(d)})});return Mt(c)}function Mt(a){var b={};y(a,function(d,e){var f=d.axisKey;e=d.bandWidth;e=b[f]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var g=e.stacks;b[f]=e;f=d.stackId;g[f]||e.autoWidthCount++;g[f]=g[f]||{width:0,maxWidth:0};var h=d.barWidth;h&&!g[f].width&&(g[f].width=h,h=Math.min(e.remainedWidth,h),e.remainedWidth-=h);(h=d.barMaxWidth)&&(g[f].maxWidth=h);(h=d.barMinWidth)&&(g[f].minWidth=h);g=d.barGap;g!=null&&(e.gap=
g);d=d.barCategoryGap;d!=null&&(e.categoryGap=d)});var c={};y(b,function(d,e){c[e]={};var f=d.stacks,g=d.bandWidth,h=G(d.categoryGap,g),k=G(d.gap,1),l=d.remainedWidth,m=d.autoWidthCount,n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);y(f,function(r){var u=r.maxWidth,v=r.minWidth;if(r.width)x=r.width,u&&(x=Math.min(x,u)),v&&(x=Math.max(x,v)),r.width=x,l-=x+k*x,m--;else{var x=n;u&&u<x&&(x=Math.min(u,l));v&&v>x&&(x=v);x!==n&&(r.width=x,l-=x+k*x,m--)}});n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);var p=0,q;y(f,function(r,
u){r.width||(r.width=n);q=r;p+=r.width*(1+k)});q&&(p-=q.width*k);var t=-p/2;y(f,function(r,u){c[e][u]=c[e][u]||{bandWidth:g,offset:t,width:r.width};t+=r.width*(1+k)})});return c}function Nt(a,b,c){if(a&&b)return a=a[b.dim+b.index],a!=null&&c!=null&&(a=a[bn(c)]),a}function Ot(a,b){a=Lt(a,b);var c=cn(a),d={};y(a,function(e){var f=e.getData(),g=e.coordinateSystem,h=g.getBaseAxis(),k=bn(e),l=c[h.dim+h.index][k],m=l.offset,n=l.width,p=g.getOtherAxis(h);e=e.get("barMinHeight")||0;d[k]=d[k]||[];f.setLayout({bandWidth:l.bandWidth,
offset:m,size:n});l=f.mapDimension(p.dim);h=f.mapDimension(h.dim);var q=ad(f,l),t=p.isHorizontal();p=p.toGlobalCoord(p.dataToCoord(p.type==="log"?1:0));for(var r=0,u=f.count();r<u;r++){var v=f.get(l,r),x=f.get(h,r),w=v>=0?"p":"n",z=p;q&&(d[k][x]||(d[k][x]={p:p,n:p}),z=d[k][x][w]);if(t){var A=g.dataToPoint([v,x]);v=z;z=A[1]+m;var B=A[0]-p;A=n;Math.abs(B)<e&&(B=(B<0?-1:1)*e);isNaN(B)||q&&(d[k][x][w]+=B)}else A=g.dataToPoint([x,v]),v=A[0]+m,B=n,A=A[1]-p,Math.abs(A)<e&&(A=(A<=0?-1:1)*e),isNaN(A)||q&&
(d[k][x][w]+=A);f.setItemLayout(r,{x:v,y:z,width:B,height:A})}},this)}function Pt(a,b){var c=a.type,d=b.getMin(),e=b.getMax(),f=a.getExtent();if(c==="ordinal")var g=b.getCategories().length;else{var h=b.get("boundaryGap");F(h)||(h=[h||0,h||0]);typeof h[0]==="boolean"&&(I&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),h=[0,0]);h[0]=G(h[0],1);h[1]=G(h[1],1);var k=f[1]-f[0]||
Math.abs(f[0])}d==="dataMin"?d=f[0]:typeof d==="function"&&(d=d({min:f[0],max:f[1]}));e==="dataMax"?e=f[1]:typeof e==="function"&&(e=e({min:f[0],max:f[1]}));var l=d!=null,m=e!=null;d==null&&(d=c==="ordinal"?g?0:NaN:f[0]-h[0]*k);e==null&&(e=c==="ordinal"?g?g-1:NaN:f[1]+h[1]*k);d!=null&&isFinite(d)||(d=NaN);e!=null&&isFinite(e)||(e=NaN);a.setBlank(jg(d)||jg(e)||c==="ordinal"&&!a.getOrdinalMeta().categories.length);b.getNeedCrossZero()&&(d>0&&e>0&&!l&&(d=0),d<0&&e<0&&!m&&(e=0));if((a=b.ecModel)&&c===
"time"){c=Lt("bar",a);var n;y(c,function(p){n|=p.getBaseAxis()===b.axis});n&&(c=cn(c),e=hC(d,e,b,c),d=e.min,e=e.max)}return{extent:[d,e],fixMin:l,fixMax:m}}function hC(a,b,c,d){var e=c.axis.getExtent();e=e[1]-e[0];c=Nt(d,c.axis);if(c===void 0)return{min:a,max:b};var f=Infinity;y(c,function(h){f=Math.min(h.offset,f)});var g=-Infinity;y(c,function(h){g=Math.max(h.offset+h.width,g)});f=Math.abs(f);g=Math.abs(g);c=f+g;d=b-a;e=d/(1-(f+g)/e)-d;b+=g/c*e;a-=f/c*e;return{min:a,max:b}}function Hd(a,b){var c=
Pt(a,b),d=c.extent,e=b.get("splitNumber");a.type==="log"&&(a.base=b.get("logBase"));var f=a.type;a.setExtent(d[0],d[1]);a.niceExtent({splitNumber:e,fixMin:c.fixMin,fixMax:c.fixMax,minInterval:f==="interval"||f==="time"?b.get("minInterval"):null,maxInterval:f==="interval"||f==="time"?b.get("maxInterval"):null});b=b.get("interval");b!=null&&a.setInterval&&a.setInterval(b)}function Hf(a,b){if(b=b||a.get("type"))switch(b){case "category":return new dn(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),
[Infinity,-Infinity]);case "value":return new yc;default:return(La.getClass(b)||yc).create(a)}}function ch(a){var b=a.getLabelModel().get("formatter"),c=a.type==="category"?a.scale.getExtent()[0]:null;return typeof b==="string"?b=function(d){return function(e){e=a.scale.getLabel(e);return d.replace("{value}",e!=null?e:"")}}(b):typeof b==="function"?function(d,e){c!=null&&(e=d-c);return b(en(a,d),e)}:function(d){return a.scale.getLabel(d)}}function en(a,b){return a.type==="category"?a.scale.getLabel(b):
b}function fn(a){a=a.get("interval");return a==null?"auto":a}function Qt(a){return a.type==="category"&&fn(a.getLabelModel())===0}function iC(a,b){if(this.type!=="image"){var c=this.style,d=this.shape;d&&d.symbolType==="line"?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));this.dirty(!1)}}function Db(a,b,c,d,e,f,g){var h=a.indexOf("empty")===0;h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));a=a.indexOf("image://")===0?ms(a.slice(8),new ea(b,
c,d,e),g?"center":"cover"):a.indexOf("path://")===0?Gi(a.slice(7),{},new ea(b,c,d,e),g?"center":"cover"):new jC({shape:{symbolType:a,x:b,y:c,width:d,height:e}});a.__isEmptyBrush=h;a.setColor=iC;a.setColor(f);return a}function xe(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=Sc(e[0],e[1],g[0],g[1],b,c);e=g}a=a[0];Math.abs(e[0]-a[0])<1E-8&&Math.abs(e[1]-a[1])<1E-8||(d+=Sc(e[0],e[1],a[0],a[1],b,c));return d!==0}function dh(a,b,c){this.name=a;this.geometries=b;c?c=[c[0],
c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}function kC(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;b==null&&(b=1024);for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var k=f[h];if(e.type==="Polygon")f[h]=Rt(k,g[h],b);else if(e.type==="MultiPolygon")for(var l=0;l<k.length;l++)k[l]=Rt(k[l],g[h][l],b)}a.UTF8Encoding=!1;return a}function Rt(a,b,c){var d=[],e=b[0];b=b[1];for(var f=0;f<a.length;f+=
2){var g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64;g=g>>1^-(g&1);h=h>>1^-(h&1);g+=e;h+=b;e=g;b=h;d.push([g/c,h/c])}return d}function St(a,b){var c=Tt(a,"labels");b=fn(b);var d=Ut(c,b);if(d)return d;if(Oa(b))a=Vt(a,b);else{if(b==="auto"){var e=eh(a).autoInterval;e=e!=null?e:eh(a).autoInterval=a.calculateCategoryInterval()}else e=b;a=Wt(a,e)}return Xt(c,b,{labels:a,labelCategoryInterval:e})}function lC(a,b){var c=Tt(a,"ticks"),d=fn(b),e=Ut(c,d);if(e)return e;if(!b.get("show")||a.scale.isBlank())b=[];
if(Oa(d))b=Vt(a,d,!0);else if(d==="auto"){a=St(a,a.getLabelModel());var f=a.labelCategoryInterval;b=H(a.labels,function(g){return g.tickValue})}else f=d,b=Wt(a,f,!0);return Xt(c,d,{ticks:b,tickCategoryInterval:f})}function mC(a){var b=a.scale.getTicks(),c=ch(a);return{labels:H(b,function(d,e){return{formattedLabel:c(d,e),rawLabel:a.scale.getLabel(d),tickValue:d}})}}function Tt(a,b){return eh(a)[b]||(eh(a)[b]=[])}function Ut(a,b){for(var c=0;c<a.length;c++)if(a[c].key===b)return a[c].value}function Xt(a,
b,c){a.push({key:b,value:c});return c}function Wt(a,b,c){function d(n){k.push(c?n:{formattedLabel:e(n),rawLabel:f.getLabel(n),tickValue:n})}var e=ch(a),f=a.scale,g=f.getExtent(),h=a.getLabelModel(),k=[];b=Math.max((b||0)+1,1);var l=g[0],m=f.count();l!==0&&b>1&&m/b>2&&(l=Math.round(Math.ceil(l/b)*b));m=Qt(a);a=h.get("showMinLabel")||m;h=h.get("showMaxLabel")||m;for(a&&l!==g[0]&&d(g[0]);l<=g[1];l+=b)d(l);h&&l-b!==g[1]&&d(g[1]);return k}function Vt(a,b,c){var d=a.scale,e=ch(a),f=[];y(d.getTicks(),function(g){var h=
d.getLabel(g);b(g,h)&&f.push(c?g:{formattedLabel:e(g),rawLabel:h,tickValue:g})});return f}function Yt(a,b){b=(a[1]-a[0])/b/2;a[0]+=b;a[1]-=b}function nC(a,b,c,d){function e(k,l){k=wa(k);l=wa(l);return h?k>l:k<l}var f=b.length;if(a.onBand&&!c&&f){c=a.getExtent();if(f===1)b[0].coord=c[0],f=b[1]={coord:c[0]};else{var g=(b[f-1].coord-b[0].coord)/(b[f-1].tickValue-b[0].tickValue);y(b,function(k){k.coord-=g/2});a=1+a.scale.getExtent()[1]-b[f-1].tickValue;f={coord:b[f-1].coord+g*a};b.push(f)}var h=c[0]>
c[1];e(b[0].coord,c[0])&&(d?b[0].coord=c[0]:b.shift());d&&e(c[0],b[0].coord)&&b.unshift({coord:c[0]});e(c[1],f.coord)&&(d?f.coord=c[1]:b.pop());d&&e(f.coord,c[1])&&b.push({coord:c[1]})}}function ij(a,b){var c=a.mapDimension("defaultedLabel",!0),d=c.length;if(d===1)return ve(a,b,c[0]);if(d){d=[];for(var e=0;e<c.length;e++){var f=ve(a,b,c[e]);d.push(f)}return d.join(" ")}}function Id(a,b,c){O.call(this);this.updateData(a,b,c)}function oC(a,b){this.parent.drift(a,b)}function pC(a,b){this.incremental||
this.useHoverLayer||(b==="emphasis"?(a=this.__symbolOriginalScale,this.animateTo({scale:[Math.max(a[0]*1.1,a[0]+3),Math.max(a[1]*1.1,a[1]+a[1]/a[0]*3)]},400,"elasticOut")):b==="normal"&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut"))}function If(a){this.group=new O;this._symbolCtor=a||Id}function gn(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&a.getItemVisual(c,"symbol")!=="none"}function Zt(a){a==
null||X(a)||(a={isIgnore:a});return a||{}}function $t(a){a=a.hostModel;return{itemStyle:a.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:a.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label"),cursorStyle:a.get("cursor")}}function hn(a,b,c){var d=a.getBaseAxis(),e=a.getOtherAxis(d);c=qC(e,c);d=d.dim;e=e.dim;var f=
b.mapDimension(e),g=b.mapDimension(d),h=e==="x"||e==="radius"?1:0;a=H(a.dimensions,function(m){return b.mapDimension(m)});var k,l=b.getCalculationInfo("stackResultDimension");if(k|=ad(b,a[0]))a[0]=l;if(k|=ad(b,a[1]))a[1]=l;return{dataDimsForPoint:a,valueStart:c,valueAxisDim:e,baseAxisDim:d,stacked:!!k,valueDim:f,baseDim:g,baseDataOffset:h,stackedOverDimension:b.getCalculationInfo("stackedOverDimension")}}function qC(a,b){var c=0;a=a.scale.getExtent();b==="start"?c=a[0]:b==="end"?c=a[1]:a[0]>0?c=a[0]:
a[1]<0&&(c=a[1]);return c}function jn(a,b,c,d){var e=NaN;a.stacked&&(e=c.get(c.getCalculationInfo("stackedOverDimension"),d));isNaN(e)&&(e=a.valueStart);var f=a.baseDataOffset,g=[];g[f]=c.get(a.baseDim,d);g[1-f]=e;return b.dataToPoint(g)}function rC(a,b){var c=[];b.diff(a).add(function(d){c.push({cmd:"+",idx:d})}).update(function(d,e){c.push({cmd:"\x3d",idx:e,idx1:d})}).remove(function(d){c.push({cmd:"-",idx:d})}).execute();return c}function cd(a){return isNaN(a[0])||isNaN(a[1])}function kn(a,b,c,
d,e,f,g,h,k,l,m){return l!=="none"&&l?sC.apply(this,arguments):tC.apply(this,arguments)}function sC(a,b,c,d,e,f,g,h,k,l,m){var n=0;g=c;for(h=0;h<d;h++){var p=b[g];if(g>=e||g<0)break;if(cd(p)){if(m){g+=f;continue}break}if(g===c)a[f>0?"moveTo":"lineTo"](p[0],p[1]);else if(k>0){n=b[n];var q=l==="y"?1:0,t=(p[q]-n[q])*k;jj(Qb,n);Qb[q]=n[q]+t;jj(Rb,p);Rb[q]=p[q]-t;a.bezierCurveTo(Qb[0],Qb[1],Rb[0],Rb[1],p[0],p[1])}else a.lineTo(p[0],p[1]);n=g;g+=f}return h}function tC(a,b,c,d,e,f,g,h,k,l,m){for(var n=0,
p=c,q=0;q<d;q++){var t=b[p];if(p>=e||p<0)break;if(cd(t)){if(m){p+=f;continue}break}if(p===c)a[f>0?"moveTo":"lineTo"](t[0],t[1]),jj(Qb,t);else if(k>0){var r=p+f,u=b[r];if(m)for(;u&&cd(b[r]);)r+=f,u=b[r];var v=.5;n=b[n];u=b[r];!u||cd(u)?jj(Rb,t):(cd(u)&&!m&&(u=t),Mc(ln,u,n),l==="x"||l==="y"?(v=l==="x"?0:1,r=Math.abs(t[v]-n[v]),u=Math.abs(t[v]-u[v])):(r=dd(t,n),u=dd(t,u)),v=u/(u+r),au(Rb,t,ln,-k*(1-v)));bu(Qb,Qb,h);cu(Qb,Qb,g);bu(Rb,Rb,h);cu(Rb,Rb,g);a.bezierCurveTo(Qb[0],Qb[1],Rb[0],Rb[1],t[0],t[1]);
au(Qb,t,ln,k*v)}else a.lineTo(t[0],t[1]);n=p;p+=f}return q}function mn(a,b){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]);f[1]<c[1]&&(c[1]=f[1]);f[0]>d[0]&&(d[0]=f[0]);f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function du(a,b,c){var d=a.getArea();a=a.getBaseAxis().isHorizontal();var e=d.x,f=d.y,g=d.width;d=d.height;var h=c.get("lineStyle.width")||2;d+=h;e=Math.floor(e-h/2);g=Math.round(g+h);e=new oa({shape:{x:e,y:f-h/
2,width:g,height:d}});b&&(e.shape[a?"width":"height"]=0,eb(e,{shape:{width:g,height:d}},c));return e}function eu(a,b,c){var d=a.getArea();a=new fc({shape:{cx:wa(a.cx,1),cy:wa(a.cy,1),r0:wa(d.r0,1),r:wa(d.r,1),startAngle:d.startAngle,endAngle:d.endAngle,clockwise:d.clockwise}});b&&(a.shape.endAngle=d.startAngle,eb(a,{shape:{endAngle:d.endAngle}},c));return a}function kj(a,b,c){if(a){if(a.type==="polar")return eu(a,b,c);if(a.type==="cartesian2d")return du(a,b,c)}return null}function fu(a,b){if(a.length===
b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function gu(a,b){var c=[],d=[],e=[],f=[];wg(a,c,d);wg(b,e,f);return Math.max(Math.abs(c[0]-e[0]),Math.abs(c[1]-e[1]),Math.abs(d[0]-f[0]),Math.abs(d[1]-f[1]))}function hu(a){return typeof a==="number"?a:a?.5:0}function uC(a,b,c){if(!c.valueDim)return[];for(var d=[],e=0,f=b.count();e<f;e++)d.push(jn(c,a,b,e));return d}function Jd(a,b,c){b=b.getBaseAxis();b=b.dim==="x"||b.dim==="radius"?0:1;for(var d=
[],e=0;e<a.length-1;e++){var f=a[e+1],g=a[e];d.push(g);var h=[];switch(c){case "end":h[b]=f[b];h[1-b]=g[1-b];d.push(h);break;case "middle":var k=[];h[b]=k[b]=(g[b]+f[b])/2;h[1-b]=g[1-b];k[1-b]=f[1-b];d.push(h);d.push(k);break;default:h[b]=g[b],h[1-b]=f[1-b],d.push(h)}}a[e]&&d.push(a[e]);return d}function vC(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count())if(b.type!=="cartesian2d")I&&console.warn("Visual map on line style is only supported on cartesian2d.");else{for(var d,e,f=c.length-
1;f>=0;f--)if(d=(d=a.getDimensionInfo(a.dimensions[c[f].dimension]))&&d.coordDim,d==="x"||d==="y"){e=c[f];break}if(e){var g=b.getAxis(d);a=H(e.stops,function(l){return{coord:g.toGlobalCoord(g.dataToCoord(l.value)),color:l.color}});b=a.length;c=e.outerColors.slice();b&&a[0].coord>a[b-1].coord&&(a.reverse(),c.reverse());var h=a[0].coord-10;e=a[b-1].coord+10;var k=e-h;if(k<.001)return"transparent";y(a,function(l){l.offset=(l.coord-h)/k});a.push({offset:b?a[b-1].offset:.5,color:c[1]||"transparent"});
a.unshift({offset:b?a[0].offset:.5,color:c[0]||"transparent"});a=new ye(0,0,0,0,a,!0);a[d]=h;a[d+"2"]=e;return a}I&&console.warn("Visual map on line style only support x or y dimension.")}}function wC(a,b,c){var d=a.get("showAllSymbol");a=d==="auto";if(!(d&&!a||!(c=c.getAxesByScale("ordinal")[0])||a&&xC(c,b))){var e=b.mapDimension(c.dim),f={};y(c.getViewLabels(),function(g){f[g.tickValue]=1});return function(g){return!f.hasOwnProperty(b.get(e,g))}}}function xC(a,b){var c=a.getExtent();c=Math.abs(c[1]-
c[0])/a.scale.count();isNaN(c)&&(c=0);for(var d=b.count(),e=Math.max(1,Math.round(d/5)),f=0;f<d;f+=e)if(Id.getSymbolSize(b,f)[a.isHorizontal()?1:0]*1.5>c)return!1;return!0}function iu(a,b,c){if(a.type==="cartesian2d"){var d=a.getBaseAxis().isHorizontal();a=du(a,b,c);c.get("clip",!0)||(c=a.shape,b=Math.max(c.width,c.height),d?(c.y-=b,c.height+=b*2):(c.x-=b,c.width+=b*2));return a}return eu(a,b,c)}function yC(a){return this._axes[a]}function fh(a){lj.call(this,a)}function ju(a,b){return b.type||(b.data?
"category":"value")}function Jf(a,b,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(a,b,c);this.model=a}function ku(a,b,c,d){function e(h){return h.dim+"_"+h.index}c.getAxesOnZeroOf=function(){return f?[f]:[]};a=a[b];var f;b=c.model;c=b.get("axisLine.onZero");b=b.get("axisLine.onZeroAxisIndex");if(c){if(b!=null)lu(a[b])&&(f=a[b]);else for(var g in a)if(a.hasOwnProperty(g)&&lu(a[g])&&!d[e(a[g])]){f=a[g];break}f&&(d[e(f)]=!0)}}function lu(a){var b;if(b=
a&&a.type!=="category"&&a.type!=="time")b=a.scale.getExtent(),a=b[0],b=b[1],b=!(a>0&&b>0||a<0&&b<0);return b}function zC(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord=a.dim==="x"?function(e){return e+b}:function(e){return d-e+b};a.toLocalCoord=a.dim==="x"?function(e){return e-b}:function(e){return d-e+b}}function mu(a,b){return H(AC,function(c){var d=a.getReferringComponents(c)[0];if(I&&!d)throw Error(c+' "'+xa(a.get(c+"Index"),a.get(c+"Id"),0)+'" not found');return d})}function nu(a){return a.get("coordinateSystem")===
"cartesian2d"}function BC(a,b,c,d){a=xm(c-a.rotation);d=d[0]>d[1];d=b==="start"&&!d||b!=="start"&&d;Og(a-Kd/2)?(b=d?"bottom":"top",d="center"):Og(a-Kd*1.5)?(b=d?"top":"bottom",d="center"):(b="middle",d=a<Kd*1.5&&a>Kd/2?d?"left":"right":d?"right":"left");return{rotation:a,textAlign:d,textVerticalAlign:b}}function Sb(a){a&&(a.ignore=!0)}function ou(a,b,c){c=a&&a.getBoundingRect().clone();var d=b&&b.getBoundingRect().clone();if(c&&d){var e=ef([]);Pc(e,e,-a.rotation);c.applyTransform(jd([],e,a.getLocalTransform()));
d.applyTransform(jd([],e,b.getLocalTransform()));return c.intersect(d)}}function pu(a,b,c,d,e){for(var f=[],g=[],h=[],k=0;k<a.length;k++){var l=a[k].coord;g[0]=l;g[1]=0;h[0]=l;h[1]=c;b&&(sa(g,g,b),sa(h,h,b));l=new bb({anid:e+"_"+a[k].tickValue,subPixelOptimize:!0,shape:{x1:g[0],y1:g[1],x2:h[0],y2:h[1]},style:d,z2:2,silent:!0});f.push(l)}return f}function CC(a,b,c){var d=b.axis;if(xa(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.getViewLabels(),
h=(xa(c.labelRotate,e.get("rotate"))||0)*Kd/180,k=qu(c.rotation,h,c.labelDirection),l=b.getCategories&&b.getCategories(!0),m=[],n=ru(b),p=b.get("triggerEvent");y(g,function(q,t){var r=q.tickValue,u=q.formattedLabel;q=q.rawLabel;var v=e;l&&l[r]&&l[r].textStyle&&(v=new ka(l[r].textStyle,e,b.ecModel));var x=v.getTextColor()||b.get("axisLine.lineStyle.color"),w=[d.dataToCoord(r),c.labelOffset+c.labelDirection*f];w=new fa({anid:"label_"+r,position:w,rotation:k.rotation,silent:n,z2:10});Ca(w.style,v,{text:u,
textAlign:v.getShallow("align",!0)||k.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||k.textVerticalAlign,textFill:typeof x==="function"?x(d.type==="category"?q:d.type==="value"?r+"":r,t):x});p&&(w.eventData=su(b),w.eventData.targetType="axisLabel",w.eventData.value=q);a._dumbGroup.add(w);w.updateTransform();m.push(w);a.group.add(w);w.decomposeTransform()});return m}}function DC(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",
!0)||[],g=[];Kf(c.getCoordinateSystems(),function(h){function k(t,r,u){var v=u.model.getModel("axisPointer",e),x=v.get("show");if(x&&(x!=="auto"||t||v.get("handle.show"))){r==null&&(r=v.get("triggerTooltip"));v=t?EC(u,n,e,b,t,r):v;var w=v.get("snap");t=gh(u.model);x=r||w||u.type==="category";r=a.axesInfo[t]={key:t,axis:u,coordSys:h,axisPointerModel:v,triggerTooltip:r,involveSeries:x,snap:w,useHandle:!!v.get("handle.show"),seriesModels:[]};m[t]=r;a.seriesInvolved|=x;a:{v=u.model;u=u.dim;for(x=0;x<
f.length;x++)if(w=f[x]||{},nn(w[u+"AxisId"],v.id)||nn(w[u+"AxisIndex"],v.componentIndex)||nn(w[u+"AxisName"],v.name)){u=x;break a}u=void 0}u!=null&&(v=g[u]||(g[u]={axesInfo:{}}),v.axesInfo[t]=r,v.mapper=f[u].mapper,r.linkGroup=v)}}if(h.axisPointerEnabled){var l=gh(h.model),m=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=h;var n=h.model.getModel("tooltip",d);Kf(h.getAxes(),on(k,!1,null));if(h.getTooltipAxes&&d&&n.get("show")){l=n.get("trigger")==="axis";var p=n.get("axisPointer.type")==="cross",q=h.getTooltipAxes(n.get("axisPointer.axis"));
(l||p)&&Kf(q.baseAxes,on(k,p?"cross":!0,l));p&&Kf(q.otherAxes,on(k,"cross",!1))}}})}function EC(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};Kf("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(k){h[k]=T(g.get(k))});h.snap=a.type!=="category"&&!!f;g.get("type")==="cross"&&(h.type="line");b=h.label||(h.label={});b.show==null&&(b.show=!1);e==="cross"&&(e=g.get("label.show"),b.show=e!=null?e:!0,f||(f=h.lineStyle=g.get("crossStyle"))&&
Q(b,f.textStyle));return a.model.getModel("axisPointer",new ka(h,c,d))}function FC(a,b){b.eachSeries(function(c){var d=c.coordinateSystem,e=c.get("tooltip.trigger",!0),f=c.get("tooltip.show",!0);d&&e!=="none"&&e!==!1&&e!=="item"&&f!==!1&&c.get("axisPointer.show",!0)!==!1&&Kf(a.coordSysAxesInfo[gh(d.model)],function(g){var h=g.axis;d.getAxis(h.dim)===h&&(g.seriesModels.push(c),g.seriesDataCount==null&&(g.seriesDataCount=0),g.seriesDataCount+=c.getData().count())})},this)}function nn(a,b){return a===
"all"||F(a)&&ma(a,b)>=0||a===b}function pn(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[gh(a)]}function gh(a){return a.type+"||"+a.id}function tu(a,b,c,d,e,f){if(c=Eb.getAxisPointerClass(a.axisPointerClass))(e=(e=pn(b))&&e.axisPointerModel)?(a._axisPointer||(a._axisPointer=new c)).render(b,e,d,f):((b=a._axisPointer)&&b.dispose(d,void 0),a._axisPointer=null)}function qn(a,b,c){c=c||{};var d=a.coordinateSystem,e=b.axis;a={};var f=e.getAxesOnZeroOf()[0],
g=e.position,h=f?"onZero":g;e=e.dim;d=d.getRect();d=[d.x,d.x+d.width,d.y,d.y+d.height];var k={left:0,right:1,top:0,bottom:1,onZero:2},l=b.get("offset")||0;l=e==="x"?[d[2]-l,d[3]+l]:[d[0]-l,d[1]+l];if(f){var m=f.toGlobalCoord(f.dataToCoord(0));l[k.onZero]=Math.max(Math.min(m,l[1]),l[0])}a.position=[e==="y"?l[k[h]]:d[0],e==="x"?l[k[h]]:d[3]];a.rotation=Math.PI/2*(e==="x"?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[g];a.labelOffset=f?l[k[g]]-l[k.onZero]:0;
b.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection);xa(c.labelInside,b.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);b=b.get("axisLabel.rotate");a.labelRotate=h==="top"?-b:b;a.z2=1;return a}function uu(a,b,c,d){var e=c.axis;if(!e.scale.isBlank()){var f=c.getModel("splitArea"),g=f.getModel("areaStyle");c=g.get("color");d=d.coordinateSystem.getRect();f=e.getTicksCoords({tickModel:f,clamp:!0});if(f.length){var h=c.length,k=a.__splitAreaColors,l=aa(),m=0;if(k)for(var n=0;n<f.length;n++){var p=
k.get(f[n].tickValue);if(p!=null){m=(p+(h-1)*n)%h;break}}k=e.toGlobalCoord(f[0].coord);g=g.getAreaStyle();c=F(c)?c:[c];for(n=1;n<f.length;n++){var q=e.toGlobalCoord(f[n].coord);if(e.isHorizontal()){p=k;var t=d.y,r=q-p;q=d.height;k=p+r}else p=d.x,t=k,r=d.width,q-=t,k=t+q;var u=f[n-1].tickValue;u!=null&&l.set(u,m);b.add(new oa({anid:u!=null?"area_"+u:null,shape:{x:p,y:t,width:r,height:q},style:Q({fill:c[m]},g),silent:!0}));m=(m+1)%h}a.__splitAreaColors=l}}}function vu(a,b,c,d,e,f,g){g=c.getModel("label");
c=c.getModel("emphasis.label");yb(a,b,g,c,{labelFetcher:e,labelDataIndex:f,defaultText:ij(e.getData(),f),isRectText:!0,autoColor:d});a.textPosition==="outside"&&(a.textPosition=void 0);b.textPosition==="outside"&&(b.textPosition=void 0)}function GC(a,b){var c=a.getArea&&a.getArea();a.type==="cartesian2d"&&(a=a.getBaseAxis(),a.type==="category"&&a.onBand||(b=b.getLayout("bandWidth"),a.isHorizontal()?(c.x-=b,c.width+=b*2):(c.y-=b,c.height+=b*2)));return c}function wu(a,b,c){c.style.text=null;ba(c,{shape:{width:0}},
b,a,function(){c.parent&&c.parent.remove(c)})}function xu(a,b,c){c.style.text=null;ba(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function rn(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function yu(a,b,c,d,e,f,g,h){var k=b.getItemVisual(c,"color"),l=b.getItemVisual(c,"opacity"),m=b.getVisual("borderColor"),n=d.getModel("itemStyle");b=d.getModel("emphasis.itemStyle").getBarItemStyle();h||a.setShape("r",n.get("barBorderRadius")||0);a.useStyle(Q({stroke:rn(e)?
"none":m,fill:rn(e)?"none":k,opacity:l},n.getBarItemStyle()));(l=d.getShallow("cursor"))&&a.attr("cursor",l);g=g?e.height>0?"bottom":"top":e.width>0?"left":"right";h||vu(a.style,b,d,k,f,c,g);rn(e)&&(b.fill=b.stroke="none");Aa(a,b)}function zu(a,b,c){var d=a.getData(),e=[],f=d.getLayout("valueAxisHorizontal")?1:0;e[1-f]=d.getLayout("valueAxisStart");var g=d.getLayout("largeDataIndices"),h=d.getLayout("barWidth"),k=a.getModel("backgroundStyle");if(a.get("showBackground",!0)){var l=d.getLayout("largeBackgroundPoints"),
m=[];m[1-f]=d.getLayout("backgroundStart");l=new Au({shape:{points:l},incremental:!!c,__startPoint:m,__baseDimIdx:f,__largeDataIndices:g,__barWidth:h,silent:!0,z2:0});m=k.get("borderColor")||k.get("color");k=k.getItemStyle(["color","borderColor"]);l.useStyle(k);l.style.fill=null;l.style.stroke=m;l.style.lineWidth=d.getLayout("barWidth");b.add(l)}c=new Au({shape:{points:d.getLayout("largePoints")},incremental:!!c,__startPoint:e,__baseDimIdx:f,__largeDataIndices:g,__barWidth:h});b.add(c);b=d.getVisual("borderColor")||
d.getVisual("color");e=a.getModel("itemStyle").getItemStyle(["color","borderColor"]);c.useStyle(e);c.style.fill=null;c.style.stroke=b;c.style.lineWidth=d.getLayout("barWidth");c.seriesIndex=a.seriesIndex;a.get("silent")||(c.on("mousedown",Bu),c.on("mousemove",Bu))}function Cu(a,b,c){var d=c.type==="polar";c=d?c.getArea():c.grid.getRect();return d?{cx:c.cx,cy:c.cy,r0:a?c.r0:b.r0,r:a?c.r:b.r,startAngle:a?b.startAngle:0,endAngle:a?b.endAngle:Math.PI*2}:{x:a?b.x:c.x,y:a?c.y:b.y,width:a?b.width:c.width,
height:a?c.height:b.height}}function hh(a,b){this.getAllNames=function(){var c=b();return c.mapArray(c.getName)};this.containName=function(c){return b().indexOfName(c)>=0};this.indexOfName=function(c){return a().indexOfName(c)};this.getItemVisual=function(c,d){return a().getItemVisual(c,d)}}function HC(a,b,c,d){var e=b.getData(),f=e.getName(this.dataIndex),g=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:f,seriesId:b.id});e.each(function(h){Du(e.getItemGraphicEl(h),e.getItemLayout(h),
b.isSelected(e.getName(h)),g,c)})}function Du(a,b,c,d,e){b=(b.startAngle+b.endAngle)/2;c=c?d:0;c=[Math.cos(b)*c,Math.sin(b)*c];e?a.animate().when(200,{position:c}).start("bounceOut"):a.attr("position",c)}function sn(a,b){O.call(this);var c=new fc({z2:2}),d=new Tb,e=new fa;this.add(c);this.add(d);this.add(e);this.updateData(a,b,!0)}function Eu(a,b,c,d,e,f,g,h,k,l){function m(u,v,x,w){for(w=u;w<v&&!(a[w].y+x>k+g);w++)if(a[w].y+=x,w>u&&w+1<v&&a[w+1].y>a[w].y+a[w].height){n(w,x/2);return}n(v-1,x/2)}function n(u,
v){for(;u>=0&&!(a[u].y-v<k)&&!(a[u].y-=v,u>0&&a[u].y>a[u-1].y+a[u-1].height);u--);}function p(u,v,x,w,z,A){for(var B=v?Number.MAX_VALUE:0,C=0,D=u.length;C<D;C++)if(u[C].labelAlignTo==="none"){var E=Math.abs(u[C].y-w),P=u[C].len,W=u[C].len2;E=E<z+P?Math.sqrt((z+P+W)*(z+P+W)-E*E):Math.abs(u[C].x-x);v&&E>=B&&(E=B-10);!v&&E<=B&&(E=B+10);u[C].x=x+E*A;B=E}}a.sort(function(u,v){return u.y-v.y});var q=0;f=a.length;h=[];for(var t=[],r=0;r<f;r++)a[r].position==="outer"&&a[r].labelAlignTo==="labelLine"&&(a[r].linePoints[1][0]+=
a[r].x-l,a[r].x=l),q=a[r].y-q,q<0&&m(r,f,-q,e),q=a[r].y+a[r].height;g-q<0&&n(f-1,q-g);for(r=0;r<f;r++)a[r].y>=c?t.push(a[r]):h.push(a[r]);p(h,!1,b,c,d,e);p(t,!0,b,c,d,e)}function IC(a,b,c,d,e,f,g,h){for(var k=[],l=[],m=Number.MAX_VALUE,n=-Number.MAX_VALUE,p=0;p<a.length;p++)a[p].position!=="center"&&(a[p].x<b?(m=Math.min(m,a[p].x),k.push(a[p])):(n=Math.max(n,a[p].x),l.push(a[p])));Eu(l,b,c,d,1,e,f,g,h,n);Eu(k,b,c,d,-1,e,f,g,h,m);for(p=0;p<a.length;p++)if(c=a[p],c.position!=="center"&&(d=c.linePoints))f=
c.labelAlignTo==="edge",h=c.textRect.width,k=f?c.x<b?d[2][0]-c.labelDistance-g-c.labelMargin:g+e-c.labelMargin-d[2][0]-c.labelDistance:c.x<b?c.x-g-c.bleedMargin:g+e-c.x-c.bleedMargin,k<c.textRect.width&&(c.text=xl(c.text,k,c.font),c.labelAlignTo==="edge"&&(h=wb(c.text,c.font))),k=d[1][0]-d[2][0],f?d[2][0]=c.x<b?g+c.labelMargin+h+c.labelDistance:g+e-c.labelMargin-h-c.labelDistance:(d[2][0]=c.x<b?c.x+c.labelDistance:c.x-c.labelDistance,d[1][0]=d[2][0]+k),d[1][1]=d[2][1]=c.y}function JC(a,b){return Ja(a.getBoxLayoutParams(),
{width:b.getWidth(),height:b.getHeight()})}function Fu(){this.group=new O}function Gu(a,b,c){Ma.call(this,a,b,c);this.type="value";this.angle=0;this.name=""}function zc(a,b,c){this._model=a;this.dimensions=[];this._indicatorAxes=H(a.getIndicatorModels(),function(d,e){e="indicator_"+e;var f=new Gu(e,d.get("axisType")==="log"?new mj:new yc);f.name=d.get("name");f.model=d;d.axis=f;this.dimensions.push(e);return f},this);this.resize(a,c)}function Hu(a){return!isNaN(a[0])&&!isNaN(a[1])}function KC(a){for(var b,
c=0;c<a.length;c++){var d=a[c].getBoundingRect();b=b||d.clone();b.union(d)}return b}function Iu(a,b){a=a.svgXML;try{var c;if(c=a)c=(new Zi).parse(a,{ignoreViewBox:!0,ignoreRootClip:!0});var d=c||{},e=d.root;ja(e!=null)}catch(f){throw Error("Invalid svg format\n"+f.message);}c=d.width;a=d.height;d=d.viewBoxRect;b||(b=c==null||a==null?e.getBoundingRect():new ea(0,0,0,0),c!=null&&(b.width=c),a!=null&&(b.height=a));d&&(d=nt(d,b.width,b.height),c=e,e=new O,e.add(c),c.scale=d.scale,c.position=d.position);
e.setClipPath(new oa({shape:b.plain()}));return{root:e,boundingRect:b}}function Ju(a){return function(b,c){var d=Ku(b),e=[];y(d,function(f){var g=Lu[f.type][a];g&&e.push(g(b,f,c))});return e}}function Ku(a){var b=nj.retrieveMap(a)||[];I&&(b.length||I&&console.error("Map "+a+" not exists. The GeoJSON of the map must be provided."));return b}function oj(a){return a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={})}function Lf(a){this._zr=a;this._opt={};var b=L(LC,this),c=L(MC,this),
d=L(NC,this),e=L(OC,this),f=L(PC,this);Ra.call(this);this.setPointerChecker=function(g){this.pointerChecker=g};this.enable=function(g,h){this.disable();this._opt=Q(T(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0});g==null&&(g=!0);if(g===!0||g==="move"||g==="pan")a.on("mousedown",b),a.on("mousemove",c),a.on("mouseup",d);if(g===!0||g==="scale"||g==="zoom")a.on("mousewheel",e),a.on("pinch",f)};this.dispose=this.disable=function(){a.off("mousedown",b);a.off("mousemove",
c);a.off("mouseup",d);a.off("mousewheel",e);a.off("pinch",f)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function LC(a){if(!(a.which===2||a.which===3||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function MC(a){if(this._dragging&&ih("moveOnMouseMove",a,this._opt)&&a.gestureEvent!=="pinch"&&!oj(this._zr).globalPan){var b=a.offsetX,c=a.offsetY,
d=this._x,e=this._y,f=b-d,g=c-e;this._x=b;this._y=c;this._opt.preventDefaultMouseMove&&fe(a.event);b={dx:f,dy:g,oldX:d,oldY:e,newX:b,newY:c};b.isAvailableBehavior=L(ih,null,"moveOnMouseMove",a);this.trigger("pan",b)}}function NC(a){a.which!==2&&a.which!==3&&(this._dragging=!1)}function OC(a){var b=ih("zoomOnMouseWheel",a,this._opt),c=ih("moveOnMouseWheel",a,this._opt),d=a.wheelDelta,e=Math.abs(d),f=a.offsetX,g=a.offsetY;d!==0&&(b||c)&&(b&&(b=e>3?1.4:e>1?1.2:1.1,tn(this,"zoom","zoomOnMouseWheel",a,
{scale:d>0?b:1/b,originX:f,originY:g})),c&&(c=Math.abs(d),tn(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:(d>0?1:-1)*(c>3?.4:c>1?.15:.05),originX:f,originY:g})))}function PC(a){oj(this._zr).globalPan||tn(this,"zoom",null,a,{scale:a.pinchScale>1?1.1:1/1.1,originX:a.pinchX,originY:a.pinchY})}function tn(a,b,c,d,e){a.pointerChecker&&a.pointerChecker(d,e.originX,e.originY)&&(fe(d.event),e.isAvailableBehavior=L(ih,null,c,d),a.trigger(b,e))}function ih(a,b,c){c=c[a];return!a||c&&(!va(c)||b.event[c+
"Key"])}function un(a,b,c){a=a.target;var d=a.position;d[0]+=b;d[1]+=c;a.dirty()}function vn(a,b,c,d){var e=a.target,f=a.zoomLimit,g=e.position,h=e.scale,k=a.zoom=a.zoom||1;k*=b;f&&(k=Math.max(Math.min(f.max||Infinity,k),f.min||0));b=k/a.zoom;a.zoom=k;g[0]-=(c-g[0])*(b-1);g[1]-=(d-g[1])*(b-1);h[0]*=b;h[1]*=b;e.dirty()}function pj(a,b,c){b=(a=b.getComponentByElement(a.topTarget))&&a.coordinateSystem;return a&&a!==c&&!QC[a.mainType]&&b&&b.model!==c}function Mu(a){var b=a.getItemStyle();a=a.get("areaColor");
a!=null&&(b.fill=a);return b}function RC(a,b,c,d,e){c.off("click");c.off("mousedown");b.get("selectedMode")&&(c.on("mousedown",function(){a._mouseDownFlag=!0}),c.on("click",function(f){if(a._mouseDownFlag){a._mouseDownFlag=!1;for(f=f.target;!f.__regions;)f=f.parent;f&&(f={type:(b.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:H(f.__regions,function(g){return{name:g.name,from:e.uid}})},f[b.mainType+"Id"]=b.id,d.dispatchAction(f),Nu(b,c))}}))}function Nu(a,b){b.eachChild(function(c){y(c.__regions,
function(d){c.trigger(a.isSelected(d.name)?"emphasis":"normal")})})}function qj(a,b){var c=new O;this.uid=Ng("ec_map_draw");this._controller=new Lf(a.getZr());this._controllerHost={target:b?c:null};this.group=c;this._updateGroup=b;c.add(this._regionsGroup=new O);c.add(this._backgroundGroup=new O)}function Ou(a){var b=this.__seriesMapHighDown;b&&b.recordVersion===this.__seriesMapCallKey&&Pu(b,a)}function Pu(a,b){var c=a.circle,d=a.labelModel,e=a.hoverLabelModel,f=a.emphasisText;a=a.normalText;b?(c.style.extendFrom(Ca({},
e,{text:e.get("show")?f:null},{isRectText:!0,useInsideStyle:!1},!0)),c.__mapOriginalZ2=c.z2,c.z2+=1):(Ca(c.style,d,{text:d.get("show")?a:null,textPosition:d.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),c.dirty(!1),c.__mapOriginalZ2!=null&&(c.z2=c.__mapOriginalZ2,c.__mapOriginalZ2=null))}function wn(a,b,c){var d=a.getZoom(),e=a.getCenter(),f=b.zoom,g=a.dataToPoint(e);b.dx!=null&&b.dy!=null&&(g[0]-=b.dx,g[1]-=b.dy,e=a.pointToData(g),a.setCenter(e));f!=null&&(c&&(f=Math.max(Math.min(d*
f,c.max||Infinity),c.min||0)/d),a.scale[0]*=f,a.scale[1]*=f,c=a.position,e=(b.originY-c[1])*(f-1),c[0]-=(b.originX-c[0])*(f-1),c[1]-=e,a.updateTransform(),e=a.pointToData(g),a.setCenter(e),a.setZoom(f*d));return{center:a.getCenter(),zoom:a.getZoom()}}function xn(){dc.call(this)}function Ld(a){this.name=a;dc.call(this);this._roamTransformable=new xn;this._rawTransformable=new xn;this._center;this._zoom}function Qu(a,b,c,d){b=(b=c.seriesModel)?b.coordinateSystem:null;return b===this?b[a](d):null}function Mf(a,
b,c,d){Ld.call(this,a);this.map=b;a=jh.load(b,c);this._nameCoordMap=a.nameCoordMap;this._regionsMap=a.regionsMap;this._invertLongitute=d==null?!0:d;this.regions=a.regions;this._rect=a.boundingRect}function Ru(a,b,c,d){b=c.geoModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return c===this?c[a](d):null}function Su(a,b){var c=a.get("boundingCoords");if(c!=null){var d=c[0];c=c[1];isNaN(d[0])||isNaN(d[1])||isNaN(c[0])||isNaN(c[1])?
I&&console.error("Invalid boundingCoords"):this.setBoundingRect(d[0],d[1],c[0]-d[0],c[1]-d[1])}var e=this.getBoundingRect();d=a.get("layoutCenter");c=a.get("layoutSize");var f=b.getWidth();b=b.getHeight();e=e.width/e.height*this.aspectScale;var g=!1;d&&c&&(d=[G(d[0],f),G(d[1],b)],c=G(c,Math.min(f,b)),isNaN(d[0])||isNaN(d[1])||isNaN(c)?I&&console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):g=!0);g?(f={},e>1?(f.width=c,f.height=c/e):(f.height=c,f.width=
c*e),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2):(d=a.getBoxLayoutParams(),d.aspect=e,f=Ja(d,{width:f,height:b}));this.setViewRect(f.x,f.y,f.width,f.height);this.setCenter(a.get("center"));this.setZoom(a.get("zoom"))}function Tu(a,b){y(b.get("geoCoord"),function(c,d){a.addGeoCoord(d,c)})}function SC(a,b){var c={};y(a,function(d){d.each(d.mapDimension("value"),function(e,f){f="ec-"+d.getName(f);c[f]=c[f]||[];isNaN(e)||c[f].push(e)})});return a[0].map(a[0].mapDimension("value"),function(d,e){e="ec-"+a[0].getName(e);
var f=0,g=Infinity,h=-Infinity;d=c[e].length;for(var k=0;k<d;k++)g=Math.min(g,c[e][k]),h=Math.max(h,c[e][k]),f+=c[e][k];e=b==="min"?g:b==="max"?h:b==="average"?f/d:f;return d===0?NaN:e})}function Uu(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"});a.datas=a.mainData=null;Vu(b,c,a);kh(c,function(d){kh(b.TRANSFERABLE_METHODS,function(e){d.wrapMethod(e,R(TC,a))})});b.wrapMethod("cloneShallow",R(UC,a));kh(b.CHANGABLE_METHODS,function(d){b.wrapMethod(d,R(VC,a))});ja(c[b.dataType]===
b)}function TC(a,b){if(this["\x00__link_mainData"]===this){var c=U({},this["\x00__link_datas"]);c[this.dataType]=b;Vu(b,c,a)}else yn(b,this.dataType,this["\x00__link_mainData"],a);return b}function VC(a,b){a.struct&&a.struct.update(this);return b}function UC(a,b){kh(b["\x00__link_datas"],function(c,d){c!==b&&yn(c.cloneShallow(),d,b,a)});return b}function WC(a){var b=this["\x00__link_mainData"];return a==null||b==null?b:b["\x00__link_datas"][a]}function Vu(a,b,c){a["\x00__link_datas"]={};kh(b,function(d,
e){yn(d,e,a,c)})}function yn(a,b,c,d){c["\x00__link_datas"][b]=a;a["\x00__link_mainData"]=c;a.dataType=b;d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a);a.getLinkedData=WC}function ze(a){this._nodes=[];this.hostModel=a}function XC(a){a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};a=[a];for(var b,c;b=a.pop();)if(c=b.children,b.isExpand&&c.length)for(b=c.length-1;b>=0;b--){var d=c[b];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,
modifier:0,change:0,shift:0,i:b,thread:null};a.push(d)}}function YC(a,b){var c=a.isExpand?a.children:[],d=a.parentNode.children,e=a.hierNode.i?d[a.hierNode.i-1]:null;if(c.length){for(var f=a.children,g=f.length,h=0,k=0;--g>=0;){var l=f[g];l.hierNode.prelim+=h;l.hierNode.modifier+=h;k+=l.hierNode.change;h+=l.hierNode.shift+k}c=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;e?(a.hierNode.prelim=e.hierNode.prelim+b(a,e),a.hierNode.modifier=a.hierNode.prelim-c):a.hierNode.prelim=c}else e&&(a.hierNode.prelim=
e.hierNode.prelim+b(a,e));c=a.parentNode.hierNode;d=a.parentNode.hierNode.defaultAncestor||d[0];if(e){g=f=a;h=g.parentNode.children[0];k=f.hierNode.modifier;l=g.hierNode.modifier;for(var m=h.hierNode.modifier,n=e.hierNode.modifier;e=zn(e),g=An(g),e&&g;){f=zn(f);h=An(h);f.hierNode.ancestor=a;var p=e.hierNode.prelim+n-g.hierNode.prelim-l+b(e,g);if(p>0){var q=e.hierNode.ancestor.parentNode===a.parentNode?e.hierNode.ancestor:d,t=a,r=p,u=r/(t.hierNode.i-q.hierNode.i);t.hierNode.change-=u;t.hierNode.shift+=
r;t.hierNode.modifier+=r;t.hierNode.prelim+=r;q.hierNode.change+=u;l+=p;k+=p}n+=e.hierNode.modifier;l+=g.hierNode.modifier;k+=f.hierNode.modifier;m+=h.hierNode.modifier}e&&!zn(f)&&(f.hierNode.thread=e,f.hierNode.modifier+=n-k);g&&!An(h)&&(h.hierNode.thread=g,h.hierNode.modifier+=l-m,d=a)}c.defaultAncestor=d}function ZC(a){a.setLayout({x:a.hierNode.prelim+a.parentNode.hierNode.modifier},!0);a.hierNode.modifier+=a.parentNode.hierNode.modifier}function Wu(a){return arguments.length?a:$C}function lh(a,
b){var c={};a-=Math.PI/2;c.x=b*Math.cos(a);c.y=b*Math.sin(a);return c}function aD(a,b){return Ja(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function zn(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function An(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function $C(a,b){return a.parentNode===b.parentNode?1:2}function Xu(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)&&a.getItemVisual(b,"symbol")!==
"none"}function Yu(a,b,c){c.itemModel=b;c.itemStyle=b.getModel("itemStyle").getItemStyle();c.hoverItemStyle=b.getModel("emphasis.itemStyle").getItemStyle();c.lineStyle=b.getModel("lineStyle").getLineStyle();c.labelModel=b.getModel("label");c.hoverLabelModel=b.getModel("emphasis.label");c.symbolInnerColor=a.isExpand===!1&&a.children.length!==0?c.itemStyle.fill:"#fff";return c}function Zu(a,b,c,d,e,f){var g=!c,h=a.tree.getNodeByDataIndex(b),k=h.getModel();f=Yu(h,k,f);var l=a.tree.root,m=h.parentNode===
l?h:h.parentNode||h;k=a.getItemGraphicEl(m.dataIndex);m=m.getLayout();var n=k?{x:k.position[0],y:k.position[1],rawX:k.__radialOldRawX,rawY:k.__radialOldRawY}:m;k=h.getLayout();g?(c=new Id(a,b,f),c.attr("position",[n.x,n.y])):c.updateData(a,b,f);c.__radialOldRawX=c.__radialRawX;c.__radialOldRawY=c.__radialRawY;c.__radialRawX=k.rawX;c.__radialRawY=k.rawY;d.add(c);a.setItemGraphicEl(b,c);ba(c,{position:[k.x,k.y]},e);a=c.getSymbolPath();if(f.layout==="radial"){b=l.children[0];g=b.getLayout();var p=b.children.length;
if(k.x===g.x&&h.isExpand===!0){var q=(b.children[0].getLayout().x+b.children[p-1].getLayout().x)/2;b=(b.children[0].getLayout().y+b.children[p-1].getLayout().y)/2;b=Math.atan2(b-g.y,q-g.x);b<0&&(b=Math.PI*2+b);(g=q<g.x)&&(b-=Math.PI)}else b=Math.atan2(k.y-g.y,k.x-g.x),b<0&&(b=Math.PI*2+b),h.children.length===0||h.children.length!==0&&h.isExpand===!1?(g=k.x<g.x)&&(b-=Math.PI):(g=k.x>g.x)||(b-=Math.PI);g=g?"left":"right";q=f.labelModel.get("rotate");p=Math.PI/180*q;a.setStyle({textPosition:f.labelModel.get("position")||
g,textRotation:q==null?-b:p,textOrigin:"center",verticalAlign:"middle"})}b=f.edgeShape;a=c.__edge;if(b==="curve")h.parentNode&&h.parentNode!==l&&(a||(a=c.__edge=new rj({shape:Bn(f,n,n),style:Q({opacity:0,strokeNoScale:!0},f.lineStyle)})),ba(a,{shape:Bn(f,m,k),style:Q({opacity:1},f.lineStyle)},e));else if(b==="polyline")if(f.layout==="orthogonal"){if(h!==l&&h.children&&h.children.length!==0&&h.isExpand===!0){h=h.children;l=[];for(m=0;m<h.length;m++)n=h[m].getLayout(),l.push([n.x,n.y]);a||(a=c.__edge=
new bD({shape:{parentPoint:[k.x,k.y],childPoints:[[k.x,k.y]],orient:f.orient,forkPosition:f.edgeForkPosition},style:Q({opacity:0,strokeNoScale:!0},f.lineStyle)}));ba(a,{shape:{parentPoint:[k.x,k.y],childPoints:l},style:Q({opacity:1},f.lineStyle)},e)}}else if(I)throw Error("The polyline edgeShape can only be used in orthogonal layout");d.add(a)}function $u(a,b,c,d,e,f){var g=a.tree.getNodeByDataIndex(b),h=a.tree.root,k=g.getModel();f=Yu(g,k,f);g=g.parentNode===h?g:g.parentNode||g;k=f.edgeShape;for(var l;l=
g.getLayout(),l==null;)g=g.parentNode===h?g:g.parentNode||g;ba(c,{position:[l.x+1,l.y+1]},e,function(){d.remove(c);a.setItemGraphicEl(b,null)});c.fadeOut(null,{keepLabel:!0});h=a.getItemGraphicEl(g.dataIndex).__edge;var m=c.__edge||(g.isExpand===!1||g.children.length===1?h:void 0);k=f.edgeShape;m&&(k==="curve"?ba(m,{shape:Bn(f,l,l),style:{opacity:0}},e,function(){d.remove(m)}):k==="polyline"&&f.layout==="orthogonal"&&ba(m,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},e,
function(){d.remove(m)}))}function Bn(a,b,c){var d=a.orient;if(a.layout==="radial"){var e=b.rawX,f=b.rawY;b=c.rawX;c=c.rawY;var g=lh(e,f);e=lh(e,f+(c-f)*a.curvature);a=lh(b,c+(f-c)*a.curvature);b=lh(b,c);return{x1:g.x,y1:g.y,x2:b.x,y2:b.y,cpx1:e.x,cpy1:e.y,cpx2:a.x,cpy2:a.y}}e=b.x;f=b.y;b=c.x;c=c.y;if(d==="LR"||d==="RL"){g=e+(b-e)*a.curvature;var h=f,k=b+(e-b)*a.curvature,l=c}if(d==="TB"||d==="BT")g=e,h=f+(c-f)*a.curvature,k=b,l=c+(f-c)*a.curvature;return{x1:e,y1:f,x2:b,y2:c,cpx1:g,cpy1:h,cpx2:k,
cpy2:l}}function cD(a,b,c){a=[a];for(var d=[],e;e=a.pop();)if(d.push(e),e.isExpand&&(e=e.children,e.length))for(var f=0;f<e.length;f++)a.push(e[f]);for(;e=d.pop();)b(e,c)}function mh(a,b){a=[a];for(var c;c=a.pop();)if(b(c),c.isExpand&&(c=c.children,c.length))for(var d=c.length-1;d>=0;d--)a.push(c[d])}function dD(a,b){var c=aD(a,b);a.layoutInfo=c;b=a.get("layout");var d=0,e=0,f=null;b==="radial"?(d=2*Math.PI,e=Math.min(c.height,c.width)/2,f=Wu(function(u,v){return(u.parentNode===v.parentNode?1:2)/
u.depth})):(d=c.width,e=c.height,f=Wu());var g=a.getData().tree.root;if(c=g.children[0]){XC(g);cD(c,YC,f);g.hierNode.modifier=-c.hierNode.prelim;mh(c,ZC);var h=c,k=c,l=c;mh(c,function(u){var v=u.getLayout().x;v<h.getLayout().x&&(h=u);v>k.getLayout().x&&(k=u);u.depth>l.depth&&(l=u)});f=h===k?1:f(h,k)/2;var m=f-h.getLayout().x,n=0,p=0,q=0,t=0;if(b==="radial")n=d/(k.getLayout().x+f+m),p=e/(l.depth-1||1),mh(c,function(u){q=(u.getLayout().x+m)*n;t=(u.depth-1)*p;var v=lh(q,t);u.setLayout({x:v.x,y:v.y,rawX:q,
rawY:t},!0)});else{var r=a.getOrient();if(r==="RL"||r==="LR")p=e/(k.getLayout().x+f+m),n=d/(l.depth-1||1),mh(c,function(u){t=(u.getLayout().x+m)*p;q=r==="LR"?(u.depth-1)*n:d-(u.depth-1)*n;u.setLayout({x:q,y:t},!0)});else if(r==="TB"||r==="BT")n=d/(k.getLayout().x+f+m),p=e/(l.depth-1||1),mh(c,function(u){q=(u.getLayout().x+m)*n;t=r==="TB"?(u.depth-1)*p:e-(u.depth-1)*p;u.setLayout({x:q,y:t},!0)})}}}function nh(a,b,c){if(a&&ma(b,a.type)>=0){b=c.getData().tree.root;c=a.targetNode;typeof c==="string"&&
(c=b.getNodeById(c));if(c&&b.contains(c))return{node:c};a=a.targetNodeId;if(a!=null&&(c=b.getNodeById(a)))return{node:c}}}function av(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function Cn(a,b){a=av(a);return ma(a,b)>=0}function Dn(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)});a=a.parentNode}c.reverse();return c}function bv(a){var b=0;y(a.children,function(d){bv(d);d=d.value;F(d)&&(d=d[0]);b+=d});var c=a.value;F(c)&&(c=c[0]);
if(c==null||isNaN(c))c=b;c<0&&(c=0);F(a.value)?a.value[0]=c:a.value=c}function eD(a,b){if(b=b.get("color")){a=a||[];var c;y(a,function(d){d=new ka(d);var e=d.get("color");if(d.get("itemStyle.color")||e&&e!=="none")c=!0});c||((a[0]||(a[0]={})).color=b.slice());return a}}function En(a){this.group=new O;a.add(this.group)}function fD(){var a=[],b={},c;return{add:function(d,e,f,g,h){va(g)&&(h=g,g=0);if(b[d.id])return!1;b[d.id]=1;a.push({el:d,target:e,time:f,delay:g,easing:h});return!0},done:function(d){c=
d;return this},start:function(){function d(){e--;e||(a.length=0,b={},c&&c())}for(var e=a.length,f=0,g=a.length;f<g;f++){var h=a[f];h.el.animateTo(h.target,h.time,h.delay,h.easing,d)}return this}}}function oh(){return{nodeGroup:[],background:[],content:[]}}function gD(a,b,c,d,e,f,g,h,k,l){function m(M,J,S){J.dataIndex=g.dataIndex;J.seriesIndex=a.seriesIndex;J.setShape({x:0,y:0,width:v,height:x});if(z)!J.invisible&&f.push(J);else{J.invisible=!1;var N=g.getVisual("borderColor",!0),K=P.get("borderColor"),
Z=cv(E);Z.fill=N;var Ga=Fn(P);Ga.fill=K;S?(S=v-2*w,p(Z,Ga,N,S,C,{x:w,y:0,width:S,height:C})):Z.text=Ga.text=null;J.setStyle(Z);Lg(J,Ga)}M.add(J)}function n(M,J){J.dataIndex=g.dataIndex;J.seriesIndex=a.seriesIndex;var S=Math.max(v-2*w,0),N=Math.max(x-2*w,0);J.culling=!0;J.setShape({x:w,y:w,width:S,height:N});if(z)!J.invisible&&f.push(J);else{J.invisible=!1;var K=g.getVisual("color",!0),Z=cv(E);Z.fill=K;var Ga=Fn(P);p(Z,Ga,K,S,N);J.setStyle(Z);Lg(J,Ga)}M.add(J)}function p(M,J,S,N,K,Z){var Ga=W.get("name"),
ib=W.getModel(Z?hD:iD),of=W.getModel(Z?jD:kD),bc=ib.getShallow("show");yb(M,J,ib,of,{defaultText:bc?Ga:null,autoColor:S,isRectText:!0,labelFetcher:a,labelDataIndex:g.dataIndex,labelProp:Z?"upperLabel":"label"});q(M,Z,r);q(J,Z,r);Z&&(M.textRect=T(Z));M.truncate=bc&&ib.get("ellipsis")?{outerWidth:N,outerHeight:K,minChar:2}:null}function q(M,J,S){var N=M.text;!J&&S.isLeafRoot&&N!=null&&(J=a.get("drillDownIcon",!0),M.text=J?J+" "+N:N)}function t(M,J,S,N){var K=B!=null&&c[M][B],Z=e[M];K?(c[M][B]=null,
J=K,(Z[A]={}).old=M==="nodeGroup"?J.position.slice():U({},J.shape)):z||(K=S*10+N,K=new J({z:(K-1)/K}),K.__tmDepth=S,K.__tmStorageName=M,Z=Z[A]={},!(N=g.parentNode)||d&&d.direction!=="drillDown"||(S=J=0,N=e.background[N.getRawIndex()],!d&&N&&N.old&&(J=N.old.width,S=N.old.height),Z.old=M==="nodeGroup"?[0,S]:{x:J,y:S,width:0,height:0}),Z.fadein=M!=="nodeGroup");return b[M][A]=K}if(g){var r=g.getLayout(),u=a.getData();u.setItemGraphicEl(g.dataIndex,null);if(r&&r.isInView){var v=r.width,x=r.height,w=r.borderWidth,
z=r.invisible,A=g.getRawIndex(),B=h&&h.getRawIndex();h=g.viewChildren;var C=r.upperHeight,D=h&&h.length,E=g.getModel("itemStyle"),P=g.getModel("emphasis.itemStyle");if(h=t("nodeGroup",dv)){k.add(h);h.attr("position",[r.x||0,r.y||0]);h.__tmNodeWidth=v;h.__tmNodeHeight=x;if(r.isAboveViewRoot)return h;var W=g.getModel();(k=t("background",ev,l,1))&&m(h,k,D&&r.upperLabelHeight);D?(Ji(h)&&qe(h,!1),k&&(qe(k,!0),u.setItemGraphicEl(g.dataIndex,k))):((l=t("content",ev,l,2))&&n(h,l),k&&Ji(k)&&qe(k,!1),qe(h,
!0),u.setItemGraphicEl(g.dataIndex,h));return h}}}}function lD(a){var b=a.pieceList;a.hasSpecialVisual=!1;y(b,function(c,d){c.originIndex=d;c.visual!=null&&(a.hasSpecialVisual=!0)})}function mD(a){var b=a.categories,c=a.visual,d=a.categoryMap={};ph(b,function(f,g){d[f]=g});if(!F(c)){var e=[];X(c)?ph(c,function(f,g){g=d[g];e[g!=null?g:-1]=f}):e[-1]=c;c=fv(a,e)}for(a=b.length-1;a>=0;a--)c[a]==null&&(delete d[b[a]],b.pop())}function Gn(a,b){var c=a.visual,d=[];X(c)?ph(c,function(e){d.push(e)}):c!=null&&
d.push(c);c={color:1,symbol:1};b||d.length!==1||c.hasOwnProperty(a.type)||(d[1]=d[0]);fv(a,d)}function sj(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:Hn([0,1])}}function gv(a){var b=this.option.visual;return b[Math.round(ia(a,[0,1],[0,b.length-1],!0))]||{}}function tj(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function uj(a){var b=this.option.visual;return b[this.option.loop&&a!==-1?a%b.length:a]}function Ae(){return this.option.visual[0]}
function Hn(a){return{linear:function(b){return ia(b,a,this.option.visual,!0)},category:uj,piecewise:function(b,c){c=In.call(this,c);c==null&&(c=ia(b,a,this.option.visual,!0));return c},fixed:Ae}}function In(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=ta.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function fv(a,b){a.visual=b;a.type==="color"&&(a.parsedVisual=H(b,function(c){return vb(c)}));return b}function vj(a,b,c){return a?b<=c:b<c}function hv(a,b,c,d){var e=
a.getModel(),f=a.getLayout();if(f&&!f.invisible&&f.isInView){var g=a.getModel("itemStyle"),h=nD(g,b,d),k=g.get("borderColor");b=g.get("borderColorSaturation");b!=null&&(k=iv(h,a),k=k!=null?hf(k,null,null,b):null);a.setVisual("borderColor",k);if((b=a.viewChildren)&&b.length){var l=oD(a,e,f,g,h,b);y(b,function(m,n){if(m.depth>=c.length||m===c[m.depth]){var p=U({},h);if(l){var q=l.type,t=q==="color"&&l.__drColorMappingBy;n=t==="index"?n:t==="id"?d.mapIdToIndex(m.getId()):m.getValue(e.get("visualDimension"));
p[q]=l.mapValueToVisual(n)}hv(m,p,c,d)}})}else k=iv(h,a),a.setVisual("color",k)}}function nD(a,b,c){var d=U({},b),e=c.designatedVisualItemStyle;y(["color","colorAlpha","colorSaturation"],function(f){e[f]=b[f];var g=a.get(f);e[f]=null;g!=null&&(d[f]=g)});return d}function iv(a){var b=Jn(a,"color");if(b){var c=Jn(a,"colorAlpha");(a=Jn(a,"colorSaturation"))&&(b=hf(b,null,null,a));c&&(b=fi(b,c));return b}}function Jn(a,b){a=a[b];if(a!=null&&a!=="none")return a}function oD(a,b,c,d,e,f){if(f&&f.length&&
(a=Kn(b,"color")||e.color!=null&&e.color!=="none"&&(Kn(b,"colorAlpha")||Kn(b,"colorSaturation"))))return d=b.get("visualMin"),e=b.get("visualMax"),c=c.dataExtent.slice(),d!=null&&d<c[0]&&(c[0]=d),e!=null&&e>c[1]&&(c[1]=e),b=b.get("colorMappingBy"),c={type:a.name,dataExtent:c,visual:a.range},c.type!=="color"||b!=="index"&&b!=="id"?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0),c=new ta(c),c.__drColorMappingBy=b,c}function Kn(a,b){a=a.get(b);return pD(a)&&a.length?{name:b,range:a}:
null}function jv(a,b,c,d){if(!a.isRemoved()){var e=a.getLayout(),f=e.width,g=e.height;e=a.getModel();var h=e.get(kv),k=e.get(qD)/2,l=lv(e),m=Math.max(h,l),n=h-k,p=m-k;e=a.getModel();a.setLayout({borderWidth:h,upperHeight:m,upperLabelHeight:l},!0);f=qh(f-2*n,0);g=qh(g-n-p,0);h=f*g;a=rD(a,e,h,b,c,d);if(a.length){n={x:n,y:p,width:f,height:g};f=wj(f,g);g=Infinity;p=[];l=p.area=0;for(m=a.length;l<m;){var q=a[l];p.push(q);p.area+=q.getLayout().area;var t,r=p,u=f,v=b.squareRatio;q=0;for(var x=Infinity,w=
0,z=r.length;w<z;w++)if(t=r[w].getLayout().area)t<x&&(x=t),t>q&&(q=t);t=r.area*r.area;u=u*u*v;q=t?qh(u*q/t,t/(u*x)):Infinity;q<=g?(l++,g=q):(p.area-=p.pop().getLayout().area,mv(p,f,n,k,!1),f=wj(n.width,n.height),p.length=p.area=0,g=Infinity)}p.length&&mv(p,f,n,k,!0);c||(e=e.get("childrenVisibleMin"),e!=null&&h<e&&(c=!0));l=0;for(m=a.length;l<m;l++)jv(a[l],b,c,d+1)}}}function rD(a,b,c,d,e,f){var g=a.children||[],h=d.sort;h!=="asc"&&h!=="desc"&&(h=null);d=d.leafDepth!=null&&d.leafDepth<=f;if(e&&!d)return a.viewChildren=
[];g=Na(g,function(k){return!k.isRemoved()});sD(g,h);e=tD(b,g,h);if(e.sum===0)return a.viewChildren=[];e.sum=uD(b,c,e.sum,h,g);if(e.sum===0)return a.viewChildren=[];b=0;for(h=g.length;b<h;b++)f=g[b].getValue()/e.sum*c,g[b].setLayout({area:f});d&&(g.length&&a.setLayout({isLeafRoot:!0},!0),g.length=0);a.viewChildren=g;a.setLayout({dataExtent:e.dataExtent},!0);return g}function uD(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var f=e.length,g=f,h=f-1;h>=0;h--){var k=e[d==="asc"?f-h-1:h].getValue();
k/c*b<a&&(g=h,c-=k)}d==="asc"?e.splice(0,f-g):e.splice(g,f-g);return c}function sD(a,b){b&&a.sort(function(c,d){var e=b==="asc"?c.getValue()-d.getValue():d.getValue()-c.getValue();return e===0?b==="asc"?c.dataIndex-d.dataIndex:d.dataIndex-c.dataIndex:e});return a}function tD(a,b,c){for(var d=0,e=0,f=b.length;e<f;e++)d+=b[e].getValue();var g=a.get("visualDimension");if(b&&b.length)if(g==="value"&&c){var h=[b[b.length-1].getValue(),b[0].getValue()];c==="asc"&&h.reverse()}else h=[Infinity,-Infinity],
Ln(b,function(k){k=k.getValue(g);k<h[0]&&(h[0]=k);k>h[1]&&(h[1]=k)});else h=[NaN,NaN];return{sum:d,dataExtent:h}}function mv(a,b,c,d,e){var f=b===c.width?0:1,g=1-f,h=["x","y"],k=["width","height"],l=c[h[f]];b=b?a.area/b:0;if(e||b>c[k[g]])b=c[k[g]];e=0;for(var m=a.length;e<m;e++){var n=a[e],p={},q=b?n.getLayout().area/b:0,t=p[k[g]]=qh(b-2*d,0),r=c[h[f]]+c[k[f]]-l;q=e===m-1||r<q?r:q;r=p[k[f]]=qh(q-2*d,0);p[h[g]]=c[h[g]]+wj(d,t/2);p[h[f]]=l+wj(d,r/2);l+=q;n.setLayout(p,!0)}c[h[g]]+=b;c[k[g]]-=b}function vD(a,
b,c,d,e){var f=(b||{}).node;b=[d,e];if(!f||f===c)return b;c=d*e;for(var g=c*a.option.zoomToNodeRatio;a=f.parentNode;){for(var h=0,k=a.children,l=0,m=k.length;l<m;l++)h+=k[l].getValue();f=f.getValue();if(f===0)return b;g*=h/f;h=a.getModel();f=h.get(kv);h=Math.max(f,lv(h,f));g+=4*f*f+(3*f+h)*Math.pow(g,.5);g>9007199254740991&&(g=9007199254740991);f=a}g<c&&(g=c);b=Math.pow(g/c,.5);return[d*b,e*b]}function wD(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;
for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function nv(a,b,c,d,e){var f=a.getLayout(),g=c[e],h=g&&g===a;if(!(g&&!h||e===c.length&&a!==d)){a.setLayout({isInView:!0,invisible:!h&&!b.intersect(f),isAboveViewRoot:h},!0);var k=new ea(b.x-f.x,b.y-f.y,b.width,b.height);Ln(a.viewChildren||[],function(l){nv(l,k,c,d,e+1)})}}function lv(a){return a.get(xD)?a.get(yD):0}function hc(a,b){this.id=a==null?"":a;this.inEdges=[];this.outEdges=
[];this.edges=[];this.dataIndex=b==null?-1:b}function rh(a,b,c){this.node1=a;this.node2=b;this.dataIndex=c==null?-1:c}function Mn(a,b,c,d){var e=xj(b),f=F(e);if(!e)return null;var g=sh(a.node1,a.node2,b),h=b.__edgeMap[g];if(!h)return null;g=-1;for(var k=0;k<h.length;k++)if(h[k]===c){g=k;break}c=Nn(sh(a.node1,a.node2,b),b);k=Nn(sh(a.node2,a.node1,b),b);c+=k;ov(b,c);a.lineStyle=a.lineStyle||{};k=sh(a.node1,a.node2,b);a=b.__curvenessList;c=f?0:c%2?0:1;if(h.isForward)return a[c+g];h=pv(k);b=Nn(h,b);h=
a[g+b+c];return d?f?e&&e[0]===0?(b+c)%2?h:-h:((b%2?0:1)+c)%2?h:-h:(b+c)%2?h:-h:a[g+b+c]}function On(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function qv(a,b,c){var d=b.getItemVisual(c,a);if(d&&d!=="none"){var e=b.getItemVisual(c,"color"),f=b.getItemVisual(c,a+"Size");b=b.getItemVisual(c,a+"Rotate");F(f)||(f=[f,f]);d=Db(d,-f[0]/2,-f[1]/2,f[0],f[1],e);d.__specifiedRotation=b==null||isNaN(b)?void 0:+b*Math.PI/180||0;d.name=a;return d}}function zD(a){var b=new AD({name:"line",subPixelOptimize:!0});Pn(b.shape,
a);return b}function Pn(a,b){a.x1=b[0][0];a.y1=b[0][1];a.x2=b[1][0];a.y2=b[1][1];a.percent=1;(b=b[2])?(a.cpx1=b[0],a.cpy1=b[1]):(a.cpx1=NaN,a.cpy1=NaN)}function th(a,b,c){O.call(this);this._createLine(a,b,c)}function yj(a){this._ctor=a||th;this.group=new O}function rv(a){a=a.hostModel;return{lineStyle:a.getModel("lineStyle").getLineStyle(),hoverLineStyle:a.getModel("emphasis.lineStyle").getLineStyle(),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label")}}function sv(a){return isNaN(a[0])||
isNaN(a[1])}function Qn(a){return!sv(a[0])&&!sv(a[1])}function uh(a){var b=a.coordinateSystem;if(b.type!=="view")return 1;a=a.option.nodeScaleRatio;var c=b.scale;c=c&&c[0]||1;return((b.getZoom()-1)*a+1)/c}function vh(a){a=a.getVisual("symbolSize");a instanceof Array&&(a=(a[0]+a[1])/2);return+a}function tv(a,b,c){var d=a[0],e=a[1];a=a[2];var f=Infinity;c*=c;for(var g=.1,h=.1;h<=.9;h+=.1){Rn[0]=Nf(d[0],e[0],a[0],h);Rn[1]=Nf(d[1],e[1],a[1],h);var k=uv(Sn(Rn,b)-c);if(k<f){f=k;var l=h}}for(f=0;f<32;f++){k=
l+g;Tn[0]=Nf(d[0],e[0],a[0],l);Tn[1]=Nf(d[1],e[1],a[1],l);Un[0]=Nf(d[0],e[0],a[0],k);Un[1]=Nf(d[1],e[1],a[1],k);k=Sn(Tn,b)-c;if(uv(k)<.01)break;h=Sn(Un,b)-c;g/=2;l=k<0?h>=0?l+g:l-g:h>=0?l-g:l+g}return l}function vv(a,b){var c=a.getVisual("opacity");return c!=null?c:a.getModel().get(b)}function zj(a,b,c){var d=a.getGraphicEl(),e=vv(a,b);c!=null&&(e==null&&(e=1),e*=c);d.downplay&&d.downplay();d.traverse(function(f){if(!f.isGroup){var g=f.lineLabelOriginalOpacity;if(g==null||c!=null)g=e;f.setStyle("opacity",
g)}})}function Be(a,b){var c=vv(a,b);a=a.getGraphicEl();a.traverse(function(d){!d.isGroup&&d.setStyle("opacity",c)});a.highlight&&a.highlight()}function Aj(a){a instanceof Array||(a=[a,a]);return a}function wv(a){var b=a.coordinateSystem;b&&b.type!=="view"||(b=a.getGraph(),b.eachNode(function(c){var d=c.getModel();c.setLayout([+d.get("x"),+d.get("y")])}),xv(b,a))}function xv(a,b){a.eachEdge(function(c,d){d=oc(c.getModel().get("lineStyle.curveness"),-Mn(c,b,d,!0),0);var e=Xb(c.node1.getLayout()),f=
Xb(c.node2.getLayout()),g=[e,f];+d&&g.push([(e[0]+f[0])/2-(e[1]-f[1])*d,(e[1]+f[1])/2-(f[0]-e[0])*d]);c.setLayout(g)})}function yv(a,b){var c=a.coordinateSystem;if(!c||c.type==="view"){var d=c.getBoundingRect(),e=a.getData(),f=e.graph,g=d.width/2+d.x,h=d.height/2+d.y;d=Math.min(d.width,d.height)/2;var k=e.count();e.setLayout({cx:g,cy:h});k&&(BD[b](a,c,f,e,d,g,h,k),f.eachEdge(function(l,m){m=oc(l.getModel().get("lineStyle.curveness"),Mn(l,a,m),0);var n=Xb(l.node1.getLayout()),p=Xb(l.node2.getLayout()),
q=(n[0]+p[0])/2,t=(n[1]+p[1])/2;if(+m){m*=3;var r=[g*m+q*(1-m),h*m+t*(1-m)]}l.setLayout([n,p,r])}))}}function CD(a,b,c){var d=c.rect,e=d.width,f=d.height,g=[d.x+e/2,d.y+f/2],h=c.gravity==null?.1:c.gravity;for(d=0;d<a.length;d++){var k=a[d];k.p||(k.p=id(e*(Math.random()-.5)+g[0],f*(Math.random()-.5)+g[1]));k.pp=Xb(k.p);k.edges=null}var l=c.friction==null?.6:c.friction,m=l;return{warmUp:function(){m=l*.8},setFixed:function(n){a[n].fixed=!0},setUnfixed:function(n){a[n].fixed=!1},step:function(n){for(var p=
[],q=a.length,t=0;t<b.length;t++){var r=b[t];if(!r.ignoreForceLayout){var u=r.n1,v=r.n2;Mc(p,v.p,u.p);r=lg(p)-r.d;var x=v.w/(u.w+v.w);isNaN(x)&&(x=0);cf(p,p);!u.fixed&&Of(u.p,u.p,p,x*r*m);!v.fixed&&Of(v.p,v.p,p,-(1-x)*r*m)}}for(t=0;t<q;t++)u=a[t],u.fixed||(Mc(p,g,u.p),Of(u.p,u.p,p,h*m));for(t=0;t<q;t++)for(u=a[t],x=t+1;x<q;x++)v=a[x],Mc(p,v.p,u.p),r=lg(p),r===0&&(Bq(p,Math.random()-.5,Math.random()-.5),r=1),r=(u.rep+v.rep)/r/r,!u.fixed&&Of(u.pp,u.pp,p,r),!v.fixed&&Of(v.pp,v.pp,p,-r);p=[];for(t=0;t<
q;t++)u=a[t],u.fixed||(Mc(p,u.p,u.pp),Of(u.p,u.p,p,m),Xa(u.pp,u.p));m*=.992;n&&n(a,b,m<.01)}}}function DD(a,b,c){a=a.getBoxLayoutParams();a.aspect=c;return Ja(a,{width:b.getWidth(),height:b.getHeight()})}function zv(a,b){b&&(typeof b==="string"?a=b.replace("{value}",a!=null?a:""):typeof b==="function"&&(a=b(a)));return a}function Vn(a,b){O.call(this);var c=new sb,d=new Tb,e=new fa;this.add(c);this.add(d);this.add(e);this.highDownOnUpdate=function(f,g){g==="emphasis"?(d.ignore=d.hoverIgnore,e.ignore=
e.hoverIgnore):(d.ignore=d.normalIgnore,e.ignore=e.normalIgnore)};this.updateData(a,b,!0)}function ED(a,b){return Ja(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function FD(a,b){var c=a.mapDimension("value"),d=a.mapArray(c,function(g){return g});c=[];var e=b==="ascending",f=0;for(a=a.count();f<a;f++)c[f]=f;typeof b==="function"?c.sort(b):b!=="none"&&c.sort(function(g,h){return e?d[g]-d[h]:d[h]-d[g]});return c}function GD(a){a.each(function(b){var c=a.getItemModel(b),d=c.getModel("label").get("position"),
e=c.get("orient"),f=c.getModel("labelLine");b=a.getItemLayout(b);var g=b.points;if(c=d==="inner"||d==="inside"||d==="center"||d==="insideLeft"||d==="insideRight"){if(d==="insideLeft"){var h=(g[0][0]+g[3][0])/2+5,k=(g[0][1]+g[3][1])/2;g="left"}else d==="insideRight"?(h=(g[1][0]+g[2][0])/2-5,k=(g[1][1]+g[2][1])/2,g="right"):(h=(g[0][0]+g[1][0]+g[2][0]+g[3][0])/4,k=(g[0][1]+g[1][1]+g[2][1]+g[3][1])/4,g="center");e=[[h,k],[h,k]]}else{f=f.get("length");I&&(e==="vertical"&&["top","bottom"].indexOf(d)>-1&&
(d="left",console.warn("Position error: Funnel chart on vertical orient dose not support top and bottom.")),e==="horizontal"&&["left","right"].indexOf(d)>-1&&(d="bottom",console.warn("Position error: Funnel chart on horizontal orient dose not support left and right.")));if(d==="left"){d=(g[3][0]+g[0][0])/2;var l=(g[3][1]+g[0][1])/2,m=d-f;h=m-5;g="right"}else if(d==="right")d=(g[1][0]+g[2][0])/2,l=(g[1][1]+g[2][1])/2,m=d+f,h=m+5,g="left";else if(d==="top"){d=(g[3][0]+g[0][0])/2;l=(g[3][1]+g[0][1])/
2;var n=l-f;k=n-5;g="center"}else d==="bottom"?(d=(g[1][0]+g[2][0])/2,l=(g[1][1]+g[2][1])/2,n=l+f,k=n+5,g="center"):d==="rightTop"?(d=e==="horizontal"?g[3][0]:g[1][0],l=e==="horizontal"?g[3][1]:g[1][1],e==="horizontal"?(n=l-f,k=n-5,g="center"):(m=d+f,h=m+5,g="top")):d==="rightBottom"?(d=g[2][0],l=g[2][1],e==="horizontal"?(n=l+f,k=n+5,g="center"):(m=d+f,h=m+5,g="bottom")):d==="leftTop"?(d=g[0][0],l=e==="horizontal"?g[0][1]:g[1][1],e==="horizontal"?(n=l-f,k=n-5,g="center"):(m=d-f,h=m-5,g="right")):
d==="leftBottom"?(d=e==="horizontal"?g[1][0]:g[3][0],l=e==="horizontal"?g[1][1]:g[2][1],e==="horizontal"?(n=l+f,k=n+5,g="center"):(m=d-f,h=m-5,g="right")):(d=(g[1][0]+g[2][0])/2,l=(g[1][1]+g[2][1])/2,e==="horizontal"?(n=l+f,k=n+5,g="center"):(m=d+f,h=m+5,g="left"));e==="horizontal"?h=m=d:k=n=l;e=[[d,l],[m,n]]}b.label={linePoints:e,x:h,y:k,verticalAlign:"middle",textAlign:g,inside:c}})}function HD(a){if(!a.parallel){var b=!1;y(a.series,function(c){c&&c.type==="parallel"&&(b=!0)});b&&(a.parallel=[{}])}}
function ID(a){var b=Za(a.parallelAxis);y(b,function(c){if(X(c)){var d=c.parallelIndex||0;(d=Za(a.parallel)[d])&&d.parallelAxisDefault&&Y(c,d.parallelAxisDefault,!1)}})}function Wn(a,b){a=a[b]-a[1-b];return{span:Math.abs(a),sign:a>0?-1:a<0?1:b?-1:1}}function Pf(a,b){return Math.min(b[1]!=null?b[1]:Infinity,Math.max(b[0]!=null?b[0]:-Infinity,a))}function Xn(a,b,c){this._axesMap=aa();this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,b,c)}function Bj(a,b){return Av(Bv(a,b[0]),
b[1])}function JD(a,b){b=b.layoutLength/(b.axisCount-1);return{position:b*a,axisNameAvailableWidth:b,axisLabelShow:!0}}function KD(a,b){var c=b.layoutLength,d=b.axisExpandWidth,e=b.axisCount,f=b.axisCollapseWidth,g=b.winInnerIndices,h=f,k=!1;if(a<g[0]){a*=f;var l=f}else a<=g[1]?(a=b.axisExpandWindow0Pos+a*d-b.axisExpandWindow[0],h=d,k=!0):(a=c-(e-1-a)*f,l=f);return{position:a,axisNameAvailableWidth:h,axisLabelShow:k,nameTruncateMaxWidth:l}}function Qf(a){I&&ja(a);Ra.call(this);this._zr=a;this.group=
new O;this._track=[];this._covers=[];I&&this._mounted;this._uid="brushController_"+LD++;this._handlers={};Ac(MD,function(b,c){this._handlers[c]=L(b,this)},this)}function ND(a,b){Ac(b,function(c,d){a.on(d,c)})}function OD(a,b){Ac(b,function(c,d){a.off(d,c)})}function Cv(a,b){var c=Ce[b.brushType].createCover(a,b);c.__brushOption=b;Dv(c,b);a.group.add(c);return c}function Ev(a,b){var c=Ce[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),Dv(b,b.__brushOption));return b}function Dv(a,b){var c=
b.z;c==null&&(c=1E4);a.traverse(function(d){d.z=c;d.z2=c})}function Yn(a,b){Ce[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;Ce[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function Zn(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;Ac(d,function(g){g.isTargetByCursor(b,c,f)&&(e=g)});return e}function Fv(a,b){a=a._panels;if(!a)return!0;b=b.__brushOption.panelId;return b!=null?a[b]:!0}function $n(a){var b=a._covers,c=b.length;Ac(b,function(d){a.group.remove(d)},
a);b.length=0;return!!c}function De(a,b){var c=PD(a._covers,function(d){d=d.__brushOption;var e=T(d.range);return{brushType:d.brushType,panelId:d.panelId,range:e}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function Gv(a){var b=a.length-1;b<0&&(b=0);return[a[0],a[b]]}function Hv(a,b,c,d){var e=new O;e.add(new oa({name:"main",style:ao(c),silent:!0,draggable:!0,cursor:"move",drift:Md(a,b,e,"nswe"),ondragend:Md(De,b,{isEnd:!0})}));Ac(d,function(f){e.add(new oa({name:f,style:{opacity:0},
draggable:!0,silent:!0,invisible:!0,drift:Md(a,b,e,f),ondragend:Md(De,b,{isEnd:!0})}))});return e}function Iv(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=Rf(e,6),g=c[0][0],h=c[1][0],k=g-e/2,l=h-e/2,m=c[0][1],n=c[1][1];c=m-f+e/2;var p=n-f+e/2;m-=g;n-=h;var q=m+e;e=n+e;ed(a,b,"main",g,h,m,n);d.transformable&&(ed(a,b,"w",k,l,f,e),ed(a,b,"e",c,l,f,e),ed(a,b,"n",k,l,q,f),ed(a,b,"s",k,p,q,f),ed(a,b,"nw",k,l,f,f),ed(a,b,"ne",c,l,f,f),ed(a,b,"sw",k,p,f,f),ed(a,b,"se",c,p,f,f))}function bo(a,b){var c=b.__brushOption,
d=c.transformable,e=b.childAt(0);e.useStyle(ao(c));e.attr({silent:!d,cursor:d?"move":"default"});Ac("w e n s se sw ne nw".split(" "),function(f){var g=b.childOfName(f);f=co(a,f);g&&g.attr({silent:!d,invisible:!d,cursor:d?QD[f]+"-resize":null})})}function ed(a,b,c,d,e,f,g){if(c=b.childOfName(c)){var h=c.setShape;e=eo(a,b,[[d,e],[d+f,e+g]]);a=wh(e[0][0],e[1][0]);b=wh(e[0][1],e[1][1]);d=Rf(e[0][0],e[1][0]);e=Rf(e[0][1],e[1][1]);h.call(c,{x:a,y:b,width:d-a,height:e-b})}}function ao(a){return Q({strokeNoScale:!0},
a.brushStyle)}function Jv(a,b,c,d){var e=[wh(a,c),wh(b,d)];a=[Rf(a,c),Rf(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function co(a,b){if(b.length>1)return b=b.split(""),a=[co(a,b[0]),co(a,b[1])],a[0]!=="e"&&a[0]!=="w"||a.reverse(),a.join("");a=um({w:"left",e:"right",n:"top",s:"bottom"}[b],re(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[a]}function Kv(a,b,c,d,e,f,g,h){h=d.__brushOption;var k=a(h.range),l=Lv(c,f,g);Ac(e.split(""),function(m){m=RD[m];k[m[0]][m[1]]+=l[m[0]]});h.range=b(Jv(k[0][0],
k[1][0],k[0][1],k[1][1]));Yn(c,d);De(c,{isEnd:!1})}function SD(a,b,c,d,e){e=b.__brushOption.range;var f=Lv(a,c,d);Ac(e,function(g){g[0]+=f[0];g[1]+=f[1]});Yn(a,b);De(a,{isEnd:!1})}function Lv(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function eo(a,b,c){return(b=Fv(a,b))&&b!==!0?b.clipPath(c,a._transform):T(c)}function fo(a){a=a.event;a.preventDefault&&a.preventDefault()}function go(a,b,c){return a.childOfName("main").contain(b,c)}function Mv(a,
b,c,d){var e=a._creatingCover,f=a._creatingPanel,g=a._brushOption;a._track.push(c.slice());var h=a._track;if(h.length){var k=h[h.length-1],l=h[0];h=k[0]-l[0];k=k[1]-l[1];k=TD(h*h+k*k,.5)>6}else k=!1;if(k||e){if(f&&!e&&(g.brushMode==="single"&&$n(a),e=T(g),e.brushType=Nv(e.brushType,f),e.panelId=f===!0?null:f.panelId,e=a._creatingCover=Cv(a,e),a._covers.push(e)),e){f=Ce[Nv(a._brushType,f)];e.__brushOption.range=f.getCreatingRange(eo(a,e,a._track));d&&(Ev(a,e),f.updateCommon(a,e));f=e.__brushOption;
Ce[e.__brushOption.brushType].updateCoverShape(a,e,f.range,f);var m={isEnd:d}}}else d&&g.brushMode==="single"&&g.removeOnClick&&Zn(a,b,c)&&$n(a)&&(m={isEnd:d,removeOnClick:!0});return m}function Nv(a,b){return a==="auto"?(I&&ja(b&&b.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),b.defaultBrushType):a}function Ov(a,b){if(a._dragging){fo(b);var c=a.group.transformCoordToLocal(b.offsetX,b.offsetY);b=Mv(a,b,c,!0);a._dragging=!1;a._track=[];a._creatingCover=null;b&&De(a,b)}}function Pv(a){return{createCover:function(b,
c){return Hv(Md(Kv,function(d){d=[d,[0,100]];a&&d.reverse();return d},function(d){return d[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=Gv(b);b=wh(c[0][a],c[1][a]);c=Rf(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(b,c,d,e){var f=Fv(b,c);f!==!0&&f.getLinearBrushOtherExtent?f=f.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,f=[0,[f.getWidth(),f.getHeight()][1-a]]);d=[d,f];a&&d.reverse();Iv(b,c,d,e)},updateCommon:bo,contain:go}}function Qv(a){a=ea.create(a);return function(b,
c){return ws(b,a)}}function Rv(a,b){a=ea.create(a);return function(c){var d=(c=b!=null?b:c)?a.x:a.y;return[d,d+((c?a.width:a.height)||0)]}}function Sv(a,b,c){a=ea.create(a);return function(d,e,f){return a.contain(e[0],e[1])&&!pj(d,b,c)}}function UD(a){var b=a.axis;return H(a.activeIntervals,function(c){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(c[0],!0),b.dataToCoord(c[1],!0)]}})}function ho(a,b){a=a._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===b}function VD(a,
b){if(!a.encodeDefine&&(b=b.ecModel.getComponent("parallel",b.get("parallelIndex")))){var c=a.encodeDefine=aa();y(b.dimensions,function(d){var e=+d.replace("dim","");c.set(d,e)})}}function WD(a,b,c){var d=a.model;a=a.getRect();var e=new oa({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});d=d.get("layout")==="horizontal"?"width":"height";e.setShape(d,0);eb(e,{shape:{width:a.width,height:a.height}},b,c);return e}function Tv(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g=c[f],h=a.get(a.mapDimension(g),
b),k=h;(d.getAxis(g).type==="category"?k==null:k==null||isNaN(k))||e.push(d.dataToPoint(h,g))}return e}function Uv(a,b,c,d,e){d=Tv(a,c,d,e);d=new Tb({shape:{points:d},silent:!0,z2:10});b.add(d);a.setItemGraphicEl(c,d);return d}function Vv(a){var b=a.get("smooth",!0);b===!0&&(b=.3);return{lineStyle:a.getModel("lineStyle").getLineStyle(),smooth:b!=null?b:.3}}function io(a,b,c,d){var e=d.lineStyle;b.hasItemOption&&(e=b.getItemModel(c).getModel("lineStyle").getLineStyle());a.useStyle(e);e=a.style;e.fill=
null;e.stroke=b.getItemVisual(c,"color");e.opacity=b.getItemVisual(c,"opacity");d.smooth&&(a.shape.smooth=d.smooth)}function Wv(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function Cj(a,b,c){var d=a.getGraphicEl(),e=Wv(a,b);c!=null&&(e==null&&(e=1),e*=c);d.downplay&&d.downplay();d.traverse(function(f){f.type!=="group"&&f.setStyle("opacity",e)})}function ic(a,b){var c=Wv(a,b);a=a.getGraphicEl();a.traverse(function(d){d.type!=="group"&&d.setStyle("opacity",c)});a.highlight&&a.highlight()}
function XD(a,b,c){var d=new oa({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});eb(d,{shape:{width:a.width+20}},b,c);return d}function YD(a,b){return Ja(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function ZD(a,b,c,d,e,f,g,h,k){for(var l=[],m=[],n=[],p=[],q=0,t=0;t<b.length;t++)l[t]=1;for(t=0;t<a.length;t++)m[t]=a[t].inEdges.length,m[t]===0&&n.push(a[t]);for(var r=-1;n.length;){for(t=0;t<n.length;t++){var u=n[t],v=u.hostGraph.data.getRawDataItem(u.dataIndex),x=v.depth!=
null&&v.depth>=0;x&&v.depth>r&&(r=v.depth);u.setLayout({depth:x?v.depth:q},!0);h==="vertical"?u.setLayout({dy:c},!0):u.setLayout({dx:c},!0);for(v=0;v<u.outEdges.length;v++){x=u.outEdges[v];var w=b.indexOf(x);l[w]=0;x=x.node2;w=a.indexOf(x);--m[w]===0&&p.indexOf(x)<0&&p.push(x)}}++q;n=p;p=[]}for(t=0;t<l.length;t++)if(l[t]===1)throw Error("Sankey is a DAG, the original data has cycle!");l=r>q-1?r:q-1;k&&k!=="left"&&$D(a,k,h,l);aE(a,h==="vertical"?(f-c)/l:(e-c)/l,h);c=g;g=bE(a,h);cE(g,b,f,e,d,h);jo(g,
d,f,e,h);for(b=1;c>0;c--)b*=.99,dE(g,b,h),jo(g,d,f,e,h),eE(g,b,h),jo(g,d,f,e,h);fE(a,h)}function gE(a){y(a,function(b){var c=Nd(b.outEdges,Dj),d=Nd(b.inEdges,Dj),e=b.getValue()||0;b.setLayout({value:Math.max(c,d,e)},!0)})}function Xv(a){a=a.hostGraph.data.getRawDataItem(a.dataIndex);return a.depth!=null&&a.depth>=0}function $D(a,b,c,d){if(b==="right"){b=[];c=a;for(var e=0;c.length;){for(var f=0;f<c.length;f++){var g=c[f];g.setLayout({skNodeHeight:e},!0);for(var h=0;h<g.inEdges.length;h++){var k=g.inEdges[h];
b.indexOf(k.node1)<0&&b.push(k.node1)}}c=b;b=[];++e}y(a,function(l){Xv(l)||l.setLayout({depth:Math.max(0,d-l.getLayout().skNodeHeight)},!0)})}else b==="justify"&&hE(a,d)}function hE(a,b){y(a,function(c){Xv(c)||c.outEdges.length||c.setLayout({depth:b},!0)})}function aE(a,b,c){y(a,function(d){var e=d.getLayout().depth*b;c==="vertical"?d.setLayout({y:e},!0):d.setLayout({x:e},!0)})}function bE(a,b){var c=[],d=b==="vertical"?"y":"x",e=Tl(a,function(f){return f.getLayout()[d]});e.keys.sort(function(f,g){return f-
g});y(e.keys,function(f){c.push(e.buckets.get(f))});return c}function cE(a,b,c,d,e,f){var g=Infinity;y(a,function(h){var k=h.length,l=0;y(h,function(m){l+=m.getLayout().value});h=f==="vertical"?(d-(k-1)*e)/l:(c-(k-1)*e)/l;h<g&&(g=h)});y(a,function(h){y(h,function(k,l){var m=k.getLayout().value*g;f==="vertical"?(k.setLayout({x:l},!0),k.setLayout({dx:m},!0)):(k.setLayout({y:l},!0),k.setLayout({dy:m},!0))})});y(b,function(h){var k=+h.getValue()*g;h.setLayout({dy:k},!0)})}function jo(a,b,c,d,e){var f=
e==="vertical"?"x":"y";y(a,function(g){g.sort(function(p,q){return p.getLayout()[f]-q.getLayout()[f]});for(var h=0,k=g.length,l=e==="vertical"?"dx":"dy",m=0;m<k;m++){var n=g[m];h-=n.getLayout()[f];h>0&&(h=n.getLayout()[f]+h,e==="vertical"?n.setLayout({x:h},!0):n.setLayout({y:h},!0));h=n.getLayout()[f]+n.getLayout()[l]+b}h=h-b-(e==="vertical"?d:c);if(h>0)for(h=n.getLayout()[f]-h,e==="vertical"?n.setLayout({x:h},!0):n.setLayout({y:h},!0),m=k-2;m>=0;--m)n=g[m],h=n.getLayout()[f]+n.getLayout()[l]+b-h,
h>0&&(h=n.getLayout()[f]-h,e==="vertical"?n.setLayout({x:h},!0):n.setLayout({y:h},!0)),h=n.getLayout()[f]})}function dE(a,b,c){y(a.slice().reverse(),function(d){y(d,function(e){if(e.outEdges.length){var f=Nd(e.outEdges,iE,c)/Nd(e.outEdges,Dj,c);isNaN(f)&&(f=(f=e.outEdges.length)?Nd(e.outEdges,jE,c)/f:0);c==="vertical"?(f=e.getLayout().x+(f-Od(e,c))*b,e.setLayout({x:f},!0)):(f=e.getLayout().y+(f-Od(e,c))*b,e.setLayout({y:f},!0))}})})}function iE(a,b){return Od(a.node2,b)*a.getValue()}function jE(a,
b){return Od(a.node2,b)}function kE(a,b){return Od(a.node1,b)*a.getValue()}function lE(a,b){return Od(a.node1,b)}function Od(a,b){return b==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function Dj(a){return a.getValue()}function Nd(a,b,c){for(var d=0,e=a.length,f=-1;++f<e;){var g=+b.call(a,a[f],c);isNaN(g)||(d+=g)}return d}function eE(a,b,c){y(a,function(d){y(d,function(e){if(e.inEdges.length){var f=Nd(e.inEdges,kE,c)/Nd(e.inEdges,Dj,c);isNaN(f)&&(f=(f=e.inEdges.length)?
Nd(e.inEdges,lE,c)/f:0);c==="vertical"?(f=e.getLayout().x+(f-Od(e,c))*b,e.setLayout({x:f},!0)):(f=e.getLayout().y+(f-Od(e,c))*b,e.setLayout({y:f},!0))}})})}function fE(a,b){var c=b==="vertical"?"x":"y";y(a,function(d){d.outEdges.sort(function(e,f){return e.node2.getLayout()[c]-f.node2.getLayout()[c]});d.inEdges.sort(function(e,f){return e.node1.getLayout()[c]-f.node1.getLayout()[c]})});y(a,function(d){var e=0,f=0;y(d.outEdges,function(g){g.setLayout({sy:e},!0);e+=g.getLayout().dy});y(d.inEdges,function(g){g.setLayout({ty:f},
!0);f+=g.getLayout().dy})})}function Yv(a,b,c,d,e){var f=a.ends;d=new mE({shape:{points:e?nE(f,d,a):f}});Zv(a,d,b,c,e);return d}function Zv(a,b,c,d,e){(0,fd[e?"initProps":"updateProps"])(b,{shape:{points:a.ends}},c.hostModel,d);a=c.getItemModel(d);e=a.getModel(oE);c=c.getItemVisual(d,"color");d=e.getItemStyle(["borderColor"]);d.stroke=c;d.strokeNoScale=!0;b.useStyle(d);b.z2=100;c=a.getModel(pE).getItemStyle();Aa(b,c)}function nE(a,b,c){return H(a,function(d){d=d.slice();d[b]=c.initBaseline;return d})}
function qE(a){var b=[],c=[];a.eachSeriesByType("boxplot",function(d){var e=d.getBaseAxis(),f=ma(c,e);f<0&&(f=c.length,c[f]=e,b[f]={axis:e,seriesModels:[]});b[f].seriesModels.push(d)});return b}function rE(a){var b=a.axis,c=a.seriesModels,d=c.length,e=a.boxWidthList=[],f=a.boxOffsetList=[],g=[];if(b.type==="category")var h=b.getBandWidth();else{var k=0;xh(c,function(p){k=Math.max(k,p.getData().count())});a=b.getExtent();Math.abs(a[1]-a[0])/k}xh(c,function(p){p=p.get("boxWidth");F(p)||(p=[p,p]);g.push([G(p[0],
h)||0,G(p[1],h)||0])});a=h*.8-2;var l=a/d*.3,m=(a-l*(d-1))/d,n=m/2-a/2;xh(c,function(p,q){f.push(n);n+=l+m;e.push(Math.min(Math.max(m,g[q][0]),g[q][1]))})}function sE(a,b,c){function d(x,w,z){w=h.get(w,z);z=[];z[l]=x;z[m]=w;isNaN(x)||isNaN(w)?x=[NaN,NaN]:(x=g.dataToPoint(z),x[l]+=b);return x}function e(x,w,z){var A=w.slice();w=w.slice();A[l]+=k;w[l]-=k;z?x.push(A,w):x.push(w,A)}function f(x,w){var z=w.slice();w=w.slice();z[l]-=k;w[l]+=k;x.push(z,w)}var g=a.coordinateSystem,h=a.getData(),k=c/2,l=a.get("layout")===
"horizontal"?0:1,m=1-l;c=["x","y"];a=h.mapDimension(c[l]);c=h.mapDimension(c[m],!0);if(!(a==null||c.length<5))for(var n=0;n<h.count();n++){var p=h.get(a,n),q=d(p,c[2],n),t=d(p,c[0],n),r=d(p,c[1],n),u=d(p,c[3],n);p=d(p,c[4],n);var v=[];e(v,r,0);e(v,u,1);v.push(t,r,p,u);f(v,t);f(v,p);f(v,q);h.setItemLayout(n,{initBaseline:q[m],ends:v})}}function ko(a,b,c){b=a.ends;return new tE({shape:{points:c?uE(b,a):b},z2:100})}function $v(a,b){for(var c=!0,d=0;d<b.ends.length;d++)if(a.contain(b.ends[d][0],b.ends[d][1])){c=
!1;break}return c}function lo(a,b,c,d){var e=b.getItemModel(c),f=e.getModel(aw),g=b.getItemVisual(c,"color");b=b.getItemVisual(c,"borderColor")||g;f=f.getItemStyle(bw);a.useStyle(f);a.style.strokeNoScale=!0;a.style.fill=g;a.style.stroke=b;a.__simpleBox=d;d=e.getModel(vE).getItemStyle();Aa(a,d)}function uE(a,b){return H(a,function(c){c=c.slice();c[1]=b.initBaseline;return c})}function cw(a,b,c){var d=a.getData(),e=d.getLayout("largePoints"),f=new dw({shape:{points:e},__sign:1});b.add(f);e=new dw({shape:{points:e},
__sign:-1});b.add(e);ew(1,f,a,d);ew(-1,e,a,d);c&&(f.incremental=!0,e.incremental=!0)}function ew(a,b,c,d){a=a>0?"P":"N";d=d.getVisual("borderColor"+a)||d.getVisual("color"+a);c=c.getModel(aw).getItemStyle(bw);b.useStyle(c);b.style.fill=null;b.style.stroke=d}function fw(a,b,c,d,e){return c>d?-1:c<d?1:b>0?a.get(e,b-1)<=d?1:-1:1}function wE(a,b){var c=a.getBaseAxis(),d;c=c.type==="category"?c.getBandWidth():(d=c.getExtent(),Math.abs(d[1]-d[0])/b.count());b=G(Ia(a.get("barMaxWidth"),c),c);d=G(Ia(a.get("barMinWidth"),
1),c);a=a.get("barWidth");return a!=null?G(a,c):Math.max(Math.min(c/2,b),d)}function xE(a){F(a)||(a=[+a,+a]);return a}function gw(a,b){var c=b.rippleEffectColor||b.color;a.eachChild(function(d){d.attr({z:b.z,zlevel:b.zlevel,style:{stroke:b.brushType==="stroke"?c:null,fill:b.brushType==="fill"?c:null}})})}function mo(a,b){O.call(this);var c=new Id(a,b),d=new O;this.add(c);this.add(d);d.beforeUpdate=function(){this.attr(c.getScale())};this.updateData(a,b)}function hw(a){var b=a.data;b&&b[0]&&b[0][0]&&
b[0][0].coord&&(I&&console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=H(b,function(c){var d={coords:[c[0].coord,c[1].coord]};c[0].name&&(d.fromName=c[0].name);c[1].name&&(d.toName=c[1].name);return hg([d,c[0],c[1]])}))}function yh(a,b,c){O.call(this);this.add(this.createLine(a,b,c));this._updateEffectSymbol(a,b)}function Ej(a,b,c){O.call(this);this._createPolyline(a,b,c)}function no(a,b,c){yh.call(this,a,b,c);this._lastFramePercent=this._lastFrame=0}function iw(){this.group=
new O}function Fj(a){a instanceof Array||(a=[a,a]);return a}function jw(){this.canvas=$e();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}function yE(a,b,c){var d=a[1]-a[0];b=H(b,function(g){return{interval:[(g.interval[0]-a[0])/d,(g.interval[1]-a[0])/d]}});var e=b.length,f=0;return function(g){for(var h=f;h<e;h++){var k=b[h].interval;if(k[0]<=g&&g<=k[1]){f=h;break}}if(h===e)for(h=f-1;h>=0;h--)if(k=b[h].interval,k[0]<=g&&g<=k[1]){f=h;break}return h>=
0&&h<e&&c[h]}}function zE(a,b){var c=a[1]-a[0];b=[(b[0]-a[0])/c,(b[1]-a[0])/c];return function(d){return d>=b[0]&&d<=b[1]}}function AE(a){a=a.dimensions;return a[0]==="lng"&&a[1]==="lat"}function kw(a,b,c,d){var e=a.getItemLayout(b),f=c.get("symbolRepeat"),g=c.get("symbolClip"),h=c.get("symbolPosition")||"start",k=(c.get("symbolRotate")||0)*Math.PI/180||0,l=c.get("symbolPatternSize")||2,m=c.isAnimationEnabled();g={dataIndex:b,layout:e,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,
"color"),symbolClip:g,symbolRepeat:f,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:k,animationModel:m?c:null,hoverAnimation:m&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0};m=d.valueDim;var n=c.get("symbolBoundingData"),p=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),q=p.toGlobalCoord(p.dataToCoord(0)),t=1-+(e[m.wh]<=0);F(n)?(n=[p.toGlobalCoord(p.dataToCoord(p.scale.parse(n[0])))-q,p.toGlobalCoord(p.dataToCoord(p.scale.parse(n[1])))-q],n[1]<n[0]&&n.reverse(),
t=n[t]):t=n!=null?p.toGlobalCoord(p.dataToCoord(p.scale.parse(n)))-q:f?d.coordSysExtent[m.index][t]-q:e[m.wh];g.boundingLength=t;f&&(g.repeatCutLength=e[m.wh]);g.pxSign=t>0?1:t<0?-1:0;m=g.boundingLength;t=g.pxSign;n=d.valueDim;p=d.categoryDim;q=Math.abs(e[p.wh]);a=a.getItemVisual(b,"symbolSize");F(a)?a=a.slice():(a==null&&(a="100%"),a=[a,a]);a[p.index]=G(a[p.index],q);a[n.index]=G(a[n.index],f?q:Math.abs(m));g.symbolSize=a;(g.symbolScale=[a[0]/l,a[1]/l])[n.index]*=(d.isHorizontal?-1:1)*t;l=g.symbolScale;
if(a=c.get(BE)||0)oo.attr({scale:l.slice(),rotation:k}),oo.updateTransform(),a/=oo.getLineScale(),a*=l[d.valueDim.index];g.valueLineWidth=a;var r=g.symbolSize;k=c.get("symbolOffset");F(k)&&(k=[G(k[0],r[0]),G(k[1],r[1])]);b=k;m=g.boundingLength;t=g.repeatCutLength;k=d.categoryDim;l=d.valueDim;a=g.pxSign;p=n=Math.max(r[l.index]+g.valueLineWidth,0);if(f){p=Math.abs(m);c=xa(c.get("symbolMargin"),"15%")+"";q=!1;c.lastIndexOf("!")===c.length-1&&(q=!0,c=c.slice(0,c.length-1));c=G(c,r[l.index]);var u=Math.max(n+
c*2,0),v=q?0:c*2,x=Ds(f);r=x?f:lw((p+v)/u);c=(p-r*n)/2/(q?r:r-1);u=n+c*2;v=q?0:c*2;x||f==="fixed"||(r=t?lw((Math.abs(t)+v)/u):0);p=r*u-v;g.repeatTimes=r;g.symbolMargin=c}f=p/2*a;c=g.pathPosition=[];c[k.index]=e[k.wh]/2;c[l.index]=h==="start"?f:h==="end"?m-f:m/2;b&&(c[0]+=b[0],c[1]+=b[1]);h=g.bundlePosition=[];h[k.index]=e[k.xy];h[l.index]=e[l.xy];h=g.barRectShape=U({},e);h[l.wh]=a*Math.max(Math.abs(e[l.wh]),Math.abs(c[l.index]+f));h[k.wh]=e[k.wh];h=g.clipShape={};h[k.xy]=-e[k.xy];h[k.wh]=d.ecSize[k.wh];
h[l.xy]=0;h[l.wh]=e[l.wh];return g}function mw(a){var b=a.symbolPatternSize;a=Db(a.symbolType,-b/2,-b/2,b,b,a.color);a.attr({culling:!0});a.type!=="image"&&a.setStyle({strokeNoScale:!0});return a}function nw(a,b,c,d){function e(t){var r=k.slice(),u=c.pxSign,v=t;if(c.symbolRepeatDirection==="start"?u>0:u<0)v=m-1-t;r[l.index]=p*(v-m/2+.5)+k[l.index];return{position:r,scale:c.symbolScale.slice(),rotation:c.rotation}}function f(){zh(a,function(t){t.trigger("emphasis")})}function g(){zh(a,function(t){t.trigger("normal")})}
var h=a.__pictorialBundle,k=c.pathPosition,l=b.valueDim,m=c.repeatTimes||0,n=0,p=c.symbolSize[b.valueDim.index]+c.valueLineWidth+c.symbolMargin*2;for(zh(a,function(t){t.__pictorialAnimationIndex=n;t.__pictorialRepeatTimes=m;n<m?Sf(t,null,e(n),c,d):Sf(t,null,{scale:[0,0]},c,d,function(){h.remove(t)});po(t,c);n++});n<m;n++){b=mw(c);b.__pictorialAnimationIndex=n;b.__pictorialRepeatTimes=m;h.add(b);var q=e(n);Sf(b,{position:q.position,scale:[0,0]},{scale:q.scale,rotation:q.rotation},c,d);b.on("mouseover",
f).on("mouseout",g);po(b,c)}}function ow(a,b,c,d){function e(){this.trigger("emphasis")}function f(){this.trigger("normal")}b=a.__pictorialBundle;var g=a.__pictorialMainPath;g?Sf(g,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(g=a.__pictorialMainPath=mw(c),b.add(g),Sf(g,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),g.on("mouseover",e).on("mouseout",f));po(g,c)}function pw(a,b,c){var d=U({},b.barRectShape),
e=a.__pictorialBarRect;e?Sf(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new oa({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function qw(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=U({},c.clipShape);b=b.valueDim;var g=c.animationModel,h=c.dataIndex;e?ba(e,{shape:f},g,h):(f[b.wh]=0,e=new oa({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e,a={},a[b.wh]=c.clipShape[b.wh],fd[d?"updateProps":"initProps"](e,{shape:a},g,
h))}}function rw(a,b){a=a.getItemModel(b);a.getAnimationDelayParams=CE;a.isAnimationEnabled=DE;return a}function CE(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function DE(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function po(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[c[0]*1.1,c[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},
400,"elasticOut")})}function sw(a,b,c,d){var e=new O,f=new O;e.add(f);e.__pictorialBundle=f;f.attr("position",c.bundlePosition.slice());c.symbolRepeat?nw(e,b,c):ow(e,b,c);pw(e,c,d);qw(e,b,c,d);e.__pictorialShapeStr=tw(a,c);e.__pictorialSymbolMeta=c;return e}function uw(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text=null);var f=[];zh(d,function(g){f.push(g)});d.__pictorialMainPath&&f.push(d.__pictorialMainPath);d.__pictorialClipPath&&(c=null);y(f,function(g){ba(g,{scale:[0,0]},c,b,function(){d.parent&&
d.parent.remove(d)})});a.setItemGraphicEl(b,null)}function tw(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function zh(a,b,c){y(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function Sf(a,b,c,d,e,f){b&&a.attr(b);d.symbolClip&&!e?c&&a.attr(c):c&&fd[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function vw(a,b,c){var d=c.color,e=c.dataIndex,f=c.itemModel,g=f.getModel("itemStyle").getItemStyle(["color"]),
h=f.getModel("emphasis.itemStyle").getItemStyle(),k=f.getShallow("cursor");zh(a,function(m){m.setColor(d);m.setStyle(Q({fill:d,opacity:c.opacity},g));Aa(m,h);k&&(m.cursor=k);m.z2=c.z2});var l={};a=a.__pictorialBarRect;vu(a.style,l,f,d,b.seriesModel,e,b.valueDim.posDesc[+(c.boundingLength>0)]);Aa(a,l)}function lw(a){var b=Math.round(a);return Math.abs(a-b)<1E-4?b:Math.ceil(a)}function Gj(a,b,c){this.dimension="single";this.dimensions=["single"];this._axis=null;this._init(a,b,c);this.model=a}function qo(a,
b){b=b||{};var c=a.axis,d={},e=c.position;c=c.orient;var f=a.coordinateSystem.getRect();f=[f.x,f.x+f.width,f.y,f.y+f.height];var g={top:f[2],bottom:f[3]},h={left:f[0],right:f[1]};d.position=[c==="vertical"?h[e]:f[0],c==="horizontal"?g[e]:f[3]];d.rotation=Math.PI/2*{horizontal:0,vertical:1}[c];d.labelDirection=d.tickDirection=d.nameDirection={top:-1,bottom:1,right:1,left:-1}[e];a.get("axisTick.inside")&&(d.tickDirection=-d.tickDirection);xa(b.labelInside,a.get("axisLabel.inside"))&&(d.labelDirection=
-d.labelDirection);b=b.rotate;b==null&&(b=a.get("axisLabel.rotate"));d.labelRotation=e==="top"?-b:b;d.z2=1;return d}function ww(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b))if(a.involveSeries){var g=EE(b,a),h=g.payloadBatch,k=g.snapToValue;h[0]&&e.seriesIndex==null&&U(e,h[0]);!d&&a.snap&&f.containData(k)&&k!=null&&(b=k);c.showPointer(a,b,h,e);c.showTooltip(a,g,k)}else c.showPointer(a,b)}function EE(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;Bc(b.seriesModels,function(k,
l){var m=k.getData().mapDimension(d,!0);if(k.getAxisTooltipData)m=k.getAxisTooltipData(m,a,c),l=m.dataIndices,m=m.nestestValue;else{l=k.getData().indicesOfNearest(m[0],a,c.type==="category"?.5:null);if(!l.length)return;m=k.getData().get(m[0],l[0])}if(m!=null&&isFinite(m)){var n=a-m,p=Math.abs(n);if(p<=g){if(p<g||n>=0&&h<0)g=p,h=n,e=m,f.length=0;Bc(l,function(q){f.push({seriesIndex:k.seriesIndex,dataIndexInside:q,dataIndex:k.getData().getRawIndex(q)})})}}});return{payloadBatch:f,snapToValue:e}}function FE(a,
b,c,d){a[b.key]={value:c,payloadBatch:d}}function GE(a,b,c,d){c=c.payloadBatch;var e=b.axis,f=e.model,g=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var h=gh(b),k=a.map[h];k||(k=a.map[h]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},a.list.push(k));k.dataByAxis.push({axisDim:e.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:d,valueLabelOpt:{precision:g.get("label.precision"),formatter:g.get("label.formatter")},
seriesDataIndices:c.slice()})}}function HE(a,b,c){var d=c.axesInfo=[];Bc(b,function(e,f){var g=e.axisPointerModel.option;(f=a[f])?(!e.useHandle&&(g.status="show"),g.value=f.value,g.seriesDataIndices=(f.payloadBatch||[]).slice()):!e.useHandle&&(g.status="hide");g.status==="show"&&d.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:g.value})})}function IE(a,b,c,d){if(Hj(b)||!a.list.length)d({type:"hideTip"});else{var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};
d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}}function JE(a,b,c){b=c.getZr();var d=xw(b).axisPointerLastHighlights||{},e=xw(b).axisPointerLastHighlights={};Bc(a,function(h,k){h=h.axisPointerModel.option;h.status==="show"&&Bc(h.seriesDataIndices,function(l){e[l.seriesIndex+" | "+l.dataIndex]=l})});var f=[],g=[];y(d,function(h,k){!e[k]&&g.push(h)});
y(e,function(h,k){!d[k]&&f.push(h)});g.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:g});f.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:f})}function yw(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;c.axisIndex=c[a+"AxisIndex"]=b.componentIndex;c.axisName=c[a+"AxisName"]=b.name;c.axisId=c[a+"AxisId"]=b.id;return c}function Hj(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function zw(a,b,c){if(!da.node){var d=b.getZr();gd(d).records||(gd(d).records=
{});KE(d,b);(gd(d).records[a]||(gd(d).records[a]={})).handler=c}}function KE(a,b){function c(d,e){a.on(d,function(f){var g=LE(b);ME(gd(a).records,function(h){h&&e(h,f,g.dispatchAction)});NE(g.pendings,b)})}gd(a).initialized||(gd(a).initialized=!0,c("click",R(Aw,"click")),c("mousemove",R(Aw,"mousemove")),c("globalout",OE))}function NE(a,b){var c=a.showTip.length,d=a.hideTip.length,e;c?e=a.showTip[c-1]:d&&(e=a.hideTip[d-1]);e&&(e.dispatchAction=null,b.dispatchAction(e))}function OE(a,b,c){a.handler("leave",
null,c)}function Aw(a,b,c,d){b.handler(a,c,d)}function LE(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function ro(a,b){da.node||(b=b.getZr(),(gd(b).records||{})[a]&&(gd(b).records[a]=null))}function Ee(){}function Bw(a,b,c,d){Cw(Fe(c).lastProp,d)||(Fe(c).lastProp=d,b?ba(c,d,a):(c.stopAnimation(),c.attr(d)))}function Cw(a,b){if(X(a)&&X(b)){var c=!0;y(b,function(d,e){c=c&&Cw(a[e],d)});return!!c}return a===
b}function Dw(a,b){a[b.get("label.show")?"show":"hide"]()}function so(a){return{position:a.position.slice(),rotation:a.rotation||0}}function Ew(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(f){f.type!=="group"&&(d!=null&&(f.z=d),e!=null&&(f.zlevel=e),f.silent=c)})}function to(a){var b=a.get("type");a=a.getModel(b+"Style");if(b==="line"){var c=a.getLineStyle();c.fill=null}else b==="shadow"&&(c=a.getAreaStyle(),c.stroke=null);return c}function Fw(a,b,c,d,e){var f=c.get("value");f=
Gw(f,b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")});c=c.getModel("label");var g=se(c.get("padding")||0),h=c.getFont(),k=qc(f,h),l=e.position,m=k.width+g[1]+g[3];k=k.height+g[0]+g[2];var n=e.align;n==="right"&&(l[0]-=m);n==="center"&&(l[0]-=m/2);e=e.verticalAlign;e==="bottom"&&(l[1]-=k);e==="middle"&&(l[1]-=k/2);e=d.getWidth();d=d.getHeight();l[0]=Math.min(l[0]+m,e)-m;l[1]=Math.min(l[1]+k,d)-k;l[0]=Math.max(l[0],0);l[1]=Math.max(l[1],
0);(d=c.get("backgroundColor"))&&d!=="auto"||(d=b.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:m,height:k,r:c.get("borderRadius")},position:l.slice(),style:{text:f,textFont:h,textFill:c.getTextColor(),textPosition:"inside",textPadding:g,fill:d,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function Gw(a,b,
c,d,e){a=b.scale.parse(a);var f=b.scale.getLabel(a,{precision:e.precision});if(e=e.formatter){var g={value:en(b,a),axisDimension:b.dim,axisIndex:b.index,seriesData:[]};y(d,function(h){var k=c.getSeriesByIndex(h.seriesIndex);h=h.dataIndexInside;(k=k&&k.getDataParams(h))&&g.seriesData.push(k)});va(e)?f=e.replace("{value}",f):Oa(e)&&(f=e(g))}return f}function uo(a,b,c){var d=mb();Pc(d,d,c.rotation);Yb(d,d,c.position);return vc([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||
0)],d)}function Hw(a,b,c,d,e,f){var g=tb.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get("label.margin");Fw(b,d,e,f,{position:uo(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function vo(a,b,c){c=c||0;return{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function Iw(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function Jw(a,b){var c={};c[b.dim+"AxisIndex"]=b.index;return a.getCartesian(c)}function wo(a,b){a=a.getRect();return[a[Kw[b]],a[Kw[b]]+a[PE[b]]]}
function QE(a,b,c){var d=new oa({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});eb(d,{shape:{width:a.width+20,height:a.height+20}},b,c);return d}function Lw(a,b,c){if(a.count()){var d=b.coordinateSystem;b=b.getLayerSeries();var e=a.mapDimension("single"),f=a.mapDimension("value"),g=H(b,function(q){return H(q.indices,function(t){var r=d.dataToPoint(a.get(e,t));r[1]=a.get(f,t);return r})}),h=RE(g),k=h.y0;c/=h.max;h=b.length;for(var l=b[0].indices.length,m,n=0;n<l;++n){m=k[n]*c;a.setItemLayout(b[0].indices[n],
{layerIndex:0,x:g[0][n][0],y0:m,y:g[0][n][1]*c});for(var p=1;p<h;++p)m+=g[p-1][n][1]*c,a.setItemLayout(b[p].indices[n],{layerIndex:p,x:g[p][n][0],y0:m,y:g[p][n][1]*c})}}}function RE(a){for(var b=a.length,c=a[0].length,d=[],e=[],f=0,g,h={},k=0;k<c;++k){var l=0;for(g=0;l<b;++l)g+=a[l][k][1];g>f&&(f=g);d.push(g)}for(a=0;a<c;++a)e[a]=(f-d[a])/2;for(a=f=0;a<c;++a)b=d[a]+e[a],b>f&&(f=b);h.y0=e;h.max=f;return h}function Mw(a){var b=0;y(a.children,function(d){Mw(d);d=d.value;F(d)&&(d=d[0]);b+=d});var c=a.value;
F(c)&&(c=c[0]);if(c==null||isNaN(c))c=b;c<0&&(c=0);F(a.value)?a.value[0]=c:a.value=c}function Ij(a,b,c){function d(){g.ignore=g.hoverIgnore}function e(){g.ignore=g.normalIgnore}O.call(this);var f=new fc({z2:2});f.seriesIndex=b.seriesIndex;var g=new fa({z2:4,silent:a.getModel("label").get("silent")});this.add(f);this.add(g);this.updateData(!0,a,"normal",b,c);this.on("emphasis",d).on("normal",e).on("mouseover",d).on("mouseout",e)}function Nw(a,b){var c=a.children||[];a.children=SE(c,b);c.length&&y(a.children,
function(d){Nw(d,b)})}function SE(a,b){if(typeof b==="function")return a.sort(b);var c=b==="asc";return a.sort(function(d,e){var f=(d.getValue()-e.getValue())*(c?1:-1);return f===0?(d.dataIndex-e.dataIndex)*(c?-1:1):f})}function TE(a,b){b=b||[0,0];return H(["x","y"],function(c,d){c=this.getAxis(c);var e=b[d];d=a[d]/2;return c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(e-d)-c.dataToCoord(e+d))},this)}function UE(a,b){b=b||[0,0];return H([0,1],function(c){var d=b[c],e=a[c]/2,f=[],g=[];
f[c]=d-e;g[c]=d+e;f[1-c]=g[1-c]=b[1-c];return Math.abs(this.dataToPoint(f)[c]-this.dataToPoint(g)[c])},this)}function VE(a,b){var c=this.getAxis();b=b instanceof Array?b[0]:b;a=(a instanceof Array?a[0]:a)/2;return c.type==="category"?c.getBandWidth():Math.abs(c.dataToCoord(b-a)-c.dataToCoord(b+a))}function WE(a,b){return H(["Radius","Angle"],function(c,d){var e=this["get"+c+"Axis"](),f=b[d];d=a[d]/2;var g="dataTo"+c;e=e.type==="category"?e.getBandWidth():Math.abs(e[g](f-d)-e[g](f+d));c==="Angle"&&
(e=e*Math.PI/180);return e},this)}function XE(a,b,c,d,e,f,g){e={};var h=c.style||{};c.shape&&(e.shape=T(c.shape));c.position&&(e.position=c.position.slice());c.scale&&(e.scale=c.scale.slice());c.origin&&(e.origin=c.origin.slice());c.rotation&&(e.rotation=c.rotation);if(a.type==="image"&&c.style){var k=e.style={};y(["x","y","width","height"],function(m){var n=k,p=a.style;h[m]==null||f||(n[m]=h[m],h[m]=p[m])})}a.type==="text"&&c.style&&(k=e.style={},y(["x","y"],function(m){var n=k,p=a.style;h[m]==null||
f||(n[m]=h[m],h[m]=p[m])}),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke));if(a.type!=="group"&&(a.useStyle(h),f)){a.style.opacity=0;var l=h.opacity;l==null&&(l=1);eb(a,{style:{opacity:l}},d,b)}f?a.attr(e):ba(a,e,d,b);c.hasOwnProperty("z2")&&a.attr("z2",c.z2||0);c.hasOwnProperty("silent")&&a.attr("silent",c.silent);c.hasOwnProperty("invisible")&&a.attr("invisible",c.invisible);c.hasOwnProperty("ignore")&&a.attr("ignore",
c.ignore);c.hasOwnProperty("info")&&a.attr("info",c.info);b=c.styleEmphasis;Lg(a,b);g&&qe(a,b!==!1)}function Ow(a,b,c,d){function e(u){u==null&&(u=m);n&&(p=b.getItemModel(u),q=p.getModel(YE),t=p.getModel(ZE),r=b.getItemVisual(u,"color"),n=!1)}var f=a.get("renderItem"),g=a.coordinateSystem,h={};g&&(I&&(ja(f,"series.render is required."),ja(g.prepareCustoms||Pw[g.type],"This coordSys does not support custom series.")),h=g.prepareCustoms?g.prepareCustoms():Pw[g.type](g));var k=Q({getWidth:d.getWidth,
getHeight:d.getHeight,getZr:d.getZr,getDevicePixelRatio:d.getDevicePixelRatio,value:function(u,v){v==null&&(v=m);return b.get(b.getDimension(u||0),v)},style:function(u,v){v==null&&(v=m);e(v);var x=p.getModel($E).getItemStyle();r!=null&&(x.fill=r);var w=b.getItemVisual(v,"opacity");w!=null&&(x.opacity=w);w=u?Qw(u,q):q;Ca(x,w,null,{autoColor:r,isRectText:!0});x.text=w.getShallow("show")?Ia(a.getFormattedLabel(v,"normal"),ij(b,v)):null;u&&Rw(x,u);return x},styleEmphasis:function(u,v){v==null&&(v=m);
e(v);var x=p.getModel(aF).getItemStyle(),w=u?Qw(u,t):t;Ca(x,w,null,{isRectText:!0},!0);x.text=w.getShallow("show")?oc(a.getFormattedLabel(v,"emphasis"),a.getFormattedLabel(v,"normal"),ij(b,v)):null;u&&Rw(x,u);return x},visual:function(u,v){v==null&&(v=m);return b.getItemVisual(v,u)},barLayout:function(u){if(g.getBaseAxis){var v=g.getBaseAxis();u=Q({axis:v},u);var x=[];v=u.axis;if(v.type!=="category")u=void 0;else{var w=v.getBandWidth();for(v=0;v<u.count;v++)x.push(Q({bandWidth:w,axisKey:"axis0",stackId:"__ec_stack_"+
v},u));x=Mt(x);w=[];for(v=0;v<u.count;v++){var z=x.axis0["__ec_stack_"+v];z.offsetCenter=z.offset+z.width/2;w.push(z)}u=w}return u}},currentSeriesIndices:function(){return c.getCurrentSeriesIndices()},font:function(u){return tm(u,c)}},h.api||{}),l={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:h.coordSys,dataInsideLength:b.count(),encode:bF(a.getData())},m,n=!0,p,q,t,r;return function(u,v){m=u;n=!0;return f&&f(Q({dataIndexInside:u,dataIndex:b.getRawIndex(u),actionType:v?
v.type:null},l),k)}}function bF(a){var b={};y(a.dimensions,function(c,d){c=a.getDimensionInfo(c);if(!c.isExtraCoord){var e=c.coordDim;(b[e]=b[e]||[])[c.coordDimIndex]=d}});return b}function xo(a,b,c,d,e,f){(a=yo(a,b,c,d,e,f,!0))&&f.setItemGraphicEl(b,a);return a}function yo(a,b,c,d,e,f,g){var h=!c;c=c||{};var k=c.type,l=c.shape,m=c.style,n;if(n=a){if(!(n=h||k!=null&&k!==a.__customGraphicType)){if(n=k==="path")n=l&&(l.hasOwnProperty("pathData")||l.hasOwnProperty("d"));n=n&&(l&&(l.pathData||l.d))!==
a.__customPathData}n=n||k==="image"&&m&&m.hasOwnProperty("image")&&m.image!==a.__customImagePath||k==="text"&&l&&l.hasOwnProperty("text")&&m.text!==a.__customText}n&&(e.remove(a),a=null);if(!h){h=!a;if(!a){a=c;l=a.type;if(l==="path")m=(n=a.shape)&&(n.pathData||n.d),n=Gi(m,null,n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,n.layout||"center"),n.__customPathData=m;else if(l==="image")n=new Va({}),n.__customImagePath=a.style.image;else if(l==="text")n=new fa({}),
n.__customText=a.style.text;else if(l==="group")n=new O;else{if(l==="compoundPath")throw Error('"compoundPath" is not supported yet.');m=pm(l);I&&ja(m,'graphic type "'+l+'" can not be found.');n=new m}n.__customGraphicType=l;n.name=a.name;a=n}XE(a,b,c,d,f,h,g);if(k==="group"&&(g=a,l=c,k=(c=l.children)?c.length:0,h=l.$mergeChildren,l=h==="byName"||l.diffChildrenByName,h=h===!1,k||l||h))if(l)b={oldChildren:g.children()||[],newChildren:c||[],dataIndex:b,animatableModel:d,group:g,data:f},(new $c(b.oldChildren,
b.newChildren,Sw,Sw,b)).add(Tw).update(Tw).remove(cF).execute();else{h&&g.removeAll();for(l=0;l<k;l++)c[l]&&yo(g.childAt(l),b,c[l],d,g,f);I&&ja(!h||g.childCount()===l,"MUST NOT contain empty item in children array when `group.$mergeChildren` is `false`.")}e.add(a);return a}}function Sw(a,b){a=a&&a.name;return a!=null?a:"e\x00\x00"+b}function Tw(a,b){var c=this.context;yo(b!=null?c.oldChildren[b]:null,c.dataIndex,a!=null?c.newChildren[a]:null,c.animatableModel,c.group,c.data)}function Qw(a,b){var c=
new ka({},b);y(Uw,function(d,e){a.hasOwnProperty(d)&&(c.option[e]=a[d])});return c}function Rw(a,b){for(var c in b)if(b.hasOwnProperty(c)||!Uw.hasOwnProperty(c))a[c]=b[c]}function cF(a){var b=this.context;(a=b.oldChildren[a])&&b.group.remove(a)}function Vw(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function dF(a,b){var c={};y(a,function(e,f){f=e.getData();var g=e.coordinateSystem,h=g.getBaseAxis();g=h.dim+g.model.componentIndex;var k=h.getExtent(),l=h.type==="category"?h.getBandWidth():
Math.abs(k[1]-k[0])/f.count();f=c[g]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};h=f.stacks;c[g]=f;g=Vw(e);h[g]||f.autoWidthCount++;h[g]=h[g]||{width:0,maxWidth:0};k=G(e.get("barWidth"),l);l=G(e.get("barMaxWidth"),l);var m=e.get("barGap");e=e.get("barCategoryGap");k&&!h[g].width&&(k=Math.min(f.remainedWidth,k),h[g].width=k,f.remainedWidth-=k);l&&(h[g].maxWidth=l);m!=null&&(f.gap=m);e!=null&&(f.categoryGap=e)});var d={};y(c,function(e,f){d[f]={};var g=e.stacks,
h=G(e.categoryGap,e.bandWidth),k=G(e.gap,1),l=e.remainedWidth,m=e.autoWidthCount,n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);y(g,function(r,u){(u=r.maxWidth)&&u<n&&(u=Math.min(u,l),r.width&&(u=Math.min(u,r.width)),l-=u,r.width=u,m--)});n=(l-h)/(m+(m-1)*k);n=Math.max(n,0);var p=0,q;y(g,function(r,u){r.width||(r.width=n);q=r;p+=r.width*(1+k)});q&&(p-=q.width*k);var t=-p/2;y(g,function(r,u){d[f][u]=d[f][u]||{offset:t,width:r.width};t+=r.width*(1+k)})});return d}function Jj(a,b){Ma.call(this,"radius",a,b);this.type=
"category"}function Kj(a,b){b=b||[0,360];Ma.call(this,"angle",a,b);this.type="category"}function Ww(a,b){return b.type||(b.data?"category":"value")}function eF(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();d.scale.setExtent(Infinity,-Infinity);e.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(f){if(f.coordinateSystem===c){var g=f.getData();y(g.mapDimension("radius",!0),function(h){e.scale.unionExtentFromData(g,ah(g,h))});y(g.mapDimension("angle",!0),function(h){d.scale.unionExtentFromData(g,
ah(g,h))})}});Hd(d.scale,d.model);Hd(e.scale,e.model);d.type!=="category"||d.onBand||(a=d.getExtent(),b=360/d.scale.count(),d.inverse?a[1]+=b:a[1]-=b,d.setExtent(a[0],a[1]))}function Xw(a,b){a.type=b.get("type");a.scale=Hf(b);a.onBand=b.get("boundaryGap")&&a.type==="category";a.inverse=b.get("inverse");if(b.mainType==="angleAxis"){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a;a.model=b}function Lj(a,b,c){b[1]>b[0]&&(b=b.slice().reverse());var d=
a.coordToPoint([b[0],c]);a=a.coordToPoint([b[1],c]);return{x1:d[0],y1:d[1],x2:a[0],y2:a[1]}}function Yw(a){var b=a[0],c=a[a.length-1];b&&c&&Math.abs(Math.abs(b.coord-c.coord)-360)<1E-4&&a.pop()}function zo(a,b){b.update="updateView";la(b,function(c,d){var e={};d.eachComponent({mainType:"geo",query:c},function(f){f[a](c.name);y(f.coordinateSystem.regions,function(g){e[g.name]=f.isSelected(g.name)||!1})});return{selected:e,name:c.name}})}function hd(a,b,c){this._model=a}function Zw(a,b,c,d){b=c.calendarModel;
c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem:null;return c===this?c[a](d):null}function $w(a,b){var c=a.cellSize;F(c)?c.length===1&&(c[1]=c[0]):c=a.cellSize=[c,c];var d=H([0,1],function(e){if(b[te[e][0]]!=null||b[te[e][1]]!=null&&b[te[e][2]]!=null)c[e]="auto";return c[e]!=null&&c[e]!=="auto"});Ed(a,b,{type:"box",ignoreSize:d})}function ax(a,b,c,d){var e=c.type;I&&ja(e,"graphic type MUST be set");e=bx.hasOwnProperty(e)?bx[e]:pm(e);I&&ja(e,"graphic type can not be found");c=new e(c);
b.add(c);d.set(a,c);c.__ecGraphicId=a}function Mj(a,b){var c=a&&a.parent;c&&(a.type==="group"&&a.traverse(function(d){Mj(d,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function fF(a){a=U({},a);y(["id","parentId","$action","hv","bounding"].concat(Hs),function(b){delete a[b]});return a}function cx(a,b){var c;y(b,function(d){a[d]!=null&&a[d]!=="auto"&&(c=!0)});return c}function gF(a,b,c){var d=b.getBoxLayoutParams(),e=b.get("padding");c={width:c.getWidth(),height:c.getHeight()};var f=Ja(d,c,e);Ge(b.get("orient"),
a,b.get("itemGap"),f.width,f.height);Ri(a,d,c,e)}function dx(a,b){var c=se(b.get("padding")),d=b.getItemStyle(["color","opacity"]);d.fill=b.get("backgroundColor");return new oa({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}function Nj(a){this.model=a}function Ao(a){this.model=a}function hF(a){var b={},c=[],d=[];a.eachRawSeries(function(e){var f=e.coordinateSystem;if(!f||f.type!=="cartesian2d"&&f.type!=="polar")c.push(e);
else{var g=f.getBaseAxis();if(g.type==="category"){var h=g.dim+"_"+g.index;b[h]||(b[h]={categoryAxis:g,valueAxis:f.getOtherAxis(g),series:[]},d.push({axisDim:g.dim,axisIndex:g.index}));b[h].series.push(e)}else c.push(e)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function iF(a){var b=[];y(a,function(c,d){d=c.categoryAxis;var e=c.valueAxis.dim,f=[" "].concat(H(c.series,function(k){return k.name})),g=[d.model.getCategories()];y(c.series,function(k){var l=k.getRawData();g.push(k.getRawData().mapArray(l.mapDimension(e),
function(m){return m}))});c=[f.join("\t")];for(d=0;d<g[0].length;d++){f=[];for(var h=0;h<g.length;h++)f.push(g[h][d]);c.push(f.join("\t"))}b.push(c.join("\n"))});return b.join("\n\n"+Oj+"\n\n")}function jF(a){return H(a,function(b){var c=b.getRawData(),d=[b.name],e=[];c.each(c.dimensions,function(){for(var f=arguments.length,g=c.getName(arguments[f-1]),h=0;h<f-1;h++)e[h]=arguments[h];d.push((g?g+"\t":"")+e.join("\t"))});return d.join("\n")}).join("\n\n"+Oj+"\n\n")}function kF(a){a=hF(a);return{value:Na([iF(a.seriesGroupByCategoryAxis),
jF(a.other)],function(b){return b.replace(/[\n\t\s]/g,"")}).join("\n\n"+Oj+"\n\n"),meta:a.meta}}function Pj(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function lF(a){a=a.split(/\n+/g);var b=Pj(a.shift()).split(Bo),c=[];b=H(b,function(g){return{name:g,data:[]}});for(var d=0;d<a.length;d++){var e=Pj(a[d]).split(Bo);c.push(e.shift());for(var f=0;f<e.length;f++)b[f]&&(b[f].data[d]=e[f])}return{series:b,categories:c}}function mF(a,b){a=a.split(new RegExp("\n*"+Oj+"\n*","g"));var c={series:[]};
y(a,function(d,e){var f=d.slice(0,d.indexOf("\n")).indexOf("\t")>=0?!0:void 0;if(f)d=lF(d),e=b[e],f=e.axisDim+"Axis",e&&(c[f]=c[f]||[],c[f][e.axisIndex]={data:d.categories},c.series=c.series.concat(d.series));else{e=d.split(/\n+/g);d=Pj(e.shift());f=[];for(var g=0;g<e.length;g++){var h=Pj(e[g]);if(h){h=h.split(Bo);var k=!1;if(isNaN(h[0])){k=!0;var l=h[0];h=h.slice(1);f[g]={name:l,value:[]};l=f[g].value}else l=f[g]=[];for(var m=0;m<h.length;m++)l.push(+h[m]);l.length===1&&(k?f[g].value=l[0]:f[g]=l[0])}}d=
{name:d,data:f};c.series.push(d)}});return c}function Ah(a){this._dom=null;this.model=a}function nF(a,b){return H(a,function(c,d){d=b&&b[d];if(X(d)&&!F(d)){if(!X(c)||F(c))c={value:c};var e=d.name!=null&&c.name==null;c=Q(c,d);e&&delete c.name}return c})}function Qj(a,b,c){var d=this._targetInfoList=[],e={},f=ug(b,a,{includeMainTypes:ex});Pd(oF,function(g,h){(!c||!c.include||Rj(c.include,h)>=0)&&g(f,d,e)})}function Co(a){a[0]>a[1]&&a.reverse();return a}function fx(a,b,c,d){I&&ja(c.type==="cartesian2d",
"lineX/lineY brush is available only in cartesian2d.");var e=c.getAxis(["x","y"][a]);c=Co(H([0,1],function(g){return b?e.coordToData(e.toLocalCoord(d[g])):e.toGlobalCoord(e.dataToCoord(d[g]))}));var f=[];f[a]=c;f[1-a]=[NaN,NaN];return{values:c,xyMinMax:f}}function gx(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function hx(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function pF(a,b){var c=Do(a);ix(b,function(d,e){for(d=c.length-1;d>=0&&!c[d][e];d--);d<0&&(d=a.queryComponents({mainType:"dataZoom",
subType:"select",id:e})[0])&&(d=d.getPercentRange(),c[0][e]={dataZoomId:e,start:d[0],end:d[1]})});c.push(b)}function qF(a){var b=Do(a);a=b[b.length-1];b.length>1&&b.pop();var c={};ix(a,function(d,e){for(var f=b.length-1;f>=0;f--)if(d=b[f][e]){c[e]=d;break}});return c}function Do(a){var b=a["\x00_ec_hist_store"];b||(b=a["\x00_ec_hist_store"]=[{}]);return b}function rF(a,b,c){function d(f,g){var h=!1;b(function(k){y(c(f,k)||[],function(l){g.records[k.name][l]&&(h=!0)})});return h}function e(f,g){g.nodes.push(f);
b(function(h){y(c(f,h)||[],function(k){g.records[h.name][k]=!0})})}return function(f){function g(l){ma(h.nodes,l)>=0||!d(l,h)||(e(l,h),k=!0)}var h={nodes:[],records:{}};b(function(l){h.records[l.name]={}});if(!f)return h;e(f,h);do{var k=!1;a(g)}while(k);return h}}function sF(a,b,c){var d=[Infinity,-Infinity];He(c,function(e){var f=e.getData();f&&He(f.mapDimension(b,!0),function(g){g=f.getApproximateExtent(g);g[0]<d[0]&&(d[0]=g[0]);g[1]>d[1]&&(d[1]=g[1])})});d[1]<d[0]&&(d=[NaN,NaN]);tF(a,d);return d}
function tF(a,b){a=a.getAxisModel();var c=a.getMin(!0),d=a.get("type")==="category",e=d&&a.getCategories().length;c!=null&&c!=="dataMin"&&typeof c!=="function"?b[0]=c:d&&(b[0]=e>0?0:NaN);c=a.getMax(!0);c!=null&&c!=="dataMax"&&typeof c!=="function"?b[1]=c:d&&(b[1]=e>0?e-1:NaN);a.get("scale",!0)||(b[0]>0&&(b[0]=0),b[1]<0&&(b[1]=0));return b}function jx(a,b){var c=a.getAxisModel(),d=a._percentWindow;a=a._valueWindow;if(d){var e=wm(a,[0,500]);e=Math.min(e,20);b=b||d[0]===0&&d[1]===100;c.setRange(b?null:
+a[0].toFixed(e),b?null:+a[1].toFixed(e))}}function uF(a){var b=a._minMaxSpan={},c=a._dataZoomModel,d=a._dataExtent;He(["min","max"],function(e){var f=c.get(e+"Span"),g=c.get(e+"ValueSpan");g!=null&&(g=a.getAxisModel().axis.scale.parse(g));g!=null?f=ia(d[0]+g,d,[0,100],!0):f!=null&&(g=ia(f,[0,100],d,!0)-d[0]);b[e+"Span"]=f;b[e+"ValueSpan"]=g})}function kx(a){var b={};Ie(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});return b}function lx(a,b){var c=
a._rangePropMode,d=a.get("rangeMode");Ie([["start","startValue"],["end","endValue"]],function(e,f){var g=b[e[0]]!=null;e=b[e[1]]!=null;g&&!e?c[f]="percent":!g&&e?c[f]="value":d?c[f]=d[f]:g&&(c[f]="percent")})}function Eo(a,b,c){(this._brushController=new Qf(c.getZr())).on("brush",L(this._onBrush,this)).mount()}function mx(a){var b={};y(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];b[c]==null&&(b[c]="all");b[c]!==!1&&b[c]!=="none"||(b[c]=[])});return b}function vF(a,b,c,d,e){var f=c._isZoomActive;
d&&d.type==="takeGlobalCursor"&&(f=d.key==="dataZoomSelect"?d.dataZoomSelectActive:!1);c._isZoomActive=f;a.setIconStatus("zoom",f?"emphasis":"normal");b=new Qj(mx(a.option),b,{include:["grid"]});c._brushController.setPanels(b.makePanelOpts(e,function(g){return g.xAxisDeclared&&!g.yAxisDeclared?"lineX":!g.xAxisDeclared&&g.yAxisDeclared?"lineY":"rect"})).enableBrush(f?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}function Fo(a){this.model=a}function wF(a){var b="left "+a+
"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return H(xF,function(c){return c+"transition:"+b}).join(";")}function yF(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();d&&b.push("color:"+d);b.push("font:"+a.getFont());d=a.get("lineHeight");d==null&&(d=Math.round(c*3/2));c&&b.push("line-height:"+d+"px");c=a.get("textShadowColor");d=a.get("textShadowBlur")||0;var e=a.get("textShadowOffsetX")||0,f=a.get("textShadowOffsetY")||0;d&&b.push("text-shadow:"+e+"px "+f+"px "+
d+"px "+c);nx(["decoration","align"],function(g){var h=a.get(g);h&&b.push("text-"+g+":"+h)});return b.join(";")}function zF(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");c&&b.push(wF(c));d&&(da.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+nl(d)),b.push("filter:alpha(opacity\x3d70)")));nx(["width","color","radius"],function(g){var h="border-"+g,k=AF(h);k=a.get(k);k!=null&&b.push(h+":"+k+(g==="color"?"":
"px"))});b.push(yF(e));f!=null&&b.push("padding:"+se(f).join("px ")+"px");return b.join(";")+";"}function ox(a,b,c,d,e){var f=b&&b.painter;if(c){if(c=f&&f.getViewportRoot())f=document.body,dl(Go,c,d,e,!0)&&dl(a,f,Go[0],Go[1])}else if(a[0]=d,a[1]=e,d=f&&f.getViewportRootOffset())a[0]+=d.offsetLeft,a[1]+=d.offsetTop;a[2]=a[0]/b.getWidth();a[3]=a[1]/b.getHeight()}function Ho(a,b,c){if(da.wxa)return null;var d=document.createElement("div");d.domBelongToZr=!0;this.el=d;var e=this._zr=b.getZr();c=this._appendToBody=
c&&c.appendToBody;this._styleCoord=[0,0,0,0];ox(this._styleCoord,e,c,b.getWidth()/2,b.getHeight()/2);c?document.body.appendChild(d):a.appendChild(d);this._container=a;this._show=!1;var f=this;d.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0);f._inContent=!0};d.onmousemove=function(g){g=g||window.event;if(!f._enterable){var h=e.handler,k=e.painter.getViewportRoot();pc(k,g,!0);h.dispatch("mousemove",g)}};d.onmouseleave=function(){f._enterable&&f._show&&f.hideLater(f._hideDelay);
f._inContent=!1}}function px(a,b,c,d){a[0]=c;a[1]=d;a[2]=a[0]/b.getWidth();a[3]=a[1]/b.getHeight()}function Io(a){var b=this._zr=a.getZr();this._styleCoord=[0,0,0,0];px(this._styleCoord,b,a.getWidth()/2,a.getHeight()/2);this._show=!1}function Jo(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(ka.isInstance(c)&&(c=c.get("tooltip",!0)),typeof c==="string"&&(c={formatter:c}),b=new ka(c,b,b.ecModel))}return b}function BF(a){var b={};y(a,function(c){b[c]=1});a.length=0;y(b,function(c,d){a.push(d)})}
function qx(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}function Ko(a,b,c){function d(){var f=function(){};f.prototype.__hidden=f.prototype;return new f}var e={};rx(b,function(f){var g=e[f]=d();rx(a[f],function(h,k){ta.isValidType(k)&&(h={type:k,visual:h},c&&c(h,f),g[k]=new ta(h),k==="opacity"&&(h=T(h),h.type="colorAlpha",g.__hidden.__alphaForOpacity=new ta(h)))})});return e}function sx(a,b,c){var d;y(c,function(e){b.hasOwnProperty(e)&&qx(b[e])&&(d=!0)});d&&y(c,function(e){b.hasOwnProperty(e)&&
qx(b[e])?a[e]=T(b[e]):delete a[e]})}function CF(a,b,c,d,e,f){function g(n){return c.getItemVisual(m,n)}function h(n,p){c.setItemVisual(m,n,p)}function k(n,p){m=f==null?n:p;p=c.getRawDataItem(m);if(!p||p.visualMap!==!1){var q=d.call(e,n);p=b[q];q=l[q];for(var t=0,r=q.length;t<r;t++){var u=q[t];p[u]&&p[u].applyVisual(n,g,h)}}}var l={};y(a,function(n){var p=ta.prepareVisualTypes(b[n]);l[n]=p});var m;f==null?c.each(k):c.each([f],k)}function DF(a,b,c,d){var e={};y(a,function(f){var g=ta.prepareVisualTypes(b[f]);
e[f]=g});return{progress:function(f,g){function h(u){return g.getItemVisual(l,u)}function k(u,v){g.setItemVisual(l,u,v)}d!=null&&(d=g.getDimension(d));for(var l;(l=f.next())!=null;){var m=g.getRawDataItem(l);if(!m||m.visualMap!==!1){m=d!=null?g.get(d,l,!0):l;var n=c(m),p=b[n];n=e[n];for(var q=0,t=n.length;q<t;q++){var r=n[q];p[r]&&p[r].applyVisual(m,h,k)}}}}}}function tx(a){var b=["x","y"],c=["width","height"];return{point:function(d,e,f){if(d)return Bh(d[a],f.range)},rect:function(d,e,f){if(d)return e=
f.range,d=[d[b[a]],d[b[a]]+d[c[a]]],d[1]<d[0]&&d.reverse(),Bh(d[0],e)||Bh(d[1],e)||Bh(e[0],d)||Bh(e[1],d)}}}function Bh(a,b){return b[0]<=a&&a<=b[1]}function ux(a){a.eachComponent({mainType:"brush"},function(b){(b.brushTargetManager=new Qj(b.option,a)).setInputRanges(b.areas,a)})}function EF(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=FF),Tg(e,"__ecBrushSelect",c,b)(a,d)))}function FF(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=
!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function vx(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a[g.brushType](d,c,g.selectors,g))return!0}}function xx(a){var b=a.brushSelector;if(va(b)){var c=[];y(Lo,function(e,f){c[f]=function(g,h,k,l){g=h.getItemLayout(g);return e[b](g,k,l)}});return c}if(Oa(b)){var d={};y(Lo,function(e,f){d[f]=b});return d}return b}function GF(a,b){a=a.option.seriesIndex;return a!=null&&a!=="all"&&(F(a)?ma(a,b)<0:b!==a)}function HF(a){var b=
a.selectors={};y(Lo[a.brushType],function(c,d){b[d]=function(e){return c(e,b,a)}});return a}function yx(a){return new ea(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function zx(a,b){return Y({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new ka(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function Mo(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}
function No(a,b,c){this.model=a;this.ecModel=b;this.api=c}function IF(a){var b=a.type,c={number:"value",time:"time"};c[b]&&(a.axisType=c[b],delete a.type);Ax(a);a.hasOwnProperty("controlPosition")&&(b=a.controlStyle||(a.controlStyle={}),b.hasOwnProperty("position")||(b.position=a.controlPosition),b.position!=="none"||b.hasOwnProperty("show")||(b.show=!1,delete b.position),delete a.controlPosition);y(a.data||[],function(d){X(d)&&!F(d)&&(!d.hasOwnProperty("value")&&d.hasOwnProperty("name")&&(d.value=
d.name),Ax(d))})}function Ax(a){var b=a.itemStyle||(a.itemStyle={});b=b.emphasis||(b.emphasis={});a=a.label||a.label||{};var c=a.normal||(a.normal={}),d={normal:1,emphasis:1};y(a,function(e,f){d[f]||c.hasOwnProperty(f)||(c[f]=e)});b.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=b.label,delete b.label)}function Bx(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):(e=a.get("symbol"),e=Db(e,-1,-1,2,2,g),e.setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));b=b.getItemStyle(["color",
"symbol","symbolSize"]);e.setStyle(b);d=Y({rectHover:!0,z2:100},d,!0);b=a.get("symbolSize");b=b instanceof Array?b.slice():[+b,+b];b[0]/=2;b[1]/=2;d.scale=b;if(c=a.get("symbolOffset"))f=d.position=d.position||[0,0],f[0]+=G(c[0],b[0]),f[1]+=G(c[1],b[1]);a=a.get("symbolRotate");d.rotation=(a||0)*Math.PI/180||0;e.attr(d);e.updateTransform();return e}function Cx(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,
0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function Sj(a){ie(a,"label",["show"])}function Oo(a,b,c,d,e,f){var g=[],h=ad(b,d)?b.getCalculationInfo("stackResultDimension"):d;a=Po(b,h,a);a=b.indicesOfNearest(h,a)[0];g[e]=b.get(c,a);g[f]=b.get(h,a);c=b.get(d,a);b=As(b.get(d,a));b=Math.min(b,20);b>=0&&(g[f]=+g[f].toFixed(b));return[g,c]}function Ch(a,b){var c=a.getData(),d=a.coordinateSystem,e;if(e=b)e=b,e=!(!isNaN(parseFloat(e.x))&&
!isNaN(parseFloat(e.y)));if(e&&!F(b.coord)&&d)if(e=d.dimensions,a=Dx(b,c,d,a),b=T(b),b.type&&Qo[b.type]&&a.baseAxis&&a.valueAxis)d=Ex(e,a.baseAxis.dim),e=Ex(e,a.valueAxis.dim),c=Qo[b.type](c,a.baseDataDim,a.valueDataDim,d,e),b.coord=c[0],b.value=c[1];else{a=[b.xAxis!=null?b.xAxis:b.radiusAxis,b.yAxis!=null?b.yAxis:b.angleAxis];for(d=0;d<2;d++)Qo[a[d]]&&(a[d]=Po(c,c.mapDimension(e[d]),a[d]));b.coord=a}return b}function Dx(a,b,c,d){var e={};if(a.valueIndex!=null||a.valueDim!=null){e.valueDataDim=a.valueIndex!=
null?b.getDimension(a.valueIndex):a.valueDim;a=c.getAxis;a:{var f=e.valueDataDim;d=d.getData();var g=d.dimensions;f=d.getDimension(f);for(var h=0;h<g.length;h++){var k=d.getDimensionInfo(g[h]);if(k.name===f){f=k.coordDim;break a}}f=void 0}e.valueAxis=a.call(c,f);e.baseAxis=c.getOtherAxis(e.valueAxis);e.baseDataDim=b.mapDimension(e.baseAxis.dim)}else e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=b.mapDimension(e.baseAxis.dim),e.valueDataDim=b.mapDimension(e.valueAxis.dim);
return e}function Dh(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return c?a.containData(b.coord):!0}function Fx(a,b,c,d){return d<2?a.coord&&a.coord[d]:a.value}function Po(a,b,c){if(c==="average"){var d=0,e=0;a.each(b,function(f,g){isNaN(f)||(d+=f,e++)});return d/e}return c==="median"?a.getMedian(b):a.getDataExtent(b,!0)[c==="max"?1:0]}function Gx(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f=a.getItemModel(e),g=G(f.get("x"),c.getWidth());
f=G(f.get("y"),c.getHeight());if(!isNaN(g)&&!isNaN(f))var h=[g,f];else if(b.getMarkerPosition)h=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){h=a.get(d.dimensions[0],e);var k=a.get(d.dimensions[1],e);h=d.dataToPoint([h,k])}isNaN(g)||(h[0]=g);isNaN(f)||(h[1]=f);a.setItemLayout(e,h)})}function JF(a,b,c){var d=a?H(a&&a.dimensions,function(e){var f=b.getData().getDimensionInfo(b.getData().mapDimension(e))||{};return Q({name:e},f)}):[{name:"value",type:"float"}];d=new Ua(d,c);c=H(c.get("data"),
R(Ch,b));a&&(c=Na(c,R(Dh,a)));d.initData(c,null,a?Fx:function(e){return e.value});return d}function Tj(a){return!isNaN(a)&&!isFinite(a)}function Hx(a,b,c,d){var e=1-a,f=d.dimensions[a];return Tj(b[e])&&Tj(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function KF(a,b){if(a.type==="cartesian2d"){var c=b[0].coord,d=b[1].coord;if(c&&d&&(Hx(1,c,d,a)||Hx(0,c,d,a)))return!0}return Dh(a,b[0])&&Dh(a,b[1])}function Ro(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=G(g.get("x"),e.getWidth());
e=G(g.get("y"),e.getHeight());if(isNaN(h)||isNaN(e)){d.getMarkerPosition?g=d.getMarkerPosition(a.getValues(a.dimensions,b)):(d=f.dimensions,g=a.get(d[0],b),d=a.get(d[1],b),g=f.dataToPoint([g,d]));if(f.type==="cartesian2d"){var k=f.getAxis("x"),l=f.getAxis("y");d=f.dimensions;Tj(a.get(d[0],b))?g[0]=k.toGlobalCoord(k.getExtent()[c?0:1]):Tj(a.get(d[1],b))&&(g[1]=l.toGlobalCoord(l.getExtent()[c?0:1]))}isNaN(h)||(g[0]=h);isNaN(e)||(g[1]=e)}else g=[h,e];a.setItemLayout(b,g)}function LF(a,b,c){var d=a?H(a&&
a.dimensions,function(g){var h=b.getData().getDimensionInfo(b.getData().mapDimension(g))||{};return Q({name:g},h)}):[{name:"value",type:"float"}],e=new Ua(d,c);d=new Ua(d,c);var f=new Ua([],c);c=H(c.get("data"),R(MF,b,a,c));a&&(c=Na(c,R(KF,a)));a=a?Fx:function(g){return g.value};e.initData(H(c,function(g){return g[0]}),null,a);d.initData(H(c,function(g){return g[1]}),null,a);f.initData(H(c,function(g){return g[2]}));f.hasItemOption=!0;return{from:e,to:d,line:f}}function Qd(a){return!isNaN(a)&&!isFinite(a)}
function NF(a,b){var c=b.coord[0],d=b.coord[1];if(a.type==="cartesian2d"){var e;if(e=c&&d)(e=Qd(c[0])&&Qd(d[0]))||(e=Qd(c[1])&&Qd(d[1]));if(e)return!0}return Dh(a,{coord:c,x:b.x0,y:b.y0})||Dh(a,{coord:d,x:b.x1,y:b.y1})}function Ix(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=G(g.get(c[0]),e.getWidth());e=G(g.get(c[1]),e.getHeight());if(isNaN(h)||isNaN(e)){if(d.getMarkerPosition)d=d.getMarkerPosition(a.getValues(c,b));else{g=a.get(c[0],b);var k=a.get(c[1],b);d=[g,k];f.clampData&&f.clampData(d,
d);d=f.dataToPoint(d,!0)}if(f.type==="cartesian2d"){var l=f.getAxis("x");f=f.getAxis("y");g=a.get(c[0],b);k=a.get(c[1],b);Qd(g)?d[0]=l.toGlobalCoord(l.getExtent()[c[0]==="x0"?0:1]):Qd(k)&&(d[1]=f.toGlobalCoord(f.getExtent()[c[1]==="y0"?0:1]))}isNaN(h)||(d[0]=h);isNaN(e)||(d[1]=e)}else d=[h,e];return d}function OF(a,b,c){var d=["x0","y0","x1","y1"];if(a){var e=H(a&&a.dimensions,function(f){var g=b.getData();g=g.getDimensionInfo(g.mapDimension(f))||{};return Q({name:f},g)});d=new Ua(H(d,function(f,
g){return{name:f,type:e[g%2].type}}),c)}else e=[{name:"value",type:"float"}],d=new Ua(e,c);c=H(c.get("data"),R(PF,b,a,c));a&&(c=Na(c,R(NF,a)));d.initData(c,null,a?function(f,g,h,k){return f.coord[Math.floor(k/2)][k%2]}:function(f){return f.value});d.hasItemOption=!0;return d}function Eh(a,b,c){var d={},e=a==="toggleSelected",f;c.eachComponent("legend",function(g){if(e&&f!=null)g[f?"select":"unSelect"](b.name);else if(a==="allSelect"||a==="inverseSelect")g[a]();else g[a](b.name),f=g.isSelected(b.name);
var h=g.getData();y(h,function(k){k=k.get("name");if(k!=="\n"&&k!==""){var l=g.isSelected(k);d.hasOwnProperty(k)?d[k]=d[k]&&l:d[k]=l}})});return a==="allSelect"||a==="inverseSelect"?{selected:d}:{name:b.name,selected:d}}function Jx(a,b,c,d,e,f){b!=="line"&&b.indexOf("empty")<0?(b=c.getItemStyle(),a.style.stroke=d,f||(b.stroke=e)):b=c.getItemStyle(["borderWidth","borderColor"]);return a.setStyle(b)}function Kx(a,b,c,d){So(a,b,c,d);c.dispatchAction({type:"legendToggleSelect",name:a!=null?a:b});To(a,
b,c,d)}function To(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"highlight",seriesName:a,name:b,excludeSeriesId:d})}function So(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"downplay",seriesName:a,name:b,excludeSeriesId:d})}function Lx(a,b,c){a=a.getOrient();var d=[1,1];d[a.index]=0;Ed(b,c,{type:"box",ignoreSize:d})}function Mx(a){return a==="vertical"?"ns-resize":"ew-resize"}function QF(a,b){var c=
Nx(a),d=b.dataZoomId,e=b.coordId;y(c,function(g,h){h=g.dataZoomInfos;h[d]&&ma(b.allCoordIds,e)<0&&(delete h[d],g.count--)});Ox(c);var f=c[e];f||(f=c[e]={coordId:e,dataZoomInfos:{},count:0},f.controller=RF(a,f),f.dispatchAction=R(SF,a));!f.dataZoomInfos[d]&&f.count++;f.dataZoomInfos[d]=b;a=TF(f.dataZoomInfos);f.controller.enable(a.controlType,a.opt);f.controller.setPointerChecker(b.containsPoint);Tg(f,"dispatchAction",b.dataZoomModel.get("throttle",!0),"fixRate")}function UF(a,b){a=Nx(a);y(a,function(c){c.controller.dispose();
var d=c.dataZoomInfos;d[b]&&(delete d[b],c.count--)});Ox(a)}function Nx(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function RF(a,b){var c=new Lf(a.getZr());y(["pan","zoom","scrollMove"],function(d){c.on(d,function(e){var f=[];y(b.dataZoomInfos,function(g){if(e.isAvailableBehavior(g.dataZoomModel.option)){var h=(g.getRange||{})[d];h=h&&h(b.controller,e);!g.dataZoomModel.get("disabled",!0)&&h&&f.push({dataZoomId:g.dataZoomId,start:h[0],end:h[1]})}});f.length&&
b.dispatchAction(f)})});return c}function Ox(a){y(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function SF(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function TF(a){var b,c={type_true:2,type_move:1,type_false:0,type_undefined:-1},d=!0;y(a,function(e){e=e.dataZoomModel;var f=e.get("disabled",!0)?!1:e.get("zoomLock",!0)?"move":!0;c["type_"+f]>c["type_"+b]&&(b=f);d&=e.get("preventDefaultMouseMove",!0)});return{controlType:b,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,
preventDefaultMouseMove:!!d}}}function Px(a){return function(b,c,d,e){var f=this._range,g=f.slice(),h=b.axisModels[0];if(h&&(b=a(g,h,b,c,d,e),Je(b,g,[0,100],"all"),this._range=g,f[0]!==g[0]||f[1]!==g[1]))return g}}function Tf(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function VF(a,b,c,d){function e(l){return g[l]}function f(l,m){g[l]=m}b=b.targetVisuals[d];d=ta.prepareVisualTypes(b);var g={color:a.getData().getVisual("color")};a=0;for(var h=d.length;a<h;a++){var k=d[a];(k=b[k==="opacity"?
"__alphaForOpacity":k])&&k.applyVisual(c,e,f)}return g.color}function Qx(a,b,c){if(c[0]===c[1])return c.slice();a=(c[1]-c[0])/200;b=c[0];for(var d=[],e=0;e<=200&&b<c[1];e++)d.push(b),b+=a;d.push(c[1]);return d}function Rx(a,b,c){a=a.option;var d=a.align;if(d!=null&&d!=="auto")return d;b={width:b.getWidth(),height:b.getHeight()};var e=a.orient==="horizontal"?1:0,f=[["left","right","width"],["top","bottom","height"]];d=f[e];for(var g=[0,null,10],h={},k=0;k<3;k++)h[f[1-e][k]]=g[k],h[d[k]]=k===2?c[0]:
a[d[k]];c=[["x","width",3],["y","height",0]][e];a=Ja(h,b,a.padding);return d[(a.margin[c[2]]||0)+a[c[0]]+a[c[1]]*.5<b[c[1]]*.5?0:1]}function Uj(a,b){y(a||[],function(c){c.dataIndex!=null&&(c.dataIndexInside=c.dataIndex,c.dataIndex=null);c.highlightKey="visualMap"+(b?b.componentIndex:"")});return a}function Vj(a,b,c,d){return new sb({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(e){fe(e.event)},ondragend:d})}function Sx(a){var b=a.get("hoverLinkOnHandle");return!(b==null?!a.get("realtime"):
!b)}function Tx(a){return a==="vertical"?"ns-resize":"ew-resize"}function Ux(a,b){var c=a.inverse;(a.orient==="vertical"?!c:c)&&b.reverse()}function WF(){if(!Vx&&Fb){Vx=!0;var a=Fb.styleSheets;a.length<31?Fb.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Wj(a,b){WF();this.root=a;this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";
d.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=d;this._vmlViewport=c;this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(g){e.call(b,g);g&&g.onRemove&&g.onRemove(d)};b.addToStorage=function(g){g.onAdd&&g.onAdd(d);f.call(b,g)};this._firstPaint=!0}function XF(a){return function(){}}function Cc(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function jc(a){return Uo(a*1E4)/1E4}function Vo(a,b){b&&Fa(a,"transform","matrix("+
YF.call(b,",")+")")}function Fa(a,b,c){(!c||c.type!=="linear"&&c.type!=="radial")&&a.setAttribute(b,c)}function Wx(a,b,c,d){var e=c?b.textFill:b.fill;e!=null&&e!=="none"?(e=c?b.textFill:b.fill,Fa(a,"fill",e==="transparent"?"none":e),Fa(a,"fill-opacity",b.fillOpacity!=null?b.fillOpacity*b.opacity:b.opacity)):Fa(a,"fill","none");e=c?b.textStroke:b.stroke;e!=null&&e!=="none"?(e=c?b.textStroke:b.stroke,Fa(a,"stroke",e==="transparent"?"none":e),e=c?b.textStrokeWidth:b.lineWidth,d=!c&&b.strokeNoScale?d.getLineScale():
1,Fa(a,"stroke-width",e/d),Fa(a,"paint-order",c?"stroke":"fill"),Fa(a,"stroke-opacity",b.strokeOpacity!=null?b.strokeOpacity:b.opacity),b.lineDash?(Fa(a,"stroke-dasharray",b.lineDash.join(",")),Fa(a,"stroke-dashoffset",Uo(b.lineDashOffset||0))):Fa(a,"stroke-dasharray",""),b.lineCap&&Fa(a,"stroke-linecap",b.lineCap),b.lineJoin&&Fa(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&Fa(a,"stroke-miterlimit",b.miterLimit)):Fa(a,"stroke","none")}function Xx(a,b,c,d){Fa(a,"dominant-baseline","middle");Fa(a,
"text-anchor",ZF[b]);Fa(a,"x",c);Fa(a,"y",d)}function Wo(a){a&&a.__textSvgEl&&(a.__textSvgEl.parentNode&&a.__textSvgEl.parentNode.removeChild(a.__textSvgEl),a.__textSvgEl=null,a.__tspanList=[],a.__text=null)}function Yx(){}function Ba(a,b,c,d,e){this._zrId=a;this._svgRoot=b;this._tagNames=typeof c==="string"?[c]:c;this._markLabel=d;this._domName=e||"_dom";this.nextId=0}function Ke(a,b){Ba.call(this,a,b,["linearGradient","radialGradient"],"__gradient_in_use__")}function Fh(a,b){Ba.call(this,a,b,"clipPath",
"__clippath_in_use__")}function Rd(a,b){Ba.call(this,a,b,["filter"],"__filter_in_use__","_shadowDom")}function Zx(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function Gh(a,b,c){b&&a&&b.parentNode!==a&&c&&((c=c.nextSibling)?a.insertBefore(b,c):a.appendChild(b))}function $x(a,b){if(b&&a&&b.parentNode!==a){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function $F(a){return function(){}}if(typeof window!=="undefined")var Xj=
window.__DEV__;else typeof global!=="undefined"&&(Xj=global.__DEV__);typeof Xj==="undefined"&&(Xj=!0);var I=Xj,tr=2311,da=typeof wx==="object"&&typeof wx.getSystemInfoSync==="function"?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:typeof document==="undefined"&&typeof self!=="undefined"?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:typeof navigator==="undefined"?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,
svgSupported:!0,domSupported:!1}:fg(navigator.userAgent),xq={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},wq={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},gg=Object.prototype.toString,Hh=Array.prototype,
Qz=Hh.forEach,Tz=Hh.filter,ig=Hh.slice,Rz=Hh.map,Sz=Hh.reduce,Wk={},$e=function(){return Wk.createCanvas()};Wk.createCanvas=function(){return document.createElement("canvas")};var $h,ee="__ec_primitive__";ai.prototype={constructor:ai,get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},set:function(a,b){return this.data[a]=b},each:function(a,b){b!==void 0&&(a=L(a,b));for(var c in this.data)this.data.hasOwnProperty(c)&&a(this.data[c],c)},removeKey:function(a){delete this.data[a]}};
var aG=(Object.freeze||Object)({$override:vq,clone:T,merge:Y,mergeAll:hg,extend:U,defaults:Q,createCanvas:$e,getContext:yq,indexOf:ma,inherits:ua,mixin:pa,isArrayLike:Lc,each:y,map:H,reduce:af,filter:Na,find:zq,bind:L,curry:R,isArray:F,isFunction:Oa,isString:va,isObject:X,isBuiltInObject:Xk,isTypedArray:Wb,isDom:Ze,eqNaN:jg,retrieve:xa,retrieve2:Ia,retrieve3:oc,slice:bf,normalizeCssArray:Yk,assert:ja,trim:Jb,setAsPrimitive:Zk,isPrimitive:function(a){return a[ee]},createHashMap:aa,concatArray:$k,noop:Pa}),
Aq=typeof Float32Array==="undefined"?Array:Float32Array,dd=mg,rd=Cq,bG=(Object.freeze||Object)({create:id,copy:Xa,clone:Xb,set:Bq,add:al,scaleAndAdd:kg,sub:Mc,len:lg,length:lg,lenSquare:bl,lengthSquare:bl,mul:function(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a},div:function(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:bi,normalize:cf,distance:mg,dist:dd,distanceSquare:Cq,distSquare:rd,negate:function(a,b){a[0]=-b[0];a[1]=-b[1];return a},lerp:Dq,
applyTransform:sa,min:Nc,max:Oc});ci.prototype={constructor:ci,_dragStart:function(a){for(var b=a.target;b&&!b.draggable;)b=b.parent;b&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(df(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c;this._y=d;b.drift(e,f,a);this.dispatchToElement(df(b,a),"drag",a.event);c=this.findHover(c,d,b).target;d=this._dropTarget;this._dropTarget=
c;b!==c&&(d&&c!==d&&this.dispatchToElement(df(d,a),"dragleave",a.event),c&&c!==d&&this.dispatchToElement(df(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(df(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(df(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var ay=Array.prototype.slice,Ra=function(a){this._$handlers={};this._$eventProcessor=a};Ra.prototype={constructor:Ra,one:function(a,
b,c,d){return Eq(this,a,b,c,d,!0)},on:function(a,b,c,d){return Eq(this,a,b,c,d,!1)},isSilent:function(a){var b=this._$handlers;return!b[a]||!b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!==b&&d.push(c[a][e]);c[a]=d}c[a]&&c[a].length===0&&delete c[a]}else delete c[a];return this},trigger:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;e>3&&(d=ay.call(d,
1));for(var f=b.length,g=0;g<f;){var h=b[g];if(c&&c.filter&&h.query!=null&&!c.filter(a,h.query))g++;else{switch(e){case 1:h.h.call(h.ctx);break;case 2:h.h.call(h.ctx,d[1]);break;case 3:h.h.call(h.ctx,d[1],d[2]);break;default:h.h.apply(h.ctx,d)}h.one?(b.splice(g,1),f--):g++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this},triggerWithContext:function(a){var b=this._$handlers[a],c=this._$eventProcessor;if(b){var d=arguments,e=d.length;e>4&&(d=ay.call(d,1,d.length-1));for(var f=d[d.length-1],g=b.length,
h=0;h<g;){var k=b[h];if(c&&c.filter&&k.query!=null&&!c.filter(a,k.query))h++;else{switch(e){case 1:k.h.call(f);break;case 2:k.h.call(f,d[1]);break;case 3:k.h.call(f,d[1],d[2]);break;default:k.h.apply(f,d)}k.one?(b.splice(h,1),g--):h++}}}c&&c.afterTrigger&&c.afterTrigger(a);return this}};var Uz=Math.log(2),Go=[],hl=typeof window!=="undefined"&&!!window.addEventListener,Vz=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fl=[],fe=hl?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=
!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},Xo=function(){this._track=[]};Xo.prototype={constructor:Xo,recognize:function(a,b,c){this._doTrack(a,b,c);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,b,c){var d=a.touches;if(d){a={points:[],touches:[],target:b,event:a};b=0;for(var e=d.length;b<e;b++){var f=d[b],g=el(c,f,{});a.points.push([g.zrX,g.zrY]);a.touches.push(f)}this._track.push(a)}},_recognize:function(a){for(var b in Yo)if(Yo.hasOwnProperty(b)){var c=
Yo[b](this._track,a);if(c)return c}}};var Yo={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||d)&&c.length>1&&d&&d.length>1)return c=Hq(d)/Hq(c),!isFinite(c)&&(c=1),b.pinchScale=c,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],b.pinchX=d[0],b.pinchY=d[1],{type:"pinch",target:a[0].target,event:b}}}};Iq.prototype.dispose=function(){};var cG="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),Uf=function(a,b,c,d){Ra.call(this);
this.storage=a;this.painter=b;this.painterRoot=d;c=c||new Iq;this.proxy=null;this._hovered={};ci.call(this);this.setHandlerProxy(c)};Uf.prototype={constructor:Uf,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose();a&&(y(cG,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this);this.proxy=a},mousemove:function(a){var b=a.zrX,c=a.zrY,d=Jq(this,b,c),e=this._hovered,f=e.target;f&&!f.__zr&&(e=this.findHover(e.x,e.y),f=e.target);b=this._hovered=d?{x:b,y:c}:this.findHover(b,c);c=b.target;
d=this.proxy;d.setCursor&&d.setCursor(c?c.cursor:"default");f&&c!==f&&this.dispatchToElement(e,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==f&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){var b=a.zrEventControl,c=a.zrIsToLocalDOM;b!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",a);b!=="no_globalout"&&!c&&this.trigger("globalout",{type:"globalout",event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){(a=this[a])&&a.call(this,b)},
dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){a=a||{};var d=a.target;if(!d||!d.silent){for(var e="on"+b,f={type:b,event:c,target:a.target,topTarget:a.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which,stop:Wz};d&&
(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(g){typeof g[e]==="function"&&g[e].call(g,f);g.trigger&&g.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;f>=0;f--){var g;if(g=d[f]!==c&&!d[f].ignore){a:{var h=void 0,k=d[f];g=a;var l=b;if(k[k.rectHover?"rectContain":"contain"](g,l)){for(;k;){if(k.clipPath&&!k.clipPath.contain(g,
l)){h=!1;break a}k.silent&&(h=!0);k=k.parent}h=h?"silent":!0}else h=!1}g=h}if(g&&(!e.topTarget&&(e.topTarget=d[f]),h!=="silent")){e.target=d[f];break}}return e},processGesture:function(a,b){this._gestureMgr||(this._gestureMgr=new Xo);var c=this._gestureMgr;b==="start"&&c.clear();var d=c.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);b==="end"&&c.clear();d&&(b=d.type,a.gestureEvent=b,this.dispatchToElement({target:d.target},b,d.event))}};y("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),
function(a){Uf.prototype[a]=function(b){var c=b.zrX,d=b.zrY,e=Jq(this,c,d);if(a!=="mouseup"||!e)var f=this.findHover(c,d),g=f.target;if(a==="mousedown")this._downEl=g,this._downPoint=[b.zrX,b.zrY],this._upEl=g;else if(a==="mouseup")this._upEl=g;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||dd(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(f,a,b)}});pa(Uf,Ra);pa(Uf,ci);var Xz=typeof Float32Array==="undefined"?Array:Float32Array,dG=(Object.freeze||
Object)({create:mb,identity:ef,copy:ng,mul:jd,translate:Yb,rotate:Pc,scale:og,invert:di,clone:Kq}),Zo=ef,dc=function(a){a=a||{};a.position||(this.position=[0,0]);a.rotation==null&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},kc=dc.prototype;kc.transform=null;kc.needLocalTransform=function(){return ge(this.rotation)||ge(this.position[0])||ge(this.position[1])||ge(this.scale[0]-1)||ge(this.scale[1]-1)};var Le=[];kc.updateTransform=function(){var a=this.parent,b=a&&a.transform,
c=this.needLocalTransform(),d=this.transform;c||b?(d=d||mb(),c?this.getLocalTransform(d):Zo(d),b&&(c?jd(d,a.transform,d):ng(d,a.transform)),this.transform=d,a=this.globalScaleRatio,a!=null&&a!==1&&(this.getGlobalScale(Le),c=Le[0]<0?-1:1,b=Le[1]<0?-1:1,c=((Le[0]-c)*a+c)/Le[0]||0,a=((Le[1]-b)*a+b)/Le[1]||0,d[0]*=c,d[1]*=c,d[2]*=a,d[3]*=a),this.invTransform=this.invTransform||mb(),di(this.invTransform,d)):d&&Zo(d)};kc.getLocalTransform=function(a){return dc.getLocalTransform(this,a)};kc.setTransform=
function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};kc.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var Sd=[],$o=mb();kc.setLocalTransform=function(a){if(a){var b=a[0]*a[0]+a[1]*a[1],c=a[2]*a[2]+a[3]*a[3],d=this.position,e=this.scale;ge(b-1)&&(b=Math.sqrt(b));ge(c-1)&&(c=Math.sqrt(c));a[0]<0&&(b=-b);a[3]<0&&(c=-c);d[0]=a[4];d[1]=a[5];e[0]=b;e[1]=c;this.rotation=Math.atan2(-a[1]/c,a[0]/b)}};
kc.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(jd(Sd,a.invTransform,b),b=Sd);(a=this.origin)&&(a[0]||a[1])&&($o[4]=a[0],$o[5]=a[1],jd(Sd,b,$o),Sd[4]-=a[0],Sd[5]-=a[1],b=Sd);this.setLocalTransform(b)}};kc.getGlobalScale=function(a){var b=this.transform;a=a||[];if(!b)return a[0]=1,a[1]=1,a;a[0]=Math.sqrt(b[0]*b[0]+b[1]*b[1]);a[1]=Math.sqrt(b[2]*b[2]+b[3]*b[3]);b[0]<0&&(a[0]=-a[0]);b[3]<0&&(a[1]=-a[1]);return a};kc.transformCoordToLocal=function(a,
b){a=[a,b];(b=this.invTransform)&&sa(a,a,b);return a};kc.transformCoordToGlobal=function(a,b){a=[a,b];(b=this.transform)&&sa(a,a,b);return a};dc.getLocalTransform=function(a,b){b=b||[];Zo(b);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0;a=a.position||[0,0];c&&(b[4]-=c[0],b[5]-=c[1]);og(b,b,d);e&&Pc(b,b,e);c&&(b[4]+=c[0],b[5]+=c[1]);b[4]+=a[0];b[5]+=a[1];return b};var Yj={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=
2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-
Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=
2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b=.1;if(a===0)return 0;if(a===1)return 1;if(!b||b<1){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return-(b*Math.pow(2,10*--a)*Math.sin(2*Math.PI*(a-c)/.4))},elasticOut:function(a){var b=.1;if(a===0)return 0;if(a===1)return 1;if(!b||b<1){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return b*Math.pow(2,-10*a)*Math.sin(2*Math.PI*(a-c)/.4)+1},elasticInOut:function(a){var b=.1;if(a===0)return 0;if(a===1)return 1;
if(!b||b<1){b=1;var c=.1}else c=.4*Math.asin(1/b)/(2*Math.PI);return(a*=2)<1?-.5*(b*Math.pow(2,10*--a)*Math.sin(2*Math.PI*(a-c)/.4)):b*Math.pow(2,-10*--a)*Math.sin(2*Math.PI*(a-c)/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return(a*=2)<1?a*a*(3.5949095*a-2.5949095)*.5:.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-Yj.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*
a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?Yj.bounceIn(a*2)*.5:Yj.bounceOut(a*2-1)*.5+.5}};il.prototype={constructor:il,step:function(a,b){this._initialized||(this._startTime=a+this._delay,this._initialized=!0);if(this._paused)this._pausedTime+=b;else if(b=(a-this._startTime-this._pausedTime)/this._life,!(b<0)){b=Math.min(b,1);var c=this.easing;c=typeof c==="string"?Yj[c]:c;c=typeof c==="function"?
c(b):b;this.fire("frame",c);if(b===1){if(this.loop)return this.restart(a),"restart";this._needsRemove=!0;return"destroy"}return null}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){a="on"+a;if(this[a])this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var by=function(){this.tail=this.head=null;this._len=0},Ih=by.prototype;Ih.insert=function(a){a=
new cy(a);this.insertEntry(a);return a};Ih.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};Ih.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};Ih.len=function(){return this._len};Ih.clear=function(){this.head=this.tail=null;this._len=0};var cy=function(a){this.value=a},ap=function(a){this._list=new by;this._map={};this._maxSize=a||10;this._lastRemovedEntry=
null},bp=ap.prototype;bp.put=function(a,b){var c=this._list,d=this._map,e=null;if(d[a]==null){var f=c.len(),g=this._lastRemovedEntry;f>=this._maxSize&&f>0&&(f=c.head,c.remove(f),delete d[f.key],e=f.value,this._lastRemovedEntry=f);g?g.value=b:g=new cy(b);g.key=a;c.insertEntry(g);d[a]=g}return e};bp.get=function(a){a=this._map[a];var b=this._list;if(a!=null)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};bp.clear=function(){this._list.clear();this._map={}};var Mq={transparent:[0,0,0,0],aliceblue:[240,
248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],
darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,
191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,
1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,
222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,
228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,
143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,
238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Lq=new ap(20),ei=null,eG=(Object.freeze||Object)({parse:vb,lift:Nq,toHex:nl,fastLerp:qg,fastMapToColor:qg,lerp:Oq,mapToColor:Oq,modifyHSL:hf,modifyAlpha:fi,stringify:Qc}),ol=Array.prototype.slice,cp=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||Yz;this._setter=d||Zz;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=
[]};cp.prototype={when:function(a,b){var c=this._tracks,d;for(d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(e==null)continue;if(a!==0){var f=c[d],g=f.push;if(Lc(e)){var h=e.length;if(Lc(e[0])){for(var k=[],l=0;l<h;l++)k.push(ol.call(e[l]));e=k}else e=ol.call(e)}g.call(f,{time:0,value:e})}}c[d].push({time:a,value:b[d]})}return this},during:function(a){this._onframeList.push(a);return this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();
this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c=this,d=0,e=function(){d--;d||c._doneCallback()},f;for(f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=bA(this,a,e,this._tracks[f],f,b);if(g){this._clipList.push(g);d++;this.animation&&
this.animation.addClip(g);var h=g}}if(h){var k=h.onframe;h.onframe=function(l,m){k(l,m);for(var n=0;n<c._onframeList.length;n++)c._onframeList[n](l,m)}}d||this._doneCallback();return this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];if(a)e.onframe(this._target,1);c&&c.removeClip(e)}b.length=0},delay:function(a){this._delay=a;return this},done:function(a){a&&this._doneList.push(a);return this},getClips:function(){return this._clipList}};var dy=1;typeof window!==
"undefined"&&(dy=Math.max(window.devicePixelRatio||1,1));var Zj=dy,dp=function(){this.animators=[]};dp.prototype={constructor:dp,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){a=a.split(".");var g=e;d=a[0]==="shape";for(var h=0,k=a.length;h<k;h++)g&&(g=g[a[h]]);g&&(c=g)}else c=e;if(c){var l=e.animators,m=new cp(c,b);m.during(function(n){e.dirty(d)}).done(function(){l.splice(ma(l,m),1)});l.push(m);f&&f.animation.addAnimator(m);return m}},stopAnimation:function(a){for(var b=this.animators,
c=b.length,d=0;d<c;d++)b[d].stop(a);b.length=0;return this},animateTo:function(a,b,c,d,e,f){Tq(this,a,b,c,d,e,f)},animateFrom:function(a,b,c,d,e,f){Tq(this,a,b,c,d,e,f,!0)}};var Rc=function(a){dc.call(this,a);Ra.call(this,a);this.animators=[];this.id=a.id||tr++};Rc.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;
c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if(a==="position"||a==="scale"||a==="origin"){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if(typeof a==="string")this.attrKV(a,b);else if(X(a))for(var c in a)a.hasOwnProperty(c)&&
this.attrKV(c,a[c]);this.dirty(!1);return this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,this.clipPath=a.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&
this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}};pa(Rc,dp);pa(Rc,dc);pa(Rc,Ra);var ak=Math.min,bk=Math.max;ea.prototype={constructor:ea,union:function(a){var b=ak(a.x,this.x),c=ak(a.y,this.y);this.width=bk(a.x+a.width,this.x+this.width)-b;this.height=bk(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=
[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;sa(a,a,e);sa(b,b,e);sa(c,c,e);sa(d,d,e);this.x=ak(a[0],b[0],c[0],d[0]);this.y=ak(a[1],b[1],c[1],d[1]);e=bk(a[0],b[0],c[0],d[0]);var f=bk(a[1],b[1],c[1],d[1]);this.width=e-this.x;this.height=f-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,d=mb();Yb(d,d,[-this.x,-this.y]);og(d,d,[b,c]);Yb(d,d,[a.x,a.y]);return d},intersect:function(a){if(!a)return!1;
a instanceof ea||(a=ea.create(a));var b=this.x,c=this.y,d=this.y+this.height,e=a.x+a.width,f=a.y,g=a.y+a.height;return!(this.x+this.width<a.x||e<b||d<f||g<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new ea(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};ea.create=function(a){return new ea(a.x,
a.y,a.width,a.height)};var O=function(a){a=a||{};Rc.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[];this.__storage=null;this.__dirty=!0};O.prototype={constructor:O,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){a&&a!==
this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children;b=c.indexOf(b);b>=0&&(c.splice(b,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof O&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,
e=ma(d,a);if(e<0)return this;d.splice(e,1);a.parent=null;c&&(c.delFromStorage(a),a instanceof O&&a.delChildrenFromStorage(c));b&&b.refresh();return this},removeAll:function(){var a=this._children,b=this.__storage,c;for(c=0;c<a.length;c++){var d=a[c];b&&(b.delFromStorage(d),d instanceof O&&d.delChildrenFromStorage(b));d.parent=null}a.length=0;return this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++)a.call(b,c[d],d);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=
this._children[c];a.call(b,d);d.type==="group"&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof O&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof O&&c.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var b=
null,c=new ea(0,0,0,0);a=a||this._children;for(var d=[],e=0;e<a.length;e++){var f=a[e];if(!f.ignore&&!f.invisible){var g=f.getBoundingRect();(f=f.getLocalTransform(d))?(c.copy(g),c.applyTransform(f),b=b||c.clone(),b.union(c)):(b=b||g.clone(),b.union(g))}}return b||c}};ua(O,Rc);var ep=function(){this._roots=[];this._displayList=[];this._displayListLen=0};ep.prototype={constructor:ep,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,
b){a&&this.updateDisplayList(b||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen;da.canvasSupported&&gi(c,Yq)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=a;d;)d.parent=e,d.updateTransform(),b.push(d),e=d,d=d.clipPath}if(a.isGroup){d=
a._children;for(e=0;e<d.length;e++){var f=d[e];a.__dirty&&(f.__dirty=!0);this._updateAndAddDisplayable(f,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof O&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(a==null){for(var b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof O&&a.delChildrenFromStorage(this);this._roots=[];this._displayList=[];this._displayListLen=
0}else if(a instanceof Array){b=0;for(var c=a.length;b<c;b++)this.delRoot(a[b])}else b=ma(this._roots,a),b>=0&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof O&&a.delChildrenFromStorage(this))},addToStorage:function(a){a&&(a.__storage=this,a.dirty(!1));return this},delFromStorage:function(a){a&&(a.__storage=null);return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Yq};var fG={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,
textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Dl=function(a,b,c){return fG.hasOwnProperty(b)?c*a.dpr:c},ld={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},ck=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],md=function(a){this.extendFrom(a,!1)};md.prototype={constructor:md,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,
shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,
textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;var d=!c||a.__attrCachedBy!==ld.STYLE_BIND;a.__attrCachedBy=ld.STYLE_BIND;for(var e=0;e<ck.length;e++){var f=ck[e],g=f[0];if(d||this[g]!==c[g])a[g]=Dl(a,g,this[g]||f[1])}if(d||this.fill!==c.fill)a.fillStyle=this.fill;if(d||this.stroke!==c.stroke)a.strokeStyle=
this.stroke;if(d||this.opacity!==c.opacity)a.globalAlpha=this.opacity==null?1:this.opacity;if(d||this.blend!==c.blend)a.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(a.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1))},hasFill:function(){var a=this.fill;return a!=null&&a!=="none"},hasStroke:function(){var a=this.stroke;return a!=null&&a!=="none"&&this.lineWidth>0},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||b!==!0&&
(b===!1?this.hasOwnProperty(c):a[c]==null)||(this[c]=a[c])},set:function(a,b){typeof a==="string"?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;a.extendFrom(this,!0);return a},getGradient:function(a,b,c){a=(b.type==="radial"?eA:dA)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var fp=md.prototype,gp=0;gp<ck.length;gp++){var hp=ck[gp];hp[0]in fp||(fp[hp[0]]=hp[1])}md.getGradient=fp.getGradient;var ip=function(a,b){this.image=
a;this.repeat=b;this.type="pattern"};ip.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var Jh=function(a,b,c){c=c||Zj;if(typeof a==="string")var d=Zq(a,b,c);else X(a)&&(d=a,a=d.id);this.id=a;this.dom=d;if(a=d.style)d.onselectstart=fA,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0;this.ctxBack=this.domBack=null;this.painter=
b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};Jh.prototype={constructor:Jh,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=Zq("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");a!==1&&this.ctxBack.scale(a,
a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",e.height=b+"px");d.width=a*c;d.height=b*c;f&&(f.width=a*c,f.height=b*c,c!==1&&this.ctxBack.scale(c,c))},clear:function(a,b){var c=this.dom,d=this.ctx,e=c.width,f=c.height;b=b||this.clearColor;var g=this.motionBlur&&!a;a=this.lastFrameAlpha;var h=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,e/h,f/h));d.clearRect(0,0,e,f);if(b&&
b!=="transparent"){if(b.colorStops){var k=b.__canvasGradient||md.getGradient(d,b,{x:0,y:0,width:e,height:f});b.__canvasGradient=k}else b.image&&(k=ip.prototype.getCanvasPattern.call(b,d));d.save();d.fillStyle=k||b;d.fillRect(0,0,e,f);d.restore()}g&&(b=this.domBack,d.save(),d.globalAlpha=a,d.drawImage(b,0,0,e,f),d.restore())}};var jp=typeof window!=="undefined"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},sl=new ap(50),hi={},tl=0,yl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ar={measureText:function(a,b){var c=yq();c.font=b||"12px sans-serif";return c.measureText(a)}},iA={left:1,right:1,center:1},jA={top:1,bottom:1,middle:1},kr=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],nr={},hr={},kp=new ea,
dk=function(){};dk.prototype={constructor:dk,drawRectText:function(a,b){var c=this.style;b=c.textRect||b;this.__dirty&&sg(c,!0);var d=c.text;d!=null&&(d+="");if(Hl(d,c)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(kp.copy(b),kp.applyTransform(e),b=kp);c.rich?mr(this,a,d,c,b,9):gr(this,a,d,c,b,9);a.restore()}}};nb.prototype={constructor:nb,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,
progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){a=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",
a)},attrKV:function(a,b){a!=="style"?Rc.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){this.style.set(a,b);this.dirty(!1);return this},useStyle:function(a){this.style=new md(a,this);this.dirty(!1);return this},calculateTextPosition:null};ua(nb,Rc);pa(nb,dk);Va.prototype={constructor:Va,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);if((b=this._image=$q(d,this._image,this,this.onload))&&b&&b.width&&b.height){d=c.x||0;var e=c.y||0,f=c.width,g=
c.height,h=b.width/b.height;f==null&&g!=null?f=g*h:g==null&&f!=null?g=f/h:f==null&&g==null&&(f=b.width,g=b.height);this.setTransform(a);if(c.sWidth&&c.sHeight){h=c.sx||0;var k=c.sy||0;a.drawImage(b,h,k,c.sWidth,c.sHeight,d,e,f,g)}else c.sx&&c.sy?(h=c.sx,k=c.sy,a.drawImage(b,h,k,f-h,g-k,d,e,f,g)):a.drawImage(b,d,e,f,g);c.text!=null&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new ea(a.x||0,a.y||0,a.width||
0,a.height||0));return this._rect}};ua(Va,nb);var lp=new ea(0,0,0,0),mp=new ea(0,0,0,0),np=function(a,b,c){this.type="canvas";var d=!a.nodeName||a.nodeName.toUpperCase()==="CANVAS";this._opts=c=U({},c||{});this.dpr=c.devicePixelRatio||Zj;this._singleCanvas=d;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];e=this._layers={};this._layerConfig=
{};this._needsManuallyCompositing=!1;if(d){d=a.width;var f=a.height;c.width!=null&&(d=c.width);c.height!=null&&(f=c.height);this.dpr=c.devicePixelRatio||1;a.width=d*this.dpr;a.height=f*this.dpr;this._width=d;this._height=f;c=new Jh(a,this,this.dpr);c.__builtin__=!0;c.initContext();e[314159]=c;c.zlevel=314159;b.push(314159);this._domRoot=a}else this._width=this._getSize(0),this._height=this._getSize(1),c=this._width,b=this._height,e=document.createElement("div"),e.style.cssText=["position:relative",
"width:"+c+"px","height:"+b+"px","padding:0;margin:0;border-width:0"].join(";")+";",c=this._domRoot=e,a.appendChild(c);this._hoverlayer=null;this._hoverElements=[]};np.prototype={constructor:np,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),
c=this._zlevelList;this._redrawId=Math.random();this._paintList(b,a,this._redrawId);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh(a===0?this._backgroundColor:null);this.refreshHover();return this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape,z:a.z,z2:a.z2,silent:a.silent});c.__from=a;a.__hoverMir=c;b&&c.setStyle(b);this._hoverElements.push(c);return c}},removeHover:function(a){var b=this._hoverElements,c=ma(b,a.__hoverMir);
c>=0&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;c&&c.clear();if(b){gi(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=
g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1E5)},_paintList:function(a,b,c){if(this._redrawId===c){b=b||!1;this._updateLayerStatus(a);var d=this._doPaintList(a,b);this._needsManuallyCompositing&&this._compositeManually();if(!d){var e=this;jp(function(){e._paintList(a,b,c)})}}},_compositeManually:function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,
b,c);this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},_doPaintList:function(a,b){for(var c=[],d=0;d<this._zlevelList.length;d++){var e=this._layers[this._zlevelList[d]];e.__builtin__&&e!==this._hoverlayer&&(e.__dirty||b)&&c.push(e)}d=!0;for(var f=0;f<c.length;f++){e=c[f];var g=e.ctx,h={};g.save();var k=b?e.__startIndex:e.__drawIndex,l=!b&&e.incremental&&Date.now,m=l&&Date.now(),n=e.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(e.__startIndex===e.__endIndex)e.clear(!1,
n);else if(k===e.__startIndex){var p=a[k];p.incremental&&p.notClear&&!b||e.clear(!1,n)}for(k===-1&&(console.error("For some unknown reason. drawIndex is -1"),k=e.__startIndex);k<e.__endIndex&&!(n=a[k],this._doPaintEl(n,e,b,h),n.__dirty=n.__dirtyText=!1,l&&Date.now()-m>15);k++);e.__drawIndex=k;e.__drawIndex<e.__endIndex&&(d=!1);h.prevElClipPaths&&g.restore();g.restore()}da.wxa&&y(this._layers,function(q){q&&q.ctx&&q.ctx.draw&&q.ctx.draw()});return d},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;
if(b=(b.__dirty||c)&&!a.invisible&&a.style.opacity!==0&&!(f&&!f[0]&&!f[3])){if(b=a.culling)b=this._width,c=this._height,lp.copy(a.getBoundingRect()),a.transform&&lp.applyTransform(a.transform),mp.width=b,mp.height=c,b=!lp.intersect(mp);b=!b}if(b){b=a.__clipPaths;c=d.prevElClipPaths;if(!c||lA(b,c))if(c&&(e.restore(),d.prevElClipPaths=null,d.prevEl=null),b){e.save();for(c=0;c<b.length;c++)f=b[c],f.setTransform(e),e.beginPath(),f.buildPath(e,f.shape),e.clip(),f.restoreTransform(e);d.prevElClipPaths=
b}a.beforeBrush&&a.beforeBrush(e);a.brush(e,d.prevEl||null);d.prevEl=a;a.afterBrush&&a.afterBrush(e)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];c||(c=new Jh("zr_"+a,this,this.dpr),c.zlevel=a,c.__builtin__=!0,this._layerConfig[a]?Y(c,this._layerConfig[a],!0):this._layerConfig[a-.01]&&Y(c,this._layerConfig[a-.01],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext());return c},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,
e=d.length,f=null,g=-1,h=this._domRoot;if(!c[a]&&b&&(b.__builtin__||typeof b.resize==="function"&&typeof b.refresh==="function")){if(e>0&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}d.splice(g+1,0,a);c[a]=b;b.virtual||(f?(a=f.dom,a.nextSibling?h.insertBefore(b.dom,a.nextSibling):h.appendChild(b.dom)):h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom))}},eachLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=c[d];a.call(b,this._layers[e],e)}},
eachBuiltinLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__&&a.call(b,f,e)}},eachOtherLayer:function(a,b){var c=this._zlevelList,d;for(d=0;d<c.length;d++){var e=c[d],f=this._layers[e];f.__builtin__||a.call(b,f,e)}},getLayers:function(){return this._layers},_updateLayerStatus:function(a){function b(k){e&&(e.__endIndex!==k&&(e.__dirty=!0),e.__endIndex=k)}this.eachBuiltinLayer(function(k,l){k.__dirty=k.__used=!1});if(this._singleCanvas)for(var c=
1;c<a.length;c++){var d=a[c];if(d.zlevel!==a[c-1].zlevel||d.incremental){this._needsManuallyCompositing=!0;break}}var e=null,f=0;for(c=0;c<a.length;c++){d=a[c];var g=d.zlevel;if(h!==g){var h=g;f=0}d.incremental?(g=this.getLayer(g+.001,this._needsManuallyCompositing),g.incremental=!0,f=1):g=this.getLayer(g+(f>0?.01:0),this._needsManuallyCompositing);g!==e&&(g.__used=!0,g.__startIndex!==c&&(g.__dirty=!0),g.__startIndex=c,g.__drawIndex=g.incremental?-1:c,b(c),e=g);d.__dirty&&(g.__dirty=!0,g.incremental&&
g.__drawIndex<0&&(g.__drawIndex=c))}b(c);this.eachBuiltinLayer(function(k,l){!k.__used&&k.getElementCount()>0&&(k.__dirty=!0,k.__startIndex=k.__endIndex=k.__drawIndex=0);k.__dirty&&k.__drawIndex<0&&(k.__drawIndex=k.__startIndex)})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?Y(c[a],b,!0):c[a]=b;for(b=0;b<this._zlevelList.length;b++){var d=
this._zlevelList[b];d!==a&&d!==a+.01||Y(this._layers[d],c[a],!0)}}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(ma(c,a),1))},resize:function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts;a!=null&&(d.width=a);b!=null&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!==a||b!==this._height){c.style.width=a+"px";c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&
this._layers[e].resize(a,b);y(this._progressiveLayers,function(f){f.resize(a,b)});this.refresh(!0)}this._width=a;this._height=b}else{if(a==null||b==null)return;this._width=a;this._height=b;this.getLayer(314159).resize(a,b)}return this},clearLayer:function(a){(a=this._layers[a])&&a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){a=a||{};if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;
var b=new Jh("image",this,a.pixelRatio||this.dpr);b.initContext();b.clear(!1,a.backgroundColor||this._backgroundColor);if(a.pixelRatio<=this.dpr){this.refresh();var c=b.dom.width,d=b.dom.height,e=b.ctx;this.eachLayer(function(h){h.__builtin__?e.drawImage(h.dom,0,0,c,d):h.renderToCanvas&&(b.ctx.save(),h.renderToCanvas(b.ctx),b.ctx.restore())})}else{a={};for(var f=this.storage.getDisplayList(!0),g=0;g<f.length;g++)this._doPaintEl(f[g],b,!0,a)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},
_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(b[c]!=null&&b[c]!=="auto")return parseFloat(b[c]);b=this.root;var f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),
f=a.style,g=f.shadowBlur*b,h=f.shadowOffsetX*b,k=f.shadowOffsetY*b,l=f.hasStroke()?f.lineWidth:0;f=Math.max(l/2,-h+g);var m=Math.max(l/2,-k+g);h=e.width+f+Math.max(l/2,h+g);g=e.height+m+Math.max(l/2,k+g);c.width=h*b;c.height=g*b;d.scale(b,b);d.clearRect(0,0,h,g);d.dpr=b;b=a.position;g=a.rotation;k=a.scale;a.position=[f-e.x,m-e.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(d);c=new Va({style:{x:0,y:0,image:c}});b!=null&&(c.position=a.position=b);g!=null&&(c.rotation=a.rotation=g);k!=
null&&(c.scale=a.scale=k);return c}};var ek=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;Ra.call(this)};ek.prototype={constructor:ek,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=ma(this._clips,a);a>=0&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=
a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],k=h.step(a,b);k&&(e.push(k),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(jp(a),
!b._paused&&b._update())}var b=this;this._running=!0;jp(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(a,b){b=b||{};a=new cp(a,b.loop,
b.getter,b.setter);this.addAnimator(a);return a}};pa(ek,Ra);var Ml=da.domSupported,Jl=function(){var a="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),b={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},c=H(a,function(d){var e=d.replace("mouse","pointer");return b.hasOwnProperty(e)?e:d});return{mouse:a,touch:["touchstart","touchend","touchmove"],pointer:c}}(),rr={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},op=qr.prototype;op.stopPropagation=
op.stopImmediatePropagation=op.preventDefault=Pa;var ac={mousedown:function(a){a=pc(this.dom,a);this._mayPointerCapture=[a.zrX,a.zrY];this.trigger("mousedown",a)},mousemove:function(a){a=pc(this.dom,a);var b=this._mayPointerCapture;!b||a.zrX===b[0]&&a.zrY===b[1]||Ll(this,!0);this.trigger("mousemove",a)},mouseup:function(a){a=pc(this.dom,a);Ll(this,!1);this.trigger("mouseup",a)},mouseout:function(a){a=pc(this.dom,a);this._pointerCapturing&&(a.zrEventControl="no_globalout");a.zrIsToLocalDOM=pr(this,
a.toElement||a.relatedTarget);this.trigger("mouseout",a)},touchstart:function(a){(a=pc(this.dom,a))&&(a.zrByTouch=!0);this._lastTouchMoment=new Date;this.handler.processGesture(a,"start");ac.mousemove.call(this,a);ac.mousedown.call(this,a)},touchmove:function(a){(a=pc(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"change");ac.mousemove.call(this,a)},touchend:function(a){(a=pc(this.dom,a))&&(a.zrByTouch=!0);this.handler.processGesture(a,"end");ac.mouseup.call(this,a);+new Date-this._lastTouchMoment<
300&&ac.click.call(this,a)},pointerdown:function(a){ac.mousedown.call(this,a)},pointermove:function(a){Il(a)||ac.mousemove.call(this,a)},pointerup:function(a){ac.mouseup.call(this,a)},pointerout:function(a){Il(a)||ac.mouseout.call(this,a)}};y(["click","mousewheel","dblclick","contextmenu"],function(a){ac[a]=function(b){b=pc(this.dom,b);this.trigger(a,b)}});var Ol={pointermove:function(a){Il(a)||Ol.mousemove.call(this,a)},pointerup:function(a){Ol.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",
a)},mouseup:function(a){var b=this._pointerCapturing;Ll(this,!1);this.trigger("mouseup",a);b&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}},ey=Nl.prototype;ey.dispose=function(){Kl(this._localHandlerScope);Ml&&Kl(this._globalHandlerScope)};ey.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")};pa(Nl,Ra);var gG=!da.canvasSupported,Vf={canvas:np},he={},Ql=function(a,b,c){c=c||{};this.dom=b;this.id=a;var d=this,e=new ep,f=c.renderer;if(gG){if(!Vf.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");
f="vml"}else f&&Vf[f]||(f="canvas");a=new Vf[f](b,e,c,a);this.storage=e;this.painter=a;b=da.node||da.worker?null:new Nl(a.getViewportRoot(),a.root);this.handler=new Uf(e,a,b,a.root);this.animation=new ek({stage:{update:L(this.flush,this)}});this.animation.start();var g=e.delFromStorage,h=e.addToStorage;e.delFromStorage=function(k){g.call(e,k);k&&k.removeSelfFromZr(d)};e.addToStorage=function(k){h.call(e,k);k.addSelfToZr(d)}};Ql.prototype={constructor:Ql,getId:function(){return this.id},add:function(a){this.storage.addRoot(a);
this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b);this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1;this.painter.refresh();this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},
flush:function(){if(this._needsRefresh){var a=!0;this.refreshImmediately()}this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());a&&this.trigger("rendered")},addHover:function(a,b){if(this.painter.addHover)return a=this.painter.addHover(a,b),this.refreshHover(),a},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=
!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,
b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete he[this.id]}};var hG=(Object.freeze||Object)({version:"4.3.2",init:Pl,dispose:function(a){if(a)a.dispose();
else{for(var b in he)he.hasOwnProperty(b)&&he[b].dispose();he={}}return this},getInstance:function(a){return he[a]},registerPainter:function(a,b){Vf[a]=b}}),lf=y,kf=X,pA=F,Rs="fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),
rA=0,uA=0,Wf=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(c,d,e){for(var f={},g=0;g<a.length;g++){var h=a[g][1];d&&ma(d,h)>=0||e&&ma(e,h)<0||(h=c.getShallow(h),h!=null&&(f[a[g][0]]=h))}return f}},iG=Wf([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),jG=Wf([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),pi=Math.pow,pd=Math.sqrt,Jr=pd(3),
qi=1/3,rc=id(),Kb=id(),nf=id(),cb=Math.min,db=Math.max,pp=Math.sin,qp=Math.cos,Me=Math.PI*2,fk=id(),gk=id(),hk=id(),fy=[],gy=[],Ha={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Dc=[],Td=[],Ec=[],Fc=[],hy=Math.min,iy=Math.max,Kh=Math.cos,Lh=Math.sin,ik=Math.sqrt,Xf=Math.abs,rp=typeof Float32Array!=="undefined",qb=function(a){if(this._saveData=!a)this.data=[];this._ctx=null};qb.prototype={constructor:qb,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,
b,c){c=c||0;this._ux=Xf(c/Zj/a)||0;this._uy=Xf(c/Zj/b)||0},getContext:function(){return this._ctx},beginPath:function(a){(this._ctx=a)&&a.beginPath();a&&(this.dpr=a.dpr);this._saveData&&(this._len=0);this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(a,b){this.addData(Ha.M,a,b);this._ctx&&this._ctx.moveTo(a,b);this._x0=a;this._y0=b;this._xi=a;this._yi=b;return this},lineTo:function(a,b){var c=Xf(a-this._xi)>this._ux||Xf(b-this._yi)>this._uy||this._len<5;this.addData(Ha.L,
a,b);this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b));c&&(this._xi=a,this._yi=b);return this},bezierCurveTo:function(a,b,c,d,e,f){this.addData(Ha.C,a,b,c,d,e,f);this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f));this._xi=e;this._yi=f;return this},quadraticCurveTo:function(a,b,c,d){this.addData(Ha.Q,a,b,c,d);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d));this._xi=c;
this._yi=d;return this},arc:function(a,b,c,d,e,f){this.addData(Ha.A,a,b,c,c,d,e-d,0,f?0:1);this._ctx&&this._ctx.arc(a,b,c,d,e,f);this._xi=Kh(e)*c+a;this._yi=Lh(e)*c+b;return this},arcTo:function(a,b,c,d,e){this._ctx&&this._ctx.arcTo(a,b,c,d,e);return this},rect:function(a,b,c,d){this._ctx&&this._ctx.rect(a,b,c,d);this.addData(Ha.R,a,b,c,d);return this},closePath:function(){this.addData(Ha.Z);var a=this._ctx,b=this._x0,c=this._y0;a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath());this._xi=
b;this._yi=c;return this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){this._dashOffset=a;return this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length===b||!rp||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=
a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();rp&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++){c=a[e].data;for(var f=0;f<c.length;f++)this.data[d++]=c[f]}this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof
Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,k=a-g,l=b-h,m=ik(k*k+l*l),n=e.length;k/=m;l/=m;d<0&&(d=c+d);d%=c;c=g-d*k;for(d=h-d*l;k>0&&c<=a||k<0&&c>=a||k===0&&(l>0&&d<=b||l<0&&d>=b);){var p=this._dashIdx;m=e[p];c+=k*m;d+=l*m;this._dashIdx=(p+1)%n;if(!(k>0&&c<g||k<0&&c>g||l>0&&d<h||l<0&&d>h))f[p%2?"moveTo":"lineTo"](k>=
0?hy(c,a):iy(c,a),l>=0?hy(d,b):iy(d,b))}k=c-a;l=d-b;this._dashOffset=-ik(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g=this._dashSum,h=this._dashOffset,k=this._lineDash,l=this._ctx,m=this._xi,n=this._yi,p=0,q=this._dashIdx,t=k.length,r=0;h<0&&(h=g+h);h%=g;for(g=0;g<1;g+=.1){var u=Wa(m,a,c,e,g+.1)-Wa(m,a,c,e,g),v=Wa(n,b,d,f,g+.1)-Wa(n,b,d,f,g);p+=ik(u*u+v*v)}for(;q<t&&!(r+=k[q],r>h);q++);for(g=(r-h)/p;g<=1;){var x=Wa(m,a,c,e,g),w=Wa(n,b,d,f,g);q%2?l.moveTo(x,w):l.lineTo(x,w);g+=k[q]/p;q=(q+
1)%t}q%2!==0&&l.lineTo(e,f);u=e-x;v=f-w;this._dashOffset=-ik(u*u+v*v)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,rp&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Dc[0]=Dc[1]=Ec[0]=Ec[1]=Number.MAX_VALUE;Td[0]=Td[1]=Fc[0]=Fc[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];
f===1&&(b=a[f],c=a[f+1],d=b,e=c);switch(g){case Ha.M:d=a[f++];e=a[f++];b=d;c=e;Ec[0]=d;Ec[1]=e;Fc[0]=d;Fc[1]=e;break;case Ha.L:g=b;var h=a[f];b=a[f+1];var k=Ec,l=Fc;k[0]=cb(g,h);k[1]=cb(c,b);l[0]=db(g,h);l[1]=db(c,b);b=a[f++];c=a[f++];break;case Ha.C:g=b;h=c;var m=a[f++];b=a[f++];var n=a[f++];k=a[f++];l=a[f];var p=a[f+1],q=Ec,t=Fc,r=yr,u=Wa,v=r(g,m,n,l,fy);q[0]=Infinity;q[1]=Infinity;t[0]=-Infinity;t[1]=-Infinity;for(c=0;c<v;c++){var x=u(g,m,n,l,fy[c]);q[0]=cb(x,q[0]);t[0]=db(x,t[0])}v=r(h,b,k,p,
gy);for(c=0;c<v;c++)m=u(h,b,k,p,gy[c]),q[1]=cb(m,q[1]),t[1]=db(m,t[1]);q[0]=cb(g,q[0]);t[0]=db(g,t[0]);q[0]=cb(l,q[0]);t[0]=db(l,t[0]);q[1]=cb(h,q[1]);t[1]=db(h,t[1]);q[1]=cb(p,q[1]);t[1]=db(p,t[1]);b=a[f++];c=a[f++];break;case Ha.Q:g=b;t=a[f++];p=a[f++];h=a[f];b=a[f+1];k=Ec;l=Fc;v=Ar;q=hb;u=db(cb(v(g,t,h),1),0);v=db(cb(v(c,p,b),1),0);t=q(g,t,h,u);p=q(c,p,b,v);k[0]=cb(g,h,t);k[1]=cb(c,b,p);l[0]=db(g,h,t);l[1]=db(c,b,p);b=a[f++];c=a[f++];break;case Ha.A:b=a[f++];g=a[f++];k=a[f++];c=a[f++];u=a[f++];
h=a[f++]+u;f+=1;m=1-a[f++];f===1&&(d=Kh(u)*k+b,e=Lh(u)*c+g);l=b;p=g;q=k;t=c;v=h;var w=m;m=Ec;n=Fc;r=Nc;x=Oc;var z=Math.abs(u-v);if(z%Me<1E-4&&z>1E-4)m[0]=l-q,m[1]=p-t,n[0]=l+q,n[1]=p+t;else for(fk[0]=qp(u)*q+l,fk[1]=pp(u)*t+p,gk[0]=qp(v)*q+l,gk[1]=pp(v)*t+p,r(m,fk,gk),x(n,fk,gk),u%=Me,u<0&&(u+=Me),v%=Me,v<0&&(v+=Me),u>v&&!w?v+=Me:u<v&&w&&(u+=Me),w&&(w=v,v=u,u=w),w=0;w<v;w+=Math.PI/2)w>u&&(hk[0]=qp(w)*q+l,hk[1]=pp(w)*t+p,r(m,hk,m),x(n,hk,n));b=Kh(h)*k+b;c=Lh(h)*c+g;break;case Ha.R:d=b=a[f++];e=c=a[f++];
k=a[f++];l=a[f++];g=d;h=e;k=d+k;l=e+l;p=Ec;q=Fc;p[0]=cb(g,k);p[1]=cb(h,l);q[0]=db(g,k);q[1]=db(h,l);break;case Ha.Z:b=d,c=e}Nc(Dc,Dc,Ec);Oc(Td,Td,Fc)}f===0&&(Dc[0]=Dc[1]=Td[0]=Td[1]=0);return new ea(Dc[0],Dc[1],Td[0]-Dc[0],Td[1]-Dc[1])},rebuildPath:function(a){for(var b=this.data,c,d,e,f,g,h,k=this._ux,l=this._uy,m=this._len,n=0;n<m;)switch(g=b[n++],n===1&&(e=b[n],f=b[n+1],c=e,d=f),g){case Ha.M:c=e=b[n++];d=f=b[n++];a.moveTo(e,f);break;case Ha.L:g=b[n++];h=b[n++];if(Xf(g-e)>k||Xf(h-f)>l||n===m-1)a.lineTo(g,
h),e=g,f=h;break;case Ha.C:a.bezierCurveTo(b[n++],b[n++],b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case Ha.Q:a.quadraticCurveTo(b[n++],b[n++],b[n++],b[n++]);e=b[n-2];f=b[n-1];break;case Ha.A:e=b[n++];f=b[n++];h=b[n++];g=b[n++];var p=b[n++],q=b[n++],t=b[n++],r=b[n++],u=h>g?h:g,v=h>g?1:h/g,x=h>g?g/h:1;q=p+q;Math.abs(h-g)>.001?(a.translate(e,f),a.rotate(t),a.scale(v,x),a.arc(0,0,u,p,q,1-r),a.scale(1/v,1/x),a.rotate(-t),a.translate(-e,-f)):a.arc(e,f,u,p,q,1-r);n===1&&(c=Kh(p)*h+e,d=Lh(p)*g+
f);e=Kh(q)*h+e;f=Lh(q)*g+f;break;case Ha.R:c=e=b[n];d=f=b[n+1];a.rect(b[n++],b[n++],b[n++],b[n++]);break;case Ha.Z:a.closePath(),e=c,f=d}}};qb.CMD=Ha;var Cr=Math.PI*2,Hg=Math.PI*2,td=qb.CMD,Ig=Math.PI*2,jb=[-1,-1,-1],Lb=[-1,-1],jy=ip.prototype.getCanvasPattern,sp=Math.abs,kG=new qb(!0);ha.prototype={constructor:ha,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(a,b){var c=this.style,d=this.path||kG,e=c.hasStroke(),f=c.hasFill(),g=c.fill,
h=c.stroke,k=f&&!!g.colorStops,l=e&&!!h.colorStops,m=f&&!!g.image,n=e&&!!h.image;c.bind(a,this,b);this.setTransform(a);if(this.__dirty){if(k){var p=p||this.getBoundingRect();this._fillGradient=c.getGradient(a,g,p)}l&&(p=p||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,p))}k?a.fillStyle=this._fillGradient:m&&(a.fillStyle=jy.call(g,a));l?a.strokeStyle=this._strokeGradient:n&&(a.strokeStyle=jy.call(h,a));b=c.lineDash;g=c.lineDashOffset;h=!!a.setLineDash;k=this.getGlobalScale();d.setScale(k[0],
k[1],this.segmentIgnoreThreshold);this.__dirtyPath||b&&!h&&e?(d.beginPath(a),b&&!h&&(d.setLineDash(b),d.setLineDashOffset(g)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));f&&(c.fillOpacity!=null?(f=a.globalAlpha,a.globalAlpha=c.fillOpacity*c.opacity,d.fill(a),a.globalAlpha=f):d.fill(a));b&&h&&(a.setLineDash(b),a.lineDashOffset=g);e&&(c.strokeOpacity!=null?(f=a.globalAlpha,a.globalAlpha=c.strokeOpacity*c.opacity,d.stroke(a),a.globalAlpha=
f):d.stroke(a));b&&h&&a.setLineDash([]);c.text!=null&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new qb},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new qb);this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}this._rect=a;if(b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c)d.copy(a),
c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),a>1E-10&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){b=this.transformCoordToLocal(a,b);var c=this.getBoundingRect(),d=this.style;a=b[0];b=b[1];if(c.contain(a,b)){c=this.path.data;if(d.hasStroke()){var e=d.lineWidth,f=d.strokeNoScale?this.getLineScale():1;if(f>1E-10&&(d.hasFill()||(e=Math.max(e,this.strokeContainThreshold)),Dr(c,e/f,!0,a,
b)))return!0}if(d.hasFill())return Dr(c,0,!1,a,b)}return!1},dirty:function(a){a==null&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=this.__dirtyText=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){a==="shape"?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):nb.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(X(a))for(var d in a)a.hasOwnProperty(d)&&
(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&sp(a[0]-1)>1E-10&&sp(a[3]-1)>1E-10?Math.sqrt(sp(a[0]*a[3]-a[2]*a[1])):1}};ha.extend=function(a){var b=function(d){ha.call(this,d);a.style&&this.style.extendFrom(a.style,!1);var e=a.shape;if(e){var f=this.shape=this.shape||{},g;for(g in e)!f.hasOwnProperty(g)&&e.hasOwnProperty(g)&&(f[g]=e[g])}a.init&&a.init.call(this,d)};ua(b,ha);for(var c in a)c!=="style"&&c!=="shape"&&(b.prototype[c]=a[c]);
return b};ua(ha,nb);var wf=qb.CMD,QA=[[],[],[]],es=Math.sqrt,PA=Math.atan2,mm=Math.sqrt,Fi=Math.sin,Ei=Math.cos,Di=Math.PI,nm=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},ds=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(nm(a,b))},NA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,OA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,fa=function(a){nb.call(this,a)};fa.prototype={constructor:fa,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&
sg(c,!0);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;d!=null&&(d+="");Hl(d,c)?(this.setTransform(a),c.rich?mr(this,a,d,c,null,b):gr(this,a,d,c,null,b),this.restoreTransform(a)):a.__attrCachedBy=ld.NONE},getBoundingRect:function(){var a=this.style;this.__dirty&&sg(a,!0);if(!this._rect){var b=qc(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich);b.x+=a.x||0;b.y+=a.y||0;El(a.textStroke,a.textStrokeWidth)&&(a=a.textStrokeWidth,
b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a);this._rect=b}return this._rect}};ua(fa,nb);var Gc=ha.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,Math.PI*2,!0)}}),Ud=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],tp=function(a){return da.browser.ie&&da.browser.version>=11?function(){var b=this.__clipPaths,c=this.style;if(b)for(var d=0;d<b.length;d++){var e=b[d],f=e&&e.shape;e=e&&e.type;if(f&&(e===
"sector"&&f.startAngle===f.endAngle||!(e!=="rect"||f.width&&f.height))){for(b=0;b<Ud.length;b++)Ud[b][2]=c[Ud[b][0]],c[Ud[b][0]]=Ud[b][1];var g=!0;break}}a.apply(this,arguments);if(g)for(b=0;b<Ud.length;b++)c[Ud[b][0]]=Ud[b][2]}:a},fc=ha.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:tp(ha.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle;b=b.clockwise;var k=Math.cos(g),
l=Math.sin(g);a.moveTo(k*e+c,l*e+d);a.lineTo(k*f+c,l*f+d);a.arc(c,d,f,g,h,!b);a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d);e!==0&&a.arc(c,d,e,h,g,b);a.closePath()}}),jk=ha.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.PI*2;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,e,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,e,!0)}}),sb=ha.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){gs(a,b,!0)}}),Tb=ha.extend({type:"polyline",
shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){gs(a,b,!1)}}),xf=Math.round,Ne={},oa=ha.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){if(this.subPixelOptimize){is(Ne,b,this.style);var c=Ne.x,d=Ne.y,e=Ne.width,f=Ne.height;Ne.r=b.r;b=Ne}else c=b.x,d=b.y,e=b.width,f=b.height;b.r?er(a,b):a.rect(c,d,e,f);a.closePath()}}),Mh={},bb=ha.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",
fill:null},buildPath:function(a,b){if(this.subPixelOptimize){hs(Mh,b,this.style);var c=Mh.x1,d=Mh.y1,e=Mh.x2,f=Mh.y2}else c=b.x1,d=b.y1,e=b.x2,f=b.y2;b=b.percent;b!==0&&(a.moveTo(c,d),b<1&&(e=c*(1-b)+e*b,f=d*(1-b)+f*b),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),ub=[],rj=ha.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=
b.cpx1,h=b.cpy1,k=b.cpx2,l=b.cpy2;b=b.percent;b!==0&&(a.moveTo(c,d),k==null||l==null?(b<1&&(mf(c,g,e,b,ub),g=ub[1],e=ub[2],mf(d,h,f,b,ub),h=ub[1],f=ub[2]),a.quadraticCurveTo(g,h,e,f)):(b<1&&(zr(c,g,k,e,b,ub),g=ub[1],k=ub[2],e=ub[3],zr(d,h,l,f,b,ub),h=ub[1],l=ub[2],f=ub[3]),a.bezierCurveTo(g,h,k,l,e,f)))},pointAt:function(a){return js(this.shape,a,!1)},tangentAt:function(a){a=js(this.shape,a,!0);return cf(a,a)}}),up=ha.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},
style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle;b=b.clockwise;a.moveTo(Math.cos(f)*e+c,Math.sin(f)*e+d);a.arc(c,d,e,f,g,!b)}}),ky=ha.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),
c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1],a[c].segmentIgnoreThreshold)},buildPath:function(a,b){b=b.paths||[];for(var c=0;c<b.length;c++)b[c].buildPath(a,b[c].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return ha.prototype.getBoundingRect.call(this)}}),Vd=function(a){this.colorStops=a||[]};Vd.prototype={constructor:Vd,addColorStop:function(a,b){this.colorStops.push({offset:a,
color:b})}};var ye=function(a,b,c,d,e,f){this.x=a==null?0:a;this.y=b==null?0:b;this.x2=c==null?1:c;this.y2=d==null?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};ye.prototype={constructor:ye};ua(ye,Vd);var kk=function(a,b,c,d,e){this.x=a==null?.5:a;this.y=b==null?.5:b;this.r=c==null?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};kk.prototype={constructor:kk};ua(kk,Vd);xb.prototype.incremental=!0;xb.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=
[];this._cursor=0;this.dirty();this.notClear=!1};xb.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a);this.dirty()};xb.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)};xb.prototype.eachPendingDisplayable=function(a){for(var b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])};xb.prototype.update=
function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var b=this._displayables[a];b.parent=this;b.update();b.parent=null}for(a=0;a<this._temporaryDisplayables.length;a++)b=this._temporaryDisplayables[a],b.parent=this,b.update(),b.parent=null};xb.prototype.brush=function(a,b){for(b=this._cursor;b<this._displayables.length;b++){var c=this._displayables[b];c.beforeBrush&&c.beforeBrush(a);c.brush(a,b===this._cursor?null:this._displayables[b-1]);c.afterBrush&&c.afterBrush(a)}this._cursor=
b;for(b=0;b<this._temporaryDisplayables.length;b++)c=this._temporaryDisplayables[b],c.beforeBrush&&c.beforeBrush(a),c.brush(a,b===0?null:this._temporaryDisplayables[b-1]),c.afterBrush&&c.afterBrush(a);this._temporaryDisplayables=[];this.notClear=!0};var lG=[];xb.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new ea(Infinity,Infinity,-Infinity,-Infinity),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(lG));
a.union(d)}this._rect=a}return this._rect};xb.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1]))for(c=0;c<this._displayables.length;c++)if(this._displayables[c].contain(a,b))return!0;return!1};ua(xb,nb);var Ni=Math.max,Oi=Math.min,Ki={},ly={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},ss=1,rs={},Nb={},Ub=function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy();f.__dirtyPath&&
f.buildPath(f.path,f.shape,!0);c.push(f.path)}a=new ha(b);a.createPathProxy();a.buildPath=function(g){g.appendPath(c);var h=g.getContext();h&&g.rebuildPath(h)};return a},lk=pe,os=aa(),ps=0;Nb.circle=Gc;Nb.sector=fc;Nb.ring=jk;Nb.polygon=sb;Nb.polyline=Tb;Nb.rect=oa;Nb.line=bb;Nb.bezierCurve=rj;Nb.arc=up;var fd=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:1,CACHED_LABEL_STYLE_PROPERTIES:ly,extendShape:Mb,extendPath:function(a,b){return ha.extend(om(a,b))},registerShape:function(a,b){Nb[a]=b},getShapeClass:pm,
makePath:Gi,makeImage:ms,mergePath:Ub,resizePath:ls,subPixelOptimizeLine:function(a){hs(a.shape,a.shape,a.style);return a},subPixelOptimizeRect:function(a){is(a.shape,a.shape,a.style);return a},subPixelOptimize:lk,setElementHoverStyle:Lg,setHoverStyle:Aa,setAsHighDownDispatcher:qe,isHighDownDispatcher:Ji,getHighlightDigit:qs,setLabelStyle:yb,modifyLabelStyle:sm,setTextStyle:Ca,setText:function(a,b,c){var d={isRectText:!0},e;c===!1?e=!0:d.autoColor=c;ts(a,b,d,e)},getFont:tm,updateProps:ba,initProps:eb,
getTransform:re,applyTransform:vc,transformDirection:um,groupTransition:Mi,clipPointsByRect:ws,clipRectByRect:function(a,b){var c=Ni(a.x,b.x),d=Oi(a.x+a.width,b.x+b.width),e=Ni(a.y,b.y);a=Oi(a.y+a.height,b.y+b.height);if(d>=c&&a>=e)return{x:c,y:e,width:d-c,height:a-e}},createIcon:yf,linePolygonIntersect:Mg,lineLineIntersect:xs,Group:O,Image:Va,Text:fa,Circle:Gc,Sector:fc,Ring:jk,Polygon:sb,Polyline:Tb,Rect:oa,Line:bb,BezierCurve:rj,Arc:up,IncrementalDisplayable:xb,CompoundPath:ky,LinearGradient:ye,
RadialGradient:kk,BoundingRect:ea}),mG=["textStyle","color"],nG=Wf([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),zs=ob();ka.prototype={constructor:ka,init:null,mergeOption:function(a){Y(this.option,a,!0)},get:function(a,b){return a==null?this.option:ys(this.option,this.parsePath(a),!b&&vm(this,a))},getShallow:function(a,b){var c=this.option;c=c==null?c:c[a];b=!b&&
vm(this,a);c==null&&b&&(c=b.getShallow(a));return c},getModel:function(a,b){var c=a==null?this.option:ys(this.option,a=this.parsePath(a)),d;b=b||(d=vm(this,a))&&d.getModel(a);return new ka(c,b,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){return new this.constructor(T(this.option))},setReadOnly:function(a){},parsePath:function(a){typeof a==="string"&&(a=a.split("."));return a},customizeGetParent:function(a){zs(this).getParent=a},isAnimationEnabled:function(){if(!da.node){if(this.option.animation!=
null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};vg(ka);li(ka);pa(ka,{getLineStyle:function(a){a=iG(this,a);a.lineDash=this.getLineDash(a.lineWidth);return a},getLineDash:function(a){a==null&&(a=1);var b=this.get("type"),c=Math.max(a,2);a*=4;return b==="solid"||b==null?!1:b==="dashed"?[a,a]:[c,c]}});pa(ka,{getAreaStyle:function(a,b){return jG(this,a,b)}});pa(ka,{getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&
b?b.get(mG):null)},getFont:function(){return tm({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return qc(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}});pa(ka,{getItemStyle:function(a,
b){a=nG(this,a,b);(b=this.getBorderLineDash())&&(a.lineDash=b);return a},getBorderLineDash:function(){var a=this.get("borderType");return a==="solid"||a==null?null:a==="dashed"?[5,5]:[1,1]}});var VA=0,WA=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,oG=(Object.freeze||Object)({linearMap:ia,parsePercent:G,round:wa,asc:wc,getPrecision:As,getPrecisionSafe:Dd,getPixelPrecision:wm,getPercentWithPrecision:Bs,MAX_SAFE_INTEGER:9007199254740991,
remRadian:xm,isRadianAroundZero:Og,parseDate:Pg,quantity:Cs,quantityExponent:ym,nice:zm,quantile:function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=+a[b-1];return(c-=b)?d+c*(a[b]-d):d},reformIntervals:Am,isNumeric:Ds}),se=Yk,XA=/([&<>"'])/g,YA={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},Fs="abcdefg".split(""),my=xl,pG=(Object.freeze||Object)({addCommas:Yc,toCamelCase:Es,normalizeCssArray:se,encodeHTML:ya,formatTpl:Bm,formatTplSimple:Gs,getTooltipMarker:Pi,
formatTime:Cm,capitalFirst:Qi,truncateText:my,getTextBoundingRect:function(a){return qc(a.text,a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.textLineHeight,a.rich,a.truncate)},getTextRect:function(a,b,c,d,e,f,g,h){return qc(a,b,c,d,e,h,f,g)},windowOpen:Qg}),Si=y,Hs="left right top bottom width height".split(" "),te=[["width","left","right"],["height","top","bottom"]],Ge=Dm;R(Dm,"vertical");R(Dm,"horizontal");var qG=ob(),na=ka.extend({type:"component",id:"",name:"",mainType:"",subType:"",
componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){ka.call(this,a,b,c,d);this.uid=Ng("ec_cpt_model")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?ue({},a):{};b=b.getTheme();Y(a,b.get(this.mainType));Y(a,this.getDefaultOption());c&&Ed(a,d,c)},mergeOption:function(a,b){Y(this.option,a,!0);(b=this.layoutMode)&&Ed(this.option,a,b)},optionUpdated:function(a,b){},
getDefaultOption:function(){var a=qG(this);if(!a.defaultOption){for(var b=[],c=this.constructor;c;){var d=c.prototype.defaultOption;d&&b.push(d);c=c.superClass}c={};for(d=b.length-1;d>=0;d--)c=Y(c,b[d],!0);a.defaultOption=c}return a.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});mi(na,{registerWhenExtend:!0});(function(a){var b={};a.registerSubTypeDefaulter=function(c,d){c=nd(c);b[c.main]=d};
a.determineSubType=function(c,d){var e=d.type;if(!e){var f=nd(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e};return a})(na);(function(a,b){function c(f){var g={},h=[];y(f,function(k){var l=d(g,k),m=l.originalDeps=b(k);m=e(m,f);l.entryCount=m.length;l.entryCount===0&&h.push(k);y(m,function(n){ma(l.predecessor,n)<0&&l.predecessor.push(n);var p=d(g,n);ma(p.successor,n)<0&&p.successor.push(k)})});return{graph:g,noEntryList:h}}function d(f,g){f[g]||(f[g]={predecessor:[],successor:[]});return f[g]}
function e(f,g){var h=[];y(f,function(k){ma(g,k)>=0&&h.push(k)});return h}a.topologicalTravel=function(f,g,h,k){function l(r){n[r].entryCount--;n[r].entryCount===0&&p.push(r)}function m(r){q[r]=!0;l(r)}if(f.length){g=c(g);var n=g.graph,p=g.noEntryList,q={};for(y(f,function(r){q[r]=!0});p.length;){f=p.pop();g=n[f];var t=!!q[f];t&&(h.call(k,f,g.originalDeps.slice()),delete q[f]);y(g.successor,t?m:l)}y(q,function(){throw Error("Circle dependency may exists");})}}})(na,function(a){var b=[];y(na.getClassesByMainType(a),
function(c){b=b.concat(c.prototype.dependencies||[])});b=H(b,function(c){return nd(c).main});a!=="dataset"&&ma(b,"dataset")<=0&&b.unshift("dataset");return b});pa(na,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});var ny="";typeof navigator!=="undefined"&&(ny=navigator.platform||"");var cB={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),
gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:ny.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1},vp=ob(),wp={clearColorPalette:function(){vp(this).colorIdx=0;vp(this).colorNameMap={}},
getColorFromPalette:function(a,b,c){b=vp(b||this);var d=b.colorIdx||0,e=b.colorNameMap=b.colorNameMap||{};if(e.hasOwnProperty(a))return e[a];var f=Za(this.get("color",!0)),g=this.get("colorLayer",!0);if(c!=null&&g)a:{for(var h=g.length,k=0;k<h;k++)if(g[k].length>c){c=g[k];break a}c=g[h-1]}else c=f;if((c=c||f)&&c.length)return f=c[d],a&&(e[a]=f),b.colorIdx=(d+1)%c.length,f}};ec.seriesDataToSource=function(a){return new ec({data:a,sourceFormat:Wb(a)?"typedArray":"original",fromDataset:!1})};li(ec);
var lb={Must:1,Might:2,Not:3},Af=ob(),xp=ka.extend({init:function(a,b,c,d){c=c||{};this.option=null;this._theme=new ka(c);this._optionManager=d},setOption:function(a,b){ja(!("\x00_ec_inner"in a),"please use chart.getOption()");this._optionManager.setOption(a,b);this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||a==="recreate"){var d=c.mountOption(a==="recreate");this.option&&a!=="recreate"?(this.restoreData(),this.mergeOption(d)):bB.call(this,d);b=!0}a!=="timeline"&&
a!=="media"||this.restoreData();a&&a!=="recreate"&&a!=="timeline"||(d=c.getTimelineOption(this))&&(this.mergeOption(d),b=!0);a&&a!=="recreate"&&a!=="media"||(a=c.getMediaOption(this,this._api),a.length&&y(a,function(e){this.mergeOption(e,b=!0)},this));return b},mergeOption:function(a){var b=this.option,c=this._componentsMap,d=[];Af(this).datasetMap=aa();y(a,function(e,f){e!=null&&(na.hasClass(f)?f&&d.push(f):b[f]=b[f]==null?T(e):Y(b[f],e,!0))});na.topologicalTravel(d,na.getAllClassMainTypes(),function(e,
f){var g=Za(a[e]);g=Rl(c.get(e),g);ur(g);y(g,function(k,l){var m=k.option;X(m)&&(k.keyInfo.mainType=e,l=k.keyInfo,k=k.exist,k=m.type?m.type:k?k.subType:na.determineSubType(e,m),l.subType=k)});var h=dB(c,f);b[e]=[];c.set(e,[]);y(g,function(k,l){var m=k.exist,n=k.option;ja(X(n)||m,"Empty component definition");if(n){var p=na.getClass(e,k.keyInfo.subType,!0);m&&m.constructor===p?(m.name=k.keyInfo.name,m.mergeOption(n,this),m.optionUpdated(n,!1)):(k=U({dependentModels:h,componentIndex:l},k.keyInfo),m=
new p(n,this,this,k),U(m,k),m.init(n,this,this,k),m.optionUpdated(null,!0))}else m.mergeOption({},this),m.optionUpdated({},!1);c.get(e)[l]=m;b[e][l]=m.option},this);e==="series"&&Gm(this,c.get("series"))},this);this._seriesIndicesMap=aa(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var a=T(this.option);y(a,function(b,c){if(na.hasClass(c)){b=Za(b);for(var d=b.length-1;d>=0;d--)ji(b[d])&&b.splice(d,1);a[c]=b}});delete a["\x00_ec_inner"];return a},getTheme:function(){return this._theme},
getComponent:function(a,b){if(a=this._componentsMap.get(a))return a[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];if(c!=null)F(c)||(c=[c]),b=Na(H(c,function(k){return f[k]}),function(k){return!!k});else if(d!=null){var g=F(d);b=Na(f,function(k){return g&&ma(d,k.id)>=0||!g&&k.id===d})}else if(e!=null){var h=F(e);b=Na(f,function(k){return h&&ma(e,k.name)>=0||!h&&k.name===e})}else b=f.slice();return Ns(b,
a)},findComponents:function(a){var b=a.mainType,c=function(d){var e=b+"Index",f=b+"Id",g=b+"Name";return!d||d[e]==null&&d[f]==null&&d[g]==null?null:{mainType:b,index:d[e],id:d[f],name:d[g]}}(a.query);c=c?this.queryComponents(c):this._componentsMap.get(b);return function(d){return a.filter?Na(d,a.filter):d}(Ns(c,a))},eachComponent:function(a,b,c){var d=this._componentsMap;typeof a==="function"?(c=b,b=a,d.each(function(e,f){y(e,function(g,h){b.call(c,f,g,h)})})):va(a)?y(d.get(a),b,c):X(a)&&(a=this.findComponents(a),
y(a,b,c))},getSeriesByName:function(a){var b=this._componentsMap.get("series");return Na(b,function(c){return c.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return Na(b,function(c){return c.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(a,b){Ti(this);y(this._seriesIndices,
function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){y(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){Ti(this);y(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return y(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){Ti(this);return this._seriesIndicesMap.get(a.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||
[]).slice()},filterSeries:function(a,b){Ti(this);a=Na(this._componentsMap.get("series"),a,b);Gm(this,a)},restoreData:function(a){var b=this._componentsMap;Gm(this,b.get("series"));var c=[];b.each(function(d,e){c.push(e)});na.topologicalTravel(c,na.getAllClassMainTypes(),function(d,e){y(b.get(d),function(f){var g;if(!(g=d!=="series")){if(a){g=a.seiresIndex;var h=a.seriesId,k=a.seriesName;g=g!=null&&f.componentIndex!==g||h!=null&&f.id!==h||k!=null&&f.name!==k}else g=void 0;g=!g}g&&f.restoreData()})})}});
pa(xp,wp);var eB="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" "),yp={};$a.prototype={constructor:$a,create:function(a,b){var c=[];y(yp,function(d,e){d=d.create(a,b);c=c.concat(d||[])});this._coordinateSystems=c},update:function(a,b){y(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};
$a.register=function(a,b){yp[a]=b};$a.get=function(a){return yp[a]};var Ui=y,Vi=H,Ps=Y,hB=/^(min|max)?(.+)$/;Hm.prototype={constructor:Hm,setOption:function(a,b){a&&y(Za(a.series),function(d){d&&d.data&&Wb(d.data)&&Zk(d.data)});a=T(a);var c=this._optionBackup;a=fB.call(this,a,b,!c);this._newBaseOption=a.baseOption;c?(jB(c.baseOption,a.baseOption),a.timelineOptions.length&&(c.timelineOptions=a.timelineOptions),a.mediaList.length&&(c.mediaList=a.mediaList),a.mediaDefault&&(c.mediaDefault=a.mediaDefault)):
this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;this._timelineOptions=Vi(b.timelineOptions,T);this._mediaList=Vi(b.mediaList,T);this._mediaDefault=T(b.mediaDefault);this._currentMediaIndices=[];return T(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;c.length&&(a=a.getComponent("timeline"))&&(b=T(c[a.getCurrentIndex()],!0));return b},getMediaOption:function(a){a=this._api.getWidth();var b=this._api.getHeight(),c=this._mediaList,
d=this._mediaDefault,e=[],f=[];if(!c.length&&!d)return f;for(var g=0,h=c.length;g<h;g++)gB(c[g].query,a,b)&&e.push(g);!e.length&&d&&(e=[-1]);e.length&&!iB(e,this._currentMediaIndices)&&(f=Vi(e,function(k){return T(k===-1?d.option:c[k].option)}));this._currentMediaIndices=e;return f}};var Sg=X,Qs="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" "),rG=function(a,b){y(Zc(a.series),function(d){Sg(d)&&kB(d)});var c="xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" ");
b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis");y(c,function(d){y(Zc(a[d]),function(e){e&&(Ka(e,"axisLabel"),Ka(e.axisPointer,"label"))})});y(Zc(a.parallel),function(d){d=d&&d.parallelAxisDefault;Ka(d,"axisLabel");Ka(d&&d.axisPointer,"label")});y(Zc(a.calendar),function(d){fb(d,"itemStyle");Ka(d,"dayLabel");Ka(d,"monthLabel");Ka(d,"yearLabel")});y(Zc(a.radar),function(d){Ka(d,"name")});y(Zc(a.geo),function(d){Sg(d)&&(Ob(d),y(Zc(d.regions),function(e){Ob(e)}))});y(Zc(a.timeline),function(d){Ob(d);
fb(d,"label");fb(d,"itemStyle");fb(d,"controlStyle",!0);d=d.data;F(d)&&y(d,function(e){X(e)&&(fb(e,"label"),fb(e,"itemStyle"))})});y(Zc(a.toolbox),function(d){fb(d,"iconStyle");y(d.feature,function(e){fb(e,"iconStyle")})});Ka(Ss(a.axisPointer),"label");Ka(Ss(a.tooltip).axisPointer,"label")},lB=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],sG="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),ot=function(a,b){rG(a,b);a.series=Za(a.series);y(a.series,function(c){if(X(c)){var d=
c.type;if(d==="line")c.clipOverflow!=null&&(c.clip=c.clipOverflow);else if(d==="pie"||d==="gauge")c.clockWise!=null&&(c.clockwise=c.clockWise);else if(d==="gauge"){d=["pointer.color"];for(var e=c,f=0;f<d.length&&(e=e&&e[d[f]],e!=null);f++);d=e;if(d!=null){e=["itemStyle.color"];f=c;for(var g,h=0;h<e.length-1;h++)g=e[h],f[g]==null&&(f[g]={}),f=f[g];f[e[h]]==null&&(f[e[h]]=d)}}Ts(c)}});a.dataRange&&(a.visualMap=a.dataRange);y(sG,function(c){if(c=a[c])F(c)||(c=[c]),y(c,function(d){Ts(d)})})},zp=Us.prototype;
zp.pure=!1;zp.persistent=!0;zp.getSource=function(){return this._source};var nB={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:Jm},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(a){a+=this._source.startIndex;for(var b=[],c=this._data,d=0;d<c.length;d++){var e=c[d];b.push(e?e[a]:
null)}return b},appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".');}},objectRows:{pure:!0,count:Vs,getItem:Ws,appendData:Jm},keyedColumns:{pure:!0,count:function(){var a=this._data[this._source.dimensionsDefine[0].name];return a?a.length:0},getItem:function(a){for(var b=[],c=this._source.dimensionsDefine,d=0;d<c.length;d++){var e=this._data[c[d].name];b.push(e?e[a]:null)}return b},appendData:function(a){var b=this._data;y(a,function(c,d){d=b[d]||(b[d]=[]);
for(var e=0;e<(c||[]).length;e++)d.push(c[e])})}},original:{count:Vs,getItem:Ws,appendData:Jm},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(a,b){a-=this._offset;b=b||[];a*=this._dimSize;for(var c=0;c<this._dimSize;c++)b[c]=this._data[a+c];return b},appendData:function(a){I&&ja(Wb(a),"Added data must be TypedArray if data in initialization is TypedArray");this._data=a},clean:function(){this._offset+=this.count();this._data=
null}}},oB={arrayRows:Km,objectRows:function(a,b,c,d){return c!=null?a[d]:a},keyedColumns:Km,original:function(a,b,c,d){a=tg(a);return c!=null&&a instanceof Array?a[c]:a},typedArray:Km},oy={arrayRows:Xs,objectRows:function(a,b,c,d){return Lm(a[b],this._dimensionInfos[b])},keyedColumns:Xs,original:function(a,b,c,d){c=a&&(a.value==null?a:a.value);var e;if(e=!this._rawData.pure)e=kf(a)&&!(a instanceof Array);e&&(this.hasItemOption=!0);return Lm(c instanceof Array?c[d]:c,this._dimensionInfos[b])},typedArray:function(a,
b,c,d){return a[d]}},tG=/\{@(.+?)\}/g,Ap={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a),g=c.getRawDataItem(a),h=c.getItemVisual(a,"color");a=c.getItemVisual(a,"borderColor");var k=this.ecModel.getComponent("tooltip");k=k&&k.get("renderMode");k=wr(k);var l=this.mainType,m=l==="series";c=c.userOutput;return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,
seriesId:m?this.id:null,seriesName:m?this.name:null,name:f,dataIndex:e,data:g,dataType:b,value:d,color:h,borderColor:a,dimensionNames:c?c.dimensionNames:null,encode:c?c.encode:null,marker:Pi({color:h,renderMode:k}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var f=this.getData(c),g=f.getItemModel(a);c=this.getDataParams(a,c);d!=null&&c.value instanceof Array&&(c.value=c.value[d]);e=g.get(b==="normal"?[e||"label","formatter"]:[b,e||"label","formatter"]);
if(typeof e==="function")return c.status=b,c.dimensionIndex=d,e(c);if(typeof e==="string")return Bm(e,c).replace(tG,function(h,k){h=k.length;k.charAt(0)==="["&&k.charAt(h-1)==="]"&&(k=+k.slice(1,h-1));return ve(f,a,k)})},getRawValue:function(a,b){return ve(this.getData(b),a)},formatTooltip:function(){}},Wd=Bf.prototype;Wd.perform=function(a){function b(m){m>=1||(m=1);return m}var c=this._upstream,d=a&&a.skip;if(this._dirty&&c){var e=this.context;e.data=e.outputData=c.context.outputData}this.__pipeline&&
(this.__pipeline.currentTask=this);var f;this._plan&&!d&&(f=this._plan(this.context));var g=b(this._modBy),h=this._modDataCount||0;e=b(a&&a.modBy);var k=a&&a.modDataCount||0;if(g!==e||h!==k)f="reset";if(this._dirty||f==="reset"){this._dirty=!1;var l=pB(this,d)}this._modBy=e;this._modDataCount=k;a=a&&a.step;c?(I&&ja(c._outputDueEnd!=null),this._dueEnd=c._outputDueEnd):(I&&ja(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):Infinity);if(this._progress){c=this._dueIndex;
a=Math.min(a!=null?this._dueIndex+a:Infinity,this._dueEnd);if(!d&&(l||c<a))if(d=this._progress,F(d))for(l=0;l<d.length;l++)Zs(this,d[l],c,a,e,k);else Zs(this,d,c,a,e,k);this._dueIndex=a;e=this._settedOutputEnd!=null?this._settedOutputEnd:a;I&&ja(e>=this._outputDueEnd);this._outputDueEnd=e}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var $s=function(){function a(){return d<c?d++:null}function b(){var k=d%g*e+Math.ceil(d/
g);k=d>=c?null:k<f?k:d;d++;return k}var c,d,e,f,g,h={reset:function(k,l,m,n){d=k;c=l;e=m;f=n;g=Math.ceil(f/e);h.next=e>1&&f>0?b:a}};return h}();Wd.dirty=function(){this._dirty=!0;this._onDirty&&this._onDirty(this.context)};Wd.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};Wd.pipe=function(a){I&&ja(a&&!a._disposed&&a!==this);if(this._downstream!==a||this._dirty)this._downstream=a,a._upstream=this,a.dirty()};Wd.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=
null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};Wd.getUpstream=function(){return this._upstream};Wd.getDownstream=function(){return this._downstream};Wd.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var Nh=ob(),Ea=na.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,
init:function(a,b,c,d){this.seriesIndex=this.componentIndex;this.dataTask=new Bf({count:rB,reset:sB});this.dataTask.context={model:this};this.mergeDefaultAndTheme(a,c);Is(this);a=this.getInitialData(a,c);bt(a,this);this.dataTask.context.data=a;I&&ja(a,"getInitialData returned invalid data.");Nh(this).dataBeforeProcessed=a;at(this)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?ue({},a):{};na.hasClass(this.subType);Y(a,b.getTheme().get(this.subType));Y(a,this.getDefaultOption());ie(a,
"label",["show"]);this.fillDataTextStyle(a.data);c&&Ed(a,d,c)},mergeOption:function(a,b){a=Y(this.option,a,!0);this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&Ed(this.option,a,c);Is(this);a=this.getInitialData(a,b);bt(a,this);this.dataTask.dirty();this.dataTask.context.data=a;Nh(this).dataBeforeProcessed=a;at(this)},fillDataTextStyle:function(a){if(a&&!Wb(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&ie(a[c],"label",b)},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},
getData:function(a){var b=Mm(this);return b?(b=b.context.data,a==null?b:b.getLinkedData(a)):Nh(this).data},setData:function(a){var b=Mm(this);if(b){var c=b.context;c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count());c.outputData=a;b!==this.dataTask&&(c.data=a)}Nh(this).data=a},getSource:function(){return Af(this).source},getRawData:function(){return Nh(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,
b,c,d){function e(v){function x(A,B){var C=m.getDimensionInfo(B);if(C&&C.otherDims.tooltip!==!1){var D=C.type;B="sub"+g.seriesIndex+"at"+l;var E=Pi({color:r,type:"subItem",renderMode:d,markerId:B});E=typeof E==="string"?E:E.content;(A=(w?E+ya(C.displayName||"-")+": ":"")+ya(D==="ordinal"?A+"":D==="time"?b?"":Cm("yyyy/MM/dd hh:mm:ss",A):Yc(A)))&&z.push(A);h&&(k[B]=r,++l)}}var w=af(v,function(A,B,C){B=m.getDimensionInfo(C);return A|(B&&B.tooltip!==!1&&B.displayName!=null)},0),z=[];n.length?y(n,function(A){x(ve(m,
a,A),A)}):y(v,x);v=w?h?"\n":"\x3cbr/\x3e":"";v+=z.join(v||", ");return{renderMode:d,content:v,style:k}}function f(v){return{renderMode:d,content:ya(Yc(v)),style:k}}var g=this;d=d||"html";c=d==="html"?"\x3cbr/\x3e":"\n";var h=d==="richText",k={},l=0,m=this.getData(),n=m.mapDimension("defaultedTooltip",!0),p=n.length,q=this.getRawValue(a),t=F(q),r=m.getItemVisual(a,"color");X(r)&&r.colorStops&&(r=(r.colorStops[0]||{}).color);r=r||"transparent";p=(p>1||t&&!p?e(q):p?f(ve(m,a,n[0])):f(t?q[0]:q)).content;
t=g.seriesIndex+"at"+l;q=Pi({color:r,type:"item",renderMode:d,markerId:t});k[t]=r;++l;t=m.getName(a);var u=this.name;Sl(this)||(u="");u=u?ya(u)+(b?": ":c):"";c=typeof q==="string"?q:q.content;return{html:b?c+u+p:u+c+(t?ya(t)+": "+p:p),markers:k}},isAnimationEnabled:function(){if(da.node)return!1;var a=this.getShallow("animation");a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1);return a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(a,b,c){var d=
this.ecModel,e=wp.getColorFromPalette.call(this,a,b,c);e||(e=d.getColorFromPalette(a,b,c));return e},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});pa(Ea,Ap);pa(Ea,wp);var xc=function(){this.group=new O;this.uid=Ng("viewComponent")};
xc.prototype={constructor:xc,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){},filterForExposedEvent:null};var Bp=xc.prototype;Bp.updateView=Bp.updateLayout=Bp.updateVisual=function(a,b,c,d){};vg(xc);mi(xc,{registerWhenExtend:!0});var Yf=function(){var a=ob();return function(b){var c=a(b),d=b.pipelineContext;b=c.large;var e=c.progressiveRender,f=c.large=d&&d.large;c=c.progressiveRender=d&&d.progressiveRender;return!!(b^f||e^c)&&"reset"}},dt=ob(),xB=Yf();Sa.prototype={type:"chart",
init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){ct(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){ct(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var Cp=Sa.prototype;Cp.updateView=Cp.updateLayout=Cp.updateVisual=function(a,b,c,d){this.render(a,b,c,d)};vg(Sa,["dispose"]);mi(Sa,{registerWhenExtend:!0});Sa.markUpdateMethod=
function(a,b){dt(a).updateMethod=b};var yB={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},uG={pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",
candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"},vG={general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},
series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},
data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}},SB=function(a,b){function c(n,p){if(typeof n!=="string")return n;var q=n;y(p,function(t,r){q=q.replace(new RegExp("\\{\\s*"+r+"\\s*\\}","g"),t)});return q}function d(n){var p=f.get(n);if(p==null){n=n.split(".");p=vG;for(var q=0;q<n.length;++q)p=p[n[q]]}return p}function e(){var n=
b.getModel("title").option;n&&n.length&&(n=n[0]);return n&&n.text}var f=b.getModel("aria");if(f.get("show"))if(f.get("description"))a.setAttribute("aria-label",f.get("description"));else{var g=0;b.eachSeries(function(n,p){++g},this);var h=f.get("data.maxCount")||10,k=f.get("series.maxCount")||10,l=Math.min(g,k);if(!(g<1)){k=(k=e())?c(d("general.withTitle"),{title:k}):d("general.withoutTitle");var m=[];k+=c(d(g>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:g});b.eachSeries(function(n,
p){if(p<l){p=n.get("name");var q="series."+(g>1?"multiple":"single")+".";p=d(p?q+"withName":q+"withoutName");p=c(p,{seriesId:n.seriesIndex,seriesName:n.get("name"),seriesType:uG[n.subType]||"\u81ea\u5b9a\u4e49\u56fe"});n=n.getData();window.data=n;p=n.count()>h?p+c(d("data.partialData"),{displayCnt:h}):p+d("data.allData");q=[];for(var t=0;t<n.count();t++)if(t<h){var r=n.getName(t),u=ve(n,t);q.push(c(r?d("data.withName"):d("data.withoutName"),{name:r,value:u}))}p+=q.join(d("data.separator.middle"))+
d("data.separator.end");m.push(p)}});k+=m.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end");a.setAttribute("aria-label",k)}}},mk=Math.PI,Vb=Xi.prototype;Vb.restoreData=function(a,b){a.restoreData(b);this._stageTaskMap.each(function(c){(c=c.overallTask)&&c.dirty()})};Vb.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),d=c.context;a=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null;d=
d&&d.modDataCount;return{step:a,modBy:d!=null?Math.ceil(d/a):null,modDataCount:d}}};Vb.getPipeline=function(a){return this._pipelineMap.get(a)};Vb.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count();b=c.progressiveEnabled&&b.incrementalPrepareRender&&d>=c.threshold;var e=a.get("large")&&d>=a.get("largeThreshold");d=a.get("progressiveChunkMode")==="mod"?d:null;a.pipelineContext=c.context={progressiveRender:b,modDataCount:d,large:e}};Vb.restorePipelines=function(a){var b=
this,c=b._pipelineMap=aa();a.eachSeries(function(d){var e=d.getProgressive(),f=d.uid;c.set(f,{id:f,head:null,tail:null,threshold:d.getProgressiveThreshold(),progressiveEnabled:e&&!(d.preventIncremental&&d.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0});Yi(b,d,d.dataTask)})};Vb.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.ecInstance.getModel(),c=this.api;y(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,[]);d.reset&&zB(this,d,e,b,c);d.overallReset&&
DB(this,d,e,b,c)},this)};Vb.prepareView=function(a,b,c,d){var e=a.renderTask,f=e.context;f.model=b;f.ecModel=c;f.api=d;e.__block=!a.incrementalPrepareRender;Yi(this,b,e)};Vb.performDataProcessorTasks=function(a,b){ft(this,this._dataProcessorHandlers,a,b,{block:!0})};Vb.performVisualTasks=function(a,b,c){ft(this,this._visualHandlers,a,b,c)};Vb.performSeriesTasks=function(a){var b;a.eachSeries(function(c){b|=c.dataTask.perform()});this.unfinished|=b};Vb.plan=function(){this._pipelineMap.each(function(a){var b=
a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})};var gt=Vb.updatePayload=function(a,b){b!=="remain"&&(a.context.payload=b)},IB=ht(0);Xi.wrapStageHandler=function(a,b){if(Oa(a)){var c=a;nk=null;try{a(Oh,py)}catch(d){}a={overallReset:c,seriesType:nk}}a.uid=Ng("stageHandler");b&&(a.visualType=b);return a};var Oh={},py={},nk;it(Oh,xp);it(py,Os);Oh.eachSeriesByType=Oh.eachRawSeriesByType=function(a){nk=a};Oh.eachComponent=function(a){a.mainType==="series"&&a.subType&&
(nk=a.subType)};var qy="#37A2DA #32C5E9 #67E0E3 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #E062AE #E690D1 #e7bcf3 #9d96f5 #8378EA #96BFFF".split(" "),wG={color:qy,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],"#37A2DA #67E0E3 #FFDB5C #ff9f7f #E062AE #9d96f5".split(" "),"#37A2DA #32C5E9 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #e7bcf3 #8378EA #96BFFF".split(" "),qy]},ok=function(){return{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",
color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}}},Dp="#dd6b66 #759aa0 #e69d87 #8dc1a9 #ea7e53 #eedd78 #73a373 #73b9bc #7289ab #91ca8c #f49f42".split(" "),ry={color:Dp,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"},label:{color:"#000"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},
timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Dp[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:ok(),logAxis:ok(),valueAxis:ok(),categoryAxis:ok(),line:{symbol:"circle"},graph:{color:Dp},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};ry.categoryAxis.splitLine.show=!1;na.extend({type:"dataset",defaultOption:{seriesLayoutBy:"column",
sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){var a=this.option.source,b="unknown";if(Wb(a))b="typedArray";else if(F(a)){a.length===0&&(b="arrayRows");for(var c=0,d=a.length;c<d;c++){var e=a[c];if(e!=null)if(F(e)){b="arrayRows";break}else if(X(e)){b="objectRows";break}}}else if(X(a))for(c in a){if(a.hasOwnProperty(c)&&Lc(a[c])){b="keyedColumns";break}}else if(a!=null)throw Error("Invalid data");Af(this).sourceFormat=b}});xc.extend({type:"dataset"});var xG=ha.extend({type:"ellipse",
shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.rx;b=b.ry;var f=e*.5522848,g=b*.5522848;a.moveTo(c-e,d);a.bezierCurveTo(c-e,d-g,c-f,d-b,c,d-b);a.bezierCurveTo(c+f,d-b,c+e,d-g,c+e,d);a.bezierCurveTo(c+e,d+g,c+f,d+b,c,d+b);a.bezierCurveTo(c-f,d+b,c-e,d+g,c-e,d);a.closePath()}}),Fd=/[\s,]+/;Zi.prototype.parse=function(a,b){b=b||{};var c=jt(a);if(!c)throw Error("Illegal svg");this._root=a=new O;var d=c.getAttribute("viewBox")||"",e=parseFloat(c.getAttribute("width")||b.width),
f=parseFloat(c.getAttribute("height")||b.height);isNaN(e)&&(e=null);isNaN(f)&&(f=null);zb(c,a,null,!0);for(c=c.firstChild;c;)this._parseNode(c,a),c=c.nextSibling;var g;d&&(d=Jb(d).split(Fd),d.length>=4&&(g={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])}));if(g&&e!=null&&f!=null){var h=nt(g,e,f);b.ignoreViewBox||(d=a,a=new O,a.add(d),d.scale=h.scale.slice(),d.position=h.position.slice())}b.ignoreRootClip||e==null||f==null||a.setClipPath(new oa({shape:{x:0,
y:0,width:e,height:f}}));return{root:a,width:e,height:f,viewBoxRect:g,viewBoxTransform:h}};Zi.prototype._parseNode=function(a,b){var c=a.nodeName.toLowerCase();c==="defs"?this._isDefine=!0:c==="text"&&(this._isText=!0);if(this._isDefine){var d=yG[c];d&&(b=d.call(this,a),(d=a.getAttribute("id"))&&(this._defs[d]=b))}else if(d=zG[c]){var e=d.call(this,a,b);b.add(e)}for(a=a.firstChild;a;)a.nodeType===1&&this._parseNode(a,e),a.nodeType===3&&this._isText&&this._parseText(a,e),a=a.nextSibling;c==="defs"?
this._isDefine=!1:c==="text"&&(this._isText=!1)};Zi.prototype._parseText=function(a,b){if(a.nodeType===1){var c=a.getAttribute("dx")||0,d=a.getAttribute("dy")||0;this._textX+=parseFloat(c);this._textY+=parseFloat(d)}c=new fa({style:{text:a.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Pb(b,c);zb(a,c,this._defs);(a=c.style.fontSize)&&a<9&&(c.style.fontSize=9,c.scale=c.scale||[1,1],c.scale[0]*=a/9,c.scale[1]*=a/9);a=c.getBoundingRect();this._textX+=a.width;b.add(c);return c};
var zG={g:function(a,b){var c=new O;Pb(b,c);zb(a,c,this._defs);return c},rect:function(a,b){var c=new oa;Pb(b,c);zb(a,c,this._defs);c.setShape({x:parseFloat(a.getAttribute("x")||0),y:parseFloat(a.getAttribute("y")||0),width:parseFloat(a.getAttribute("width")||0),height:parseFloat(a.getAttribute("height")||0)});return c},circle:function(a,b){var c=new Gc;Pb(b,c);zb(a,c,this._defs);c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),r:parseFloat(a.getAttribute("r")||
0)});return c},line:function(a,b){var c=new bb;Pb(b,c);zb(a,c,this._defs);c.setShape({x1:parseFloat(a.getAttribute("x1")||0),y1:parseFloat(a.getAttribute("y1")||0),x2:parseFloat(a.getAttribute("x2")||0),y2:parseFloat(a.getAttribute("y2")||0)});return c},ellipse:function(a,b){var c=new xG;Pb(b,c);zb(a,c,this._defs);c.setShape({cx:parseFloat(a.getAttribute("cx")||0),cy:parseFloat(a.getAttribute("cy")||0),rx:parseFloat(a.getAttribute("rx")||0),ry:parseFloat(a.getAttribute("ry")||0)});return c},polygon:function(a,
b){var c=a.getAttribute("points");c&&(c=kt(c));c=new sb({shape:{points:c||[]}});Pb(b,c);zb(a,c,this._defs);return c},polyline:function(a,b){var c=new ha;Pb(b,c);zb(a,c,this._defs);(a=a.getAttribute("points"))&&(a=kt(a));return new Tb({shape:{points:a||[]}})},image:function(a,b){var c=new Va;Pb(b,c);zb(a,c,this._defs);c.setStyle({image:a.getAttribute("xlink:href"),x:a.getAttribute("x"),y:a.getAttribute("y"),width:a.getAttribute("width"),height:a.getAttribute("height")});return c},text:function(a,b){var c=
a.getAttribute("x")||0,d=a.getAttribute("y")||0,e=a.getAttribute("dx")||0,f=a.getAttribute("dy")||0;this._textX=parseFloat(c)+parseFloat(e);this._textY=parseFloat(d)+parseFloat(f);c=new O;Pb(b,c);zb(a,c,this._defs);return c},tspan:function(a,b){var c=a.getAttribute("x"),d=a.getAttribute("y");c!=null&&(this._textX=parseFloat(c));d!=null&&(this._textY=parseFloat(d));c=a.getAttribute("dx")||0;d=a.getAttribute("dy")||0;var e=new O;Pb(b,e);zb(a,e,this._defs);this._textX+=c;this._textY+=d;return e},path:function(a,
b){var c=a.getAttribute("d")||"";c=new ha(om(c,void 0));Pb(b,c);zb(a,c,this._defs);return c}},yG={lineargradient:function(a){var b=parseInt(a.getAttribute("x1")||0,10),c=parseInt(a.getAttribute("y1")||0,10),d=parseInt(a.getAttribute("x2")||10,10),e=parseInt(a.getAttribute("y2")||0,10);b=new ye(b,c,d,e);for(a=a.firstChild;a;)a.nodeType===1&&(c=a.getAttribute("offset"),c=c.indexOf("%")>0?parseInt(c,10)/100:c?parseFloat(c):0,d=a.getAttribute("stop-color")||"#000000",b.addColorStop(c,d)),a=a.nextSibling;
return b},radialgradient:function(a){}},Cf={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},LB=
/url\(\s*#(.*?)\)/,MB=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,mt=/([^\s:;]+)\s*:\s*([^:;]+)/g,sy=aa(),nj={registerMap:function(a,b,c){F(b)||(b.svg?b=[{type:"svg",source:b.svg,specialAreas:b.specialAreas}]:(b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),b=[{type:"geoJSON",source:b,specialAreas:c}]));y(b,function(d){var e=d.type;e==="geoJson"&&(e=d.type="geoJSON");var f=AG[e];I&&ja(f,"Illegal map type: "+e);f(d)});return sy.set(a,b)},retrieveMap:function(a){return sy.get(a)}},
AG={geoJSON:function(a){var b=a.source;a.geoJSON=va(b)?typeof JSON!=="undefined"&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))():b},svg:function(a){a.svgXML=jt(a.source)}},Ef=ja,Qa=y,UB=Oa,Xg=X,Qm=na.parseClassType,Ep={zrender:"4.3.2"},Hc={PROCESSOR:{FILTER:1E3,SERIES_FILTER:800,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2E3,CHART:3E3,POST_CHART_LAYOUT:3500,COMPONENT:4E3,BRUSH:5E3}},zt=/^[a-zA-Z0-9_]+$/;Ug.prototype.on=Df("on",!0);Ug.prototype.off=Df("off",!0);
Ug.prototype.one=Df("one",!0);pa(Ug,Ra);var qa=Vg.prototype;qa._onframe=function(){if(!this._disposed){var a=this._scheduler;if(this.__optionUpdated)a=this.__optionUpdated.silent,this.__flagInMainProcess=!0,Wg(this),Gd.update.call(this),this.__optionUpdated=this.__flagInMainProcess=!1,cj.call(this,a),!a&&this.trigger("updated");else if(a.unfinished){var b=1,c=this._model,d=this._api;a.unfinished=!1;do{var e=+new Date;a.performSeriesTasks(c);a.performDataProcessorTasks(c);st(this,c);a.performVisualTasks(c);
Sm(this,this._model,d,"remain");b-=+new Date-e}while(b>0&&a.unfinished);a.unfinished||this._zr.flush()}}};qa.getDom=function(){return this._dom};qa.getZr=function(){return this._zr};qa.setOption=function(a,b,c){I&&Ef(!this.__flagInMainProcess,"`setOption` should not be called during main process.");if(this._disposed)Ab(this.id);else{if(Xg(b)){c=b.lazyUpdate;var d=b.silent;b=b.notMerge}this.__flagInMainProcess=!0;if(!this._model||b){b=new Hm(this._api);var e=this._theme,f=this._model=new xp;f.scheduler=
this._scheduler;f.init(null,null,e,b)}this._model.setOption(a,yt);c?(this.__optionUpdated={silent:d},this.__flagInMainProcess=!1):(Wg(this),Gd.update.call(this),this._zr.flush(),this.__flagInMainProcess=this.__optionUpdated=!1,cj.call(this,d),!d&&this.trigger("updated"))}};qa.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};qa.getModel=function(){return this._model};qa.getOption=function(){return this._model&&this._model.getOption()};qa.getWidth=function(){return this._zr.getWidth()};
qa.getHeight=function(){return this._zr.getHeight()};qa.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};qa.getRenderedCanvas=function(a){if(da.canvasSupported)return a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(a)};qa.getSvgDataURL=function(){if(da.svgSupported){var a=this._zr,b=a.storage.getDisplayList();y(b,function(c){c.stopAnimation(!0)});return a.painter.toDataURL()}};
qa.getDataURL=function(a){if(this._disposed)Ab(this.id);else{a=a||{};var b=this._model,c=[],d=this;Qa(a.excludeComponents,function(e){b.eachComponent({mainType:e},function(f){f=d._componentsMap[f.__viewId];f.group.ignore||(c.push(f),f.group.ignore=!0)})});a=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));Qa(c,function(e){e.group.ignore=!1});return a}};qa.getConnectedDataURL=function(a){if(this._disposed)Ab(this.id);else if(da.canvasSupported){var b=
a.type==="svg",c=this.group,d=Math.min,e=Math.max;if(ej[c]){var f=Infinity,g=Infinity,h=-Infinity,k=-Infinity,l=[],m=a&&a.pixelRatio||1;y(we,function(u,v){u.group===c&&(v=b?u.getZr().painter.getSvgDom().innerHTML:u.getRenderedCanvas(T(a)),u=u.getDom().getBoundingClientRect(),f=d(u.left,f),g=d(u.top,g),h=e(u.right,h),k=e(u.bottom,k),l.push({dom:v,left:u.left,top:u.top}))});f*=m;g*=m;h*=m;k*=m;var n=h-f,p=k-g,q=$e(),t=Pl(q,{renderer:b?"svg":"canvas"});t.resize({width:n,height:p});if(b){var r="";Qa(l,
function(u){r+='\x3cg transform\x3d"translate('+(u.left-f)+","+(u.top-g)+')"\x3e'+u.dom+"\x3c/g\x3e"});t.painter.getSvgRoot().innerHTML=r;a.connectedBackgroundColor&&t.painter.setBackgroundColor(a.connectedBackgroundColor);t.refreshImmediately();return t.painter.toDataURL()}a.connectedBackgroundColor&&t.add(new oa({shape:{x:0,y:0,width:n,height:p},style:{fill:a.connectedBackgroundColor}}));Qa(l,function(u){u=new Va({style:{x:u.left*m-f,y:u.top*m-g,image:u.dom}});t.add(u)});t.refreshImmediately();
return q.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}};qa.convertToPixel=R(pt,"convertToPixel");qa.convertFromPixel=R(pt,"convertFromPixel");qa.containPixel=function(a,b){if(this._disposed)Ab(this.id);else{var c;a=ug(this._model,a);y(a,function(d,e){e.indexOf("Models")>=0&&y(d,function(f){var g=f.coordinateSystem;g&&g.containPoint?c|=!!g.containPoint(b):e==="seriesModels"?(g=this._chartsMap[f.__viewId])&&g.containPoint?c|=g.containPoint(b,f):I&&console.warn(e+": "+(g?"The found component do not support containPoint.":
"No view mapping to the found component.")):I&&console.warn(e+": containPoint is not supported")},this)},this);return!!c}};qa.getVisual=function(a,b){a=ug(this._model,a,{defaultMainType:"series"});var c=a.seriesModel;I&&(c||console.warn("There is no specified seires model"));c=c.getData();a=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return a!=null?c.getItemVisual(a,b):c.getVisual(b)};qa.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]};
qa.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var Gd={prepareAndUpdate:function(a){Wg(this);Gd.update.call(this,a)},update:function(a){var b=this._model,c=this._api,d=this._zr,e=this._coordSysMgr,f=this._scheduler;b&&(f.restoreData(b,a),f.performSeriesTasks(b),e.create(b,c),f.performDataProcessorTasks(b,a),st(this,b),e.update(b,c),Rm(b),f.performVisualTasks(b,a),ut(this,b,c,a),a=b.get("backgroundColor")||"transparent",da.canvasSupported?d.setBackgroundColor(a):(d=vb(a),Qc(d,
"rgb")),Tm(b,c))},updateTransform:function(a){var b=this._model,c=this,d=this._api;if(b){var e=[];b.eachComponent(function(g,h){(g=c.getViewOfComponentModel(h))&&g.__alive&&(g.updateTransform?(h=g.updateTransform(h,b,d,a))&&h.update&&e.push(g):e.push(g))});var f=aa();b.eachSeries(function(g){var h=c._chartsMap[g.__viewId];h.updateTransform?(h=h.updateTransform(g,b,d,a))&&h.update&&f.set(g.uid,1):f.set(g.uid,1)});Rm(b);this._scheduler.performVisualTasks(b,a,{setDirty:!0,dirtyMap:f});Sm(c,b,d,a,f);
Tm(b,this._api)}},updateView:function(a){var b=this._model;b&&(Sa.markUpdateMethod(a,"updateView"),Rm(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0}),ut(this,this._model,this._api,a),Tm(b,this._api))},updateVisual:function(a){Gd.update.call(this,a)},updateLayout:function(a){Gd.update.call(this,a)}};qa.resize=function(a){I&&Ef(!this.__flagInMainProcess,"`resize` should not be called during main process.");if(this._disposed)Ab(this.id);else{this._zr.resize(a);var b=this._model;this._loadingFX&&
this._loadingFX.resize();b&&(b=b.resetOption("media"),a=a&&a.silent,this.__flagInMainProcess=!0,b&&Wg(this),Gd.update.call(this),this.__flagInMainProcess=!1,cj.call(this,a),!a&&this.trigger("updated"))}};qa.showLoading=function(a,b){this._disposed?Ab(this.id):(Xg(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),pk[a]?(a=pk[a](this._api,b),b=this._zr,this._loadingFX=a,b.add(a)):I&&console.warn("Loading effects "+a+" not exists."))};qa.hideLoading=function(){this._disposed?Ab(this.id):(this._loadingFX&&
this._zr.remove(this._loadingFX),this._loadingFX=null)};qa.makeActionFromEvent=function(a){var b=U({},a);b.type=dj[a.type];return b};qa.dispatchAction=function(a,b){this._disposed?Ab(this.id):(Xg(b)||(b={silent:!!b}),bj[a.type]&&this._model&&(this.__flagInMainProcess?this._pendingActions.push(a):(tt.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&da.browser.weChat&&this._throttledZrFlush(),cj.call(this,b.silent),!b.silent&&this.trigger("updated"))))};qa.appendData=function(a){if(this._disposed)Ab(this.id);
else{var b=a.seriesIndex;b=this.getModel().getSeriesByIndex(b);I&&Ef(a.data&&b);b.appendData(a);this._scheduler.unfinished=!0}};qa.on=Df("on",!1);qa.off=Df("off",!1);qa.one=Df("one",!1);var BG="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");qa._initEvents=function(){Qa(BG,function(a){var b=function(c){var d=this.getModel(),e=c.target,f=a==="globalout";if(f)var g={};else e&&e.dataIndex!=null?g=(g=e.dataModel||d.getSeriesByIndex(e.seriesIndex))&&g.getDataParams(e.dataIndex,
e.dataType,e)||{}:e&&e.eventData&&(g=U({},e.eventData));if(g){var h=g.componentType,k=g.componentIndex;if(h==="markLine"||h==="markPoint"||h==="markArea")h="series",k=g.seriesIndex;h=(d=h&&k!=null&&d.getComponent(h,k))&&this[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];I&&(f||d&&h||console.warn("model or view can not be found by params"));g.event=c;g.type=a;this._ecEventProcessor.eventInfo={targetEl:e,packedEvent:g,model:d,view:h};this.trigger(a,g)}};b.zrEventfulCallAtLast=!0;
this._zr.on(a,b,this)},this);Qa(dj,function(a,b){this._messageCenter.on(b,function(c){this.trigger(b,c)},this)},this)};qa.isDisposed=function(){return this._disposed};qa.clear=function(){this._disposed?Ab(this.id):this.setOption({series:[]},!0)};qa.dispose=function(){if(this._disposed)Ab(this.id);else{this._disposed=!0;vr(this.getDom(),Vm,"");var a=this._api,b=this._model;Qa(this._componentsViews,function(c){c.dispose(b,a)});Qa(this._chartsViews,function(c){c.dispose(b,a)});this._zr.dispose();delete we[this.id]}};
pa(Vg,Ra);Pm.prototype={constructor:Pm,normalizeQuery:function(a){var b={},c={},d={};if(va(a))a=Qm(a),b.mainType=a.main||null,b.subType=a.sub||null;else{var e=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};y(a,function(g,h){for(var k=!1,l=0;l<e.length;l++){var m=e[l],n=h.lastIndexOf(m);n>0&&n===h.length-m.length&&(n=h.slice(0,n),n!=="data"&&(b.mainType=n,b[m.toLowerCase()]=g,k=!0))}f.hasOwnProperty(h)&&(c[h]=g,k=!0);k||(d[h]=g)})}return{cptQuery:b,dataQuery:c,otherQuery:d}},filter:function(a,
b,c){function d(l,m,n,p){return l[n]==null||m[p||n]===l[n]}var e=this.eventInfo;if(!e)return!0;c=e.targetEl;var f=e.packedEvent,g=e.model;e=e.view;if(!g||!e)return!0;var h=b.cptQuery,k=b.dataQuery;return d(h,g,"mainType")&&d(h,g,"subType")&&d(h,g,"index","componentIndex")&&d(h,g,"name")&&d(h,g,"id")&&d(k,f,"name")&&d(k,f,"dataIndex")&&d(k,f,"dataType")&&(!e.filterForExposedEvent||e.filterForExposedEvent(a,b.otherQuery,c,f))},afterTrigger:function(){this.eventInfo=null}};var bj={},dj={},Om=[],yt=[],
wt=[],aj=[],$i={},pk={},we={},ej={},CG=new Date-0,DG=new Date-0,Vm="_echarts_instance_";za(2E3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=(a.visualColorAccessPath||"itemStyle.color").split("."),e=a.get(d),f=!Oa(e)||e instanceof Vd?null:e;if(!e||f)e=a.getColorFromPalette(a.name,null,b.getSeriesCount());c.setVisual("color",e);var g=(a.visualBorderColorAccessPath||"itemStyle.borderColor").split(".");e=a.get(g);c.setVisual("borderColor",e);if(!b.isSeriesFiltered(a))return f&&
c.each(function(h){c.setItemVisual(h,"color",f(a.getDataParams(h)))}),b=function(h,k){var l=h.getItemModel(k),m=l.get(d,!0);l=l.get(g,!0);m!=null&&h.setItemVisual(k,"color",m);l!=null&&h.setItemVisual(k,"borderColor",l)},{dataEach:c.hasItemOption?b:null}}});ab(ot);Bb(900,function(a){var b=aa();a.eachSeries(function(c){var d=c.get("stack");if(d){d=b.get(d)||b.set(d,[]);var e=c.getData();c={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),
stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:c};c.stackedDimension&&(c.isStackedByIndex||c.stackedByDimension)&&(d.length&&e.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(c))}});b.each(mB)});pk["default"]=function(a,b){b=b||{};Q(b,{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,
color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var c=new O,d=new oa({style:{fill:b.maskColor},zlevel:b.zlevel,z:1E4});c.add(d);var e=b.fontSize+" sans-serif",f=new oa({style:{fill:"none",text:b.text,font:e,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});c.add(f);if(b.showSpinner){var g=new up({shape:{startAngle:-mk/2,endAngle:-mk/2+.1,r:b.spinnerRadius},style:{stroke:b.color,lineCap:"round",lineWidth:b.lineWidth},zlevel:b.zlevel,z:10001});g.animateShape(!0).when(1E3,
{endAngle:mk*3/2}).start("circularInOut");g.animateShape(!0).when(1E3,{startAngle:mk*3/2}).delay(300).start("circularInOut");c.add(g)}c.resize=function(){var h=wb(b.text,e),k=b.showSpinner?b.spinnerRadius:0;h=(a.getWidth()-k*2-(b.showSpinner&&h?10:0)-h)/2-(b.showSpinner?0:h/2);var l=a.getHeight()/2;b.showSpinner&&g.setShape({cx:h,cy:l});f.setShape({x:h-k,y:l-k,width:k*2,height:k*2});d.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};c.resize();return c};la({type:"highlight",event:"highlight",
update:"highlight"},Pa);la({type:"downplay",event:"downplay",update:"downplay"},Pa);$i.light=wG;$i.dark=ry;$c.prototype={constructor:$c,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];Bt(a,{},d,"_oldKeyGetter",this);Bt(b,c,e,"_newKeyGetter",this);for(b=0;b<a.length;b++){var f=d[b],g=c[f];if(g!=null){var h=g.length;h?(h===1&&(c[f]=null),g=g.shift()):c[f]=
null;this._update&&this._update(g,b)}else this._remove&&this._remove(b)}for(b=0;b<e.length;b++)if(f=e[b],c.hasOwnProperty(f)&&(g=c[f],g!=null))if(g.length)for(a=0,h=g.length;a<h;a++)this._add&&this._add(g[a]);else this._add&&this._add(g)}};var Ym=aa(["tooltip","label","itemName","itemId","seriesName"]),qk=X,ZB={"float":typeof Float64Array==="undefined"?Array:Float64Array,"int":typeof Int32Array==="undefined"?Array:Int32Array,ordinal:Array,number:Array,time:Array},rk=typeof Uint32Array==="undefined"?
Array:Uint32Array,$B=typeof Int32Array==="undefined"?Array:Int32Array,sk=typeof Uint16Array==="undefined"?Array:Uint16Array,XB="hasItemOption _nameList _idList _invertedIndicesMap _rawData _chunkSize _chunkCount _dimValueGetter _count _rawCount _nameDimIdx _idDimIdx".split(" "),YB=["_extent","_approximateExtent","_rawExtent"],Ua=function(a,b){a=a||["x","y"];for(var c={},d=[],e={},f=0;f<a.length;f++){var g=a[f];va(g)?g=new Yg({name:g}):g instanceof Yg||(g=new Yg(g));var h=g.name;g.type=g.type||"float";
g.coordDim||(g.coordDim=h,g.coordDimIndex=0);g.otherDims=g.otherDims||{};d.push(h);c[h]=g;g.index=f;g.createInvertedIndices&&(e[h]=[])}this.dimensions=d;this._dimensionInfos=c;this.hostModel=b;this._indices=null;this._rawCount=this._count=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=1E5;this._chunkCount=0;this._rawExtent={};this._extent=
{};this._approximateExtent={};this._dimensionsSummary=VB(this);this._invertedIndicesMap=e;this._calculationInfo={};this.userOutput=this._dimensionsSummary.userOutput},V=Ua.prototype;V.type="list";V.hasItemOption=!0;V.getDimension=function(a){if(typeof a==="number"||!isNaN(a)&&!this._dimensionInfos.hasOwnProperty(a))a=this.dimensions[a];return a};V.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]};V.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};
V.mapDimension=function(a,b){var c=this._dimensionsSummary;if(b==null)return c.encodeFirstDimNotExtra[a];a=c.encode[a];return b===!0?(a||[]).slice():a&&a[b]};V.initData=function(a,b,c){var d=ec.isInstance(a)||Lc(a);d&&(a=new Us(a,this.dimensions.length));if(I&&!d&&(typeof a.getItem!=="function"||typeof a.count!=="function"))throw Error("Inavlid data provider.");this._rawData=a;this._storage={};this._indices=null;this._nameList=b||[];this._idList=[];this._nameRepeatCount={};c||(this.hasItemOption=
!1);this.defaultDimValueGetter=oy[this._rawData.getSource().sourceFormat];this._dimValueGetter=c||this.defaultDimValueGetter;this._dimValueGetterArrayRows=oy.arrayRows;this._rawExtent={};this._initDataFromProvider(0,a.count());a.pure&&(this.hasItemOption=!1)};V.getProvider=function(){return this._rawData};V.appendData=function(a){I&&ja(!this._indices,"appendData can only be called on raw data.");var b=this._rawData,c=this.count();b.appendData(a);a=b.count();b.persistent||(a+=c);this._initDataFromProvider(c,
a)};V.appendValues=function(a,b){for(var c=this._chunkSize,d=this._storage,e=this.dimensions,f=e.length,g=this._rawExtent,h=this.count(),k=h+Math.max(a.length,b?b.length:0),l=this._chunkCount,m=0;m<f;m++){var n=e[m];g[n]||(g[n]=[Infinity,-Infinity]);d[n]||(d[n]=[]);Dt(d,this._dimensionInfos[n],c,l,k);this._chunkCount=d[n].length}l=Array(f);for(m=h;m<k;m++){for(var p=m-h,q=Math.floor(m/c),t=m%c,r=0;r<f;r++){n=e[r];var u=this._dimValueGetterArrayRows(a[p]||l,n,p,r);d[n][q][t]=u;n=g[n];u<n[0]&&(n[0]=
u);u>n[1]&&(n[1]=u)}b&&(this._nameList[m]=b[p])}this._rawCount=this._count=k;this._extent={};Et(this)};V._initDataFromProvider=function(a,b){if(!(a>=b)){for(var c=this._chunkSize,d=this._rawData,e=this._storage,f=this.dimensions,g=f.length,h=this._dimensionInfos,k=this._nameList,l=this._idList,m=this._rawExtent,n=this._nameRepeatCount={},p,q=this._chunkCount,t=0;t<g;t++){var r=f[t];m[r]||(m[r]=[Infinity,-Infinity]);var u=h[r];u.otherDims.itemName===0&&(p=this._nameDimIdx=t);u.otherDims.itemId===0&&
(this._idDimIdx=t);e[r]||(e[r]=[]);Dt(e,u,c,q,b);this._chunkCount=e[r].length}for(q=Array(g);a<b;a++){q=d.getItem(a,q);u=Math.floor(a/c);t=a%c;for(var v=0;v<g;v++){r=f[v];var x=e[r][u],w=this._dimValueGetter(q,r,a,v);x[t]=w;r=m[r];w<r[0]&&(r[0]=w);w>r[1]&&(r[1]=w)}d.pure||(r=k[a],q&&r==null&&(q.name!=null?k[a]=r=q.name:p!=null&&(v=f[p],u=e[v][u])&&(r=u[t],(t=h[v].ordinalMeta)&&t.categories.length&&(r=t.categories[r]))),t=q==null?null:q.id,t==null&&r!=null&&(n[r]=n[r]||0,t=r,n[r]>0&&(t+="__ec__"+n[r]),
n[r]++),t!=null&&(l[a]=t))}!d.persistent&&d.clean&&d.clean();this._rawCount=this._count=b;this._extent={};Et(this)}};V.count=function(){return this._count};V.getIndices=function(){var a=this._indices;if(a){var b=a.constructor,c=this._count;if(b===Array){b=new b(c);for(var d=0;d<c;d++)b[d]=a[d]}else b=new b(a.buffer,0,c)}else for(b=this._rawCount>65535?rk:sk,b=new b(this.count()),d=0;d<b.length;d++)b[d]=d;return b};V.get=function(a,b){if(!(b>=0&&b<this._count))return NaN;var c=this._storage;if(!c[a])return NaN;
b=this.getRawIndex(b);return c[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};V.getByRawIndex=function(a,b){return b>=0&&b<this._rawCount?(a=this._storage[a])?a[Math.floor(b/this._chunkSize)][b%this._chunkSize]:NaN:NaN};V._getFast=function(a,b){return this._storage[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};V.getValues=function(a,b){var c=[];F(a)||(b=a,a=this.dimensions);for(var d=0,e=a.length;d<e;d++)c.push(this.get(a[d],b));return c};V.hasValue=function(a){for(var b=this._dimensionsSummary.dataDimsOnCoord,
c=0,d=b.length;c<d;c++)if(isNaN(this.get(b[c],a)))return!1;return!0};V.getDataExtent=function(a){a=this.getDimension(a);var b=[Infinity,-Infinity];if(!this._storage[a])return b;var c=this.count(),d;if(!this._indices)return this._rawExtent[a].slice();if(d=this._extent[a])return d.slice();d=b;b=d[0];d=d[1];for(var e=0;e<c;e++){var f=this._getFast(a,this.getRawIndex(e));f<b&&(b=f);f>d&&(d=f)}d=[b,d];return this._extent[a]=d};V.getApproximateExtent=function(a){a=this.getDimension(a);return this._approximateExtent[a]||
this.getDataExtent(a)};V.setApproximateExtent=function(a,b){b=this.getDimension(b);this._approximateExtent[b]=a.slice()};V.getCalculationInfo=function(a){return this._calculationInfo[a]};V.setCalculationInfo=function(a,b){qk(a)?U(this._calculationInfo,a):this._calculationInfo[a]=b};V.getSum=function(a){var b=0;if(this._storage[a])for(var c=0,d=this.count();c<d;c++){var e=this.get(a,c);isNaN(e)||(b+=e)}return b};V.getMedian=function(a){var b=[];this.each(a,function(d,e){isNaN(d)||b.push(d)});a=[].concat(b).sort(function(d,
e){return d-e});var c=this.count();return c===0?0:c%2===1?a[(c-1)/2]:(a[c/2]+a[c/2-1])/2};V.rawIndexOf=function(a,b){a=a&&this._invertedIndicesMap[a];if(I&&!a)throw Error("Do not supported yet");b=a[b];return b==null||isNaN(b)?-1:b};V.indexOfName=function(a){for(var b=0,c=this.count();b<c;b++)if(this.getName(b)===a)return b;return-1};V.indexOfRawIndex=function(a){if(a>=this._rawCount||a<0)return-1;if(!this._indices)return a;var b=this._indices,c=b[a];if(c!=null&&c<this._count&&c===a)return a;c=0;
for(var d=this._count-1;c<=d;){var e=(c+d)/2|0;if(b[e]<a)c=e+1;else if(b[e]>a)d=e-1;else return e}return-1};V.indicesOfNearest=function(a,b,c){var d=[];if(!this._storage[a])return d;c==null&&(c=Infinity);for(var e=Infinity,f=-1,g=0,h=0,k=this.count();h<k;h++){var l=b-this.get(a,h),m=Math.abs(l);if(m<=c){if(m<e||m===e&&l>=0&&f<0)e=m,f=l,g=0;l===f&&(d[g++]=h)}}d.length=g;return d};V.getRawIndex=Zg;V.getRawDataItem=function(a){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(a));
for(var b=[],c=0;c<this.dimensions.length;c++)b.push(this.get(this.dimensions[c],a));return b};V.getName=function(a){a=this.getRawIndex(a);return this._nameList[a]||Ft(this,this._nameDimIdx,a)||""};V.getId=function(a){return $m(this,this.getRawIndex(a))};V.each=function(a,b,c,d){if(this._count){typeof a==="function"&&(d=c,c=b,b=a,a=[]);c=c||d||this;a=H(an(a),this.getDimension,this);I&&hj(this,a);d=a.length;for(var e=0;e<this.count();e++)switch(d){case 0:b.call(c,e);break;case 1:b.call(c,this.get(a[0],
e),e);break;case 2:b.call(c,this.get(a[0],e),this.get(a[1],e),e);break;default:for(var f=0,g=[];f<d;f++)g[f]=this.get(a[f],e);g[f]=e;b.apply(c,g)}}};V.filterSelf=function(a,b,c,d){if(this._count){typeof a==="function"&&(d=c,c=b,b=a,a=[]);c=c||d||this;a=H(an(a),this.getDimension,this);I&&hj(this,a);d=this.count();var e=new (this._rawCount>65535?rk:sk)(d),f=[],g=a.length,h=0;a=a[0];for(var k=0;k<d;k++){var l=this.getRawIndex(k);if(g===0)var m=b.call(c,k);else if(g===1)m=this._getFast(a,l),m=b.call(c,
m,k);else{for(m=0;m<g;m++)f[m]=this._getFast(a,l);f[m]=k;m=b.apply(c,f)}m&&(e[h++]=l)}h<d&&(this._indices=e);this._count=h;this._extent={};this.getRawIndex=this._indices?$g:Zg;return this}};V.selectRange=function(a){if(this._count){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);I&&hj(this,b);var d=b.length;if(d){var e=this.count(),f=new (this._rawCount>65535?rk:sk)(e),g=0,h=b[0],k=a[h][0],l=a[h][1],m=!1;if(!this._indices){var n=0;if(d===1){var p=this._storage[b[0]];for(m=0;m<this._chunkCount;m++)for(var q=
p[m],t=Math.min(this._count-m*this._chunkSize,this._chunkSize),r=0;r<t;r++){var u=q[r];if(u>=k&&u<=l||isNaN(u))f[g++]=n;n++}m=!0}else if(d===2){p=this._storage[h];var v=this._storage[b[1]],x=a[b[1]][0],w=a[b[1]][1];for(m=0;m<this._chunkCount;m++){q=p[m];var z=v[m];t=Math.min(this._count-m*this._chunkSize,this._chunkSize);for(r=0;r<t;r++){u=q[r];var A=z[r];(u>=k&&u<=l||isNaN(u))&&(A>=x&&A<=w||isNaN(A))&&(f[g++]=n);n++}}m=!0}}if(!m)if(d===1)for(r=0;r<e;r++){if(n=this.getRawIndex(r),u=this._getFast(h,
n),u>=k&&u<=l||isNaN(u))f[g++]=n}else for(r=0;r<e;r++){h=!0;n=this.getRawIndex(r);for(m=0;m<d;m++)if(k=b[m],u=this._getFast(c,n),u<a[k][0]||u>a[k][1])h=!1;h&&(f[g++]=this.getRawIndex(r))}g<e&&(this._indices=f);this._count=g;this._extent={};this.getRawIndex=this._indices?$g:Zg;return this}}};V.mapArray=function(a,b,c,d){typeof a==="function"&&(d=c,c=b,b=a,a=[]);var e=[];this.each(a,function(){e.push(b&&b.apply(this,arguments))},c||d||this);return e};V.map=function(a,b,c,d){c=c||d||this;a=H(an(a),this.getDimension,
this);I&&hj(this,a);d=Gt(this,a);d._indices=this._indices;d.getRawIndex=d._indices?$g:Zg;for(var e=d._storage,f=[],g=this._chunkSize,h=a.length,k=this.count(),l=[],m=d._rawExtent,n=0;n<k;n++){for(var p=0;p<h;p++)l[p]=this.get(a[p],n);l[h]=n;p=b&&b.apply(c,l);if(p!=null){typeof p!=="object"&&(f[0]=p,p=f);var q=this.getRawIndex(n),t=Math.floor(q/g);q%=g;for(var r=0;r<p.length;r++){var u=a[r],v=p[r],x=m[u];(u=e[u])&&(u[t][q]=v);v<x[0]&&(x[0]=v);v>x[1]&&(x[1]=v)}}}return d};V.downSample=function(a,b,
c,d){var e=Gt(this,[a]),f=[];b=Math.floor(1/b);var g=e._storage[a],h=this.count(),k=this._chunkSize;a=e._rawExtent[a];for(var l=new (this._rawCount>65535?rk:sk)(h),m=0,n=0;n<h;n+=b){b>h-n&&(b=h-n,f.length=b);for(var p=0;p<b;p++){var q=this.getRawIndex(n+p);f[p]=g[Math.floor(q/k)][q%k]}p=c(f);q=this.getRawIndex(Math.min(n+d(f,p)||0,h-1));g[Math.floor(q/k)][q%k]=p;p<a[0]&&(a[0]=p);p>a[1]&&(a[1]=p);l[m++]=q}e._count=m;e._indices=l;e.getRawIndex=$g;return e};V.getItemModel=function(a){var b=this.hostModel;
return new ka(this.getRawDataItem(a),b,b&&b.ecModel)};V.diff=function(a){var b=this;return new $c(a?a.getIndices():[],this.getIndices(),function(c){return $m(a,c)},function(c){return $m(b,c)})};V.getVisual=function(a){var b=this._visual;return b&&b[a]};V.setVisual=function(a,b){if(qk(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b};V.setLayout=function(a,b){if(qk(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=
b};V.getLayout=function(a){return this._layout[a]};V.getItemLayout=function(a){return this._itemLayouts[a]};V.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?U(this._itemLayouts[a]||{},b):b};V.clearItemLayouts=function(){this._itemLayouts.length=0};V.getItemVisual=function(a,b,c){a=(a=this._itemVisuals[a])&&a[b];return a!=null||c?a:this.getVisual(b)};V.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{},e=this.hasItemVisual;this._itemVisuals[a]=d;if(qk(b))for(var f in b)b.hasOwnProperty(f)&&
(d[f]=b[f],e[f]=!0);else d[b]=c,e[b]=!0};V.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var EG=function(a){a.seriesIndex=this.seriesIndex;a.dataIndex=this.dataIndex;a.dataType=this.dataType};V.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,b.type==="group"&&b.traverse(EG,b));this._graphicEls[a]=b};V.getItemGraphicEl=function(a){return this._graphicEls[a]};V.eachItemGraphicEl=function(a,
b){y(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})};V.cloneShallow=function(a){a||(a=H(this.dimensions,this.getDimensionInfo,this),a=new Ua(a,this.hostModel));a._storage=this._storage;Ct(a,this);a._indices=this._indices?new this._indices.constructor(this._indices):null;a.getRawIndex=a._indices?$g:Zg;return a};V.wrapMethod=function(a,b){var c=this[a];typeof c==="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var d=c.apply(this,arguments);
return b.apply(this,[d].concat(bf(arguments)))})};V.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];V.CHANGABLE_METHODS=["filterSelf","selectRange"];var Gf=function(a,b){b=b||{};return Ht(b.coordDimensions||[],a,{dimsDef:b.dimensionsDefine||a.dimensionsDefine,encodeDef:b.encodeDefine||a.encodeDefine,dimCount:b.dimensionsCount,encodeDefaulter:b.encodeDefaulter,generateCoord:b.generateCoord,generateCoordCount:b.generateCoordCount})},dC={cartesian2d:function(a,b,c,d){var e=a.getReferringComponents("xAxis")[0],
f=a.getReferringComponents("yAxis")[0];if(I){if(!e)throw Error('xAxis "'+xa(a.get("xAxisIndex"),a.get("xAxisId"),0)+'" not found');if(!f)throw Error('yAxis "'+xa(a.get("xAxisIndex"),a.get("yAxisId"),0)+'" not found');}b.coordSysDims=["x","y"];c.set("x",e);c.set("y",f);Ff(e)&&(d.set("x",e),b.firstCategoryDimIndex=0);Ff(f)&&(d.set("y",f),b.firstCategoryDimIndex==null&(b.firstCategoryDimIndex=1))},singleAxis:function(a,b,c,d){a=a.getReferringComponents("singleAxis")[0];if(I&&!a)throw Error("singleAxis should be specified.");
b.coordSysDims=["single"];c.set("single",a);Ff(a)&&(d.set("single",a),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var e=a.getReferringComponents("polar")[0];a=e.findAxisModel("radiusAxis");e=e.findAxisModel("angleAxis");if(I){if(!e)throw Error("angleAxis option not found");if(!a)throw Error("radiusAxis option not found");}b.coordSysDims=["radius","angle"];c.set("radius",a);c.set("angle",e);Ff(a)&&(d.set("radius",a),b.firstCategoryDimIndex=0);Ff(e)&&(d.set("angle",e),b.firstCategoryDimIndex==
null&&(b.firstCategoryDimIndex=1))},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var e=a.ecModel;a=e.getComponent("parallel",a.get("parallelIndex"));var f=b.coordSysDims=a.dimensions.slice();y(a.parallelAxisIndex,function(g,h){g=e.getComponent("parallelAxis",g);var k=f[h];c.set(k,g);Ff(g)&&b.firstCategoryDimIndex==null&&(d.set(k,g),b.firstCategoryDimIndex=h)})}};La.prototype.parse=function(a){return a};La.prototype.getSetting=function(a){return this._setting[a]};
La.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]};La.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])};La.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]};La.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])};La.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))};La.prototype.getExtent=function(){return this._extent.slice()};
La.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a);isNaN(b)||(c[1]=b)};La.prototype.isBlank=function(){return this._isBlank};La.prototype.setBlank=function(a){this._isBlank=a};La.prototype.getLabel=null;vg(La);mi(La,{registerWhenExtend:!0});bh.createByAxisModel=function(a){a=a.option;var b=a.data;b=b&&H(b,fC);return new bh({categories:b,needCollect:!b,deduplication:a.dedplication!==!1})};var ty=bh.prototype;ty.getOrdinal=function(a){return(this._map||(this._map=aa(this.categories))).get(a)};
ty.parseAndCollect=function(a){var b=this._needCollect;if(typeof a!=="string"&&!b)return a;if(b&&!this._deduplication){var c=this.categories.length;this.categories[c]=a;return c}var d=this._map||(this._map=aa(this.categories));c=d.get(a);c==null&&(b?(c=this.categories.length,this.categories[c]=a,d.set(a,c)):c=NaN);return c};var Fp=La.prototype,dn=La.extend({type:"ordinal",init:function(a,b){if(!a||F(a))a=new bh({categories:a});this._ordinalMeta=a;this._extent=b||[0,a.categories.length-1]},parse:function(a){return typeof a===
"string"?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){a=this.parse(a);return Fp.contain.call(this,a)&&this._ordinalMeta.categories[a]!=null},normalize:function(a){return Fp.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Fp.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){if(!this.isBlank())return this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+
1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:Pa,niceExtent:Pa});dn.create=function(){return new dn};var yc=La.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a));isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);yc.prototype.setExtent.call(this,b[0],b[1])},
getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=Dd(a)+2},getTicks:function(a){var b=this._interval,c=this._extent,d=this._niceExtent,e=this._intervalPrecision,f=[];if(!b)return f;c[0]<d[0]&&(a?f.push(wa(d[0]-b,e)):f.push(c[0]));for(var g=d[0];g<=d[1];){f.push(g);g=wa(g+b,e);if(g===f[f.length-1])break;if(f.length>1E4)return[]}d=f.length?f[f.length-1]:d[1];c[1]>d&&(a?f.push(wa(d+b,e)):f.push(c[1]));
return f},getMinorTicks:function(a){for(var b=this.getTicks(!0),c=[],d=this.getExtent(),e=1;e<b.length;e++){for(var f=b[e-1],g=0,h=[],k=(b[e]-f)/a;g<a-1;){var l=wa(f+(g+1)*k);l>d[0]&&l<d[1]&&h.push(l);g++}c.push(h)}return c},getLabel:function(a,b){if(a==null)return"";b=b&&b.precision;b==null?b=Dd(a)||0:b==="auto"&&(b=this._intervalPrecision);a=wa(a,b,!0);return Yc(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];isFinite(e)&&(e<0&&d.reverse(),e=a=zm((d[1]-d[0])/a,!0),b!=null&&e<
b&&(e=a=b),c!=null&&e>c&&(e=a=c),c=b=Dd(e)+2,e=c=[wa(Math.ceil(d[0]/e)*e,c),wa(Math.floor(d[1]/e)*e,c)],Kt(e,d),this._intervalPrecision=b,this._interval=a,this._niceExtent=c)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(b[0]!==0){var c=b[0];a.fixMax||(b[1]+=c/2);b[0]-=c/2}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=wa(Math.floor(b[0]/c)*c));a.fixMax||(b[1]=wa(Math.ceil(b[1]/c)*c))}});yc.create=
function(){return new yc};var Gp=typeof Float32Array!=="undefined"?Float32Array:Array,FG={seriesType:"bar",plan:Yf(),reset:function(a){if(a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"&&a.pipelineContext&&a.pipelineContext.large){var b=a.getData(),c=a.coordinateSystem,d=c.grid.getRect(),e=c.getBaseAxis(),f=c.getOtherAxis(e),g=b.mapDimension(f.dim),h=b.mapDimension(e.dim),k=f.isHorizontal(),l=k?0:1,m=Nt(cn([a]),e,a).width;m>.5||(m=.5);return{progress:function(n,p){var q=n.count,t=new Gp(q*
2),r=new Gp(q*2);q=new Gp(q);for(var u,v=[],x=[],w=0,z=0;(u=n.next())!=null;)x[l]=p.get(g,u),x[1-l]=p.get(h,u),v=c.dataToPoint(x,null,v),r[w]=k?d.x+d.width:v[0],t[w++]=v[0],r[w]=k?v[1]:d.y+d.height,t[w++]=v[1],q[z++]=u;p.setLayout({largePoints:t,largeDataIndices:q,largeBackgroundPoints:r,barWidth:m,valueAxisStart:f.toGlobalCoord(f.dataToCoord(f.type==="log"?1:0)),backgroundStart:k?d.x:d.y,valueAxisHorizontal:k})}}}}},GG=yc.prototype,uy=Math.ceil,vy=Math.floor,Ip=yc.extend({type:"time",getLabel:function(a){return Cm(this._stepLvl[0],
new Date(a),this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;b[0]===b[1]&&(b[0]-=864E5,b[1]+=864E5);if(b[1]===-Infinity&&b[0]===Infinity){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate());b[0]=b[1]-864E5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=wa(vy(b[0]/c)*c));a.fixMax||(b[1]=wa(uy(b[1]/c)*c))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],f=e/a;b!=null&&f<b&&(f=b);c!=null&&f>c&&(f=c);
b=Hp.length;c=Hp;for(var g=0,h=b;g<h;){var k=g+h>>>1;c[k][1]<f?g=k+1:h=k}b=Hp[Math.min(g,b-1)];c=b[1];b[0]==="year"&&(a=zm(e/c/a,!0),c*=a);a=this.getSetting("useUTC")?0:(new Date(+d[0]||+d[1])).getTimezoneOffset()*60*1E3;a=[Math.round(uy((d[0]-a)/c)*c+a),Math.round(vy((d[1]-a)/c)*c+a)];Kt(a,d);this._stepLvl=b;this._interval=c;this._niceExtent=a},parse:function(a){return+Pg(a)}});y(["contain","normalize"],function(a){Ip.prototype[a]=function(b){return GG[a].call(this,this.parse(b))}});var Hp=[["hh:mm:ss",
1E3],["hh:mm:ss",5E3],["hh:mm:ss",1E4],["hh:mm:ss",15E3],["hh:mm:ss",3E4],["hh:mm\nMM-dd",6E4],["hh:mm\nMM-dd",3E5],["hh:mm\nMM-dd",6E5],["hh:mm\nMM-dd",9E5],["hh:mm\nMM-dd",18E5],["hh:mm\nMM-dd",36E5],["hh:mm\nMM-dd",72E5],["hh:mm\nMM-dd",216E5],["hh:mm\nMM-dd",432E5],["MM-dd\nyyyy",864E5],["MM-dd\nyyyy",1728E5],["MM-dd\nyyyy",2592E5],["MM-dd\nyyyy",3456E5],["MM-dd\nyyyy",432E6],["MM-dd\nyyyy",5184E5],["week",6048E5],["MM-dd\nyyyy",864E6],["week",12096E5],["week",18144E5],["month",26784E5],["week",
36288E5],["month",53568E5],["week",6048E6],["quarter",8208E6],["month",107136E5],["month",13392E6],["half-year",16416E6],["month",214272E5],["month",26784E6],["year",32832E6]];Ip.create=function(a){return new Ip({useUTC:a.ecModel.get("useUTC")})};var tk=La.prototype,Ph=yc.prototype,HG=Math.floor,IG=Math.ceil,uk=Math.pow,Ic=Math.log,mj=La.extend({type:"log",base:10,$constructor:function(){La.apply(this,arguments);this._originalScale=new yc},getTicks:function(a){var b=this._originalScale,c=this._extent,
d=b.getExtent();return H(Ph.getTicks.call(this,a),function(e){var f=wa(uk(this.base,e));f=e===c[0]&&b.__fixMin?wa(f,Dd(d[0])):f;return e===c[1]&&b.__fixMax?wa(f,Dd(d[1])):f},this)},getMinorTicks:Ph.getMinorTicks,getLabel:Ph.getLabel,scale:function(a){a=tk.scale.call(this,a);return uk(this.base,a)},setExtent:function(a,b){var c=this.base;a=Ic(a)/Ic(c);b=Ic(b)/Ic(c);Ph.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=tk.getExtent.call(this);b[0]=uk(a,b[0]);b[1]=uk(a,b[1]);a=this._originalScale;
var c=a.getExtent();a.__fixMin&&(b[0]=wa(b[0],Dd(c[0])));a.__fixMax&&(b[1]=wa(b[1],Dd(c[1])));return b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Ic(a[0])/Ic(b);a[1]=Ic(a[1])/Ic(b);tk.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===Infinity||c<=0)){var d=Cs(c);for(a/c*d<=.5&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;)d*=10;a=[wa(IG(b[0]/
d)*d),wa(HG(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:function(a){Ph.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin;b.__fixMax=a.fixMax}});y(["contain","normalize"],function(a){mj.prototype[a]=function(b){b=Ic(b)/Ic(this.base);return tk[a].call(this,b)}});mj.create=function(){return new mj};var Oe={getMin:function(a){var b=this.option;a=a||b.rangeStart==null?b.min:b.rangeStart;this.axis&&a!=null&&a!=="dataMin"&&typeof a!=="function"&&!jg(a)&&(a=this.axis.scale.parse(a));
return a},getMax:function(a){var b=this.option;a=a||b.rangeEnd==null?b.max:b.rangeEnd;this.axis&&a!=null&&a!=="dataMax"&&typeof a!=="function"&&!jg(a)&&(a=this.axis.scale.parse(a));return a},getNeedCrossZero:function(){var a=this.option;return a.rangeStart!=null||a.rangeEnd!=null?!1:!a.scale},getCoordSysModel:Pa,setRange:function(a,b){this.option.rangeStart=a;this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},JG=Mb({type:"triangle",shape:{cx:0,cy:0,width:0,
height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d+b);a.lineTo(c-e,d+b);a.closePath()}}),KG=Mb({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d);a.lineTo(c,d+b);a.lineTo(c-e,d);a.closePath()}}),LG=Mb({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height);e/=2;b=e*e/(f-e);f=d-f+
e+b;var g=Math.asin(b/e),h=Math.cos(g)*e,k=Math.sin(g),l=Math.cos(g),m=e*.6,n=e*.7;a.moveTo(c-h,f+b);a.arc(c,f,e,Math.PI-g,Math.PI*2+g);a.bezierCurveTo(c+h-k*m,f+b+l*m,c,d-n,c,d);a.bezierCurveTo(c,d-n,c-h+k*m,f+b+l*m,c-h,f+b);a.closePath()}}),MG=Mb({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.x,e=b.y;b=b.width/3*2;a.moveTo(d,e);a.lineTo(d+b,e+c);a.lineTo(d,e+c/4*3);a.lineTo(d-b,e+c);a.lineTo(d,e);a.closePath()}}),NG={line:function(a,b,c,d,e){e.x1=a;e.y1=
b+d/2;e.x2=a+c;e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d},roundRect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){c=Math.min(c,d);e.x=a;e.y=b;e.width=c;e.height=c},circle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;
e.width=c;e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d}},Jp={};y({line:bb,rect:oa,roundRect:oa,square:oa,circle:Gc,diamond:KG,pin:LG,arrow:MG,triangle:JG},function(a,b){Jp[b]=new a});var jC=Mb({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,b,c){a=wl(a,b,c);var d=this.shape;d&&d.symbolType==="pin"&&b.textPosition==="inside"&&(a.y=c.y+c.height*.4);return a},buildPath:function(a,b,c){var d=b.symbolType;if(d!=="none"){var e=
Jp[d];e||(d="rect",e=Jp[d]);NG[d](b.x,b.y,b.width,b.height,e.shape);e.buildPath(a,e.shape,c)}}}),OG=(Object.freeze||Object)({createList:function(a){return bd(a.getSource(),a)},getLayoutRect:Ja,dataStack:{isDimensionStacked:ad,enableDataStack:Jt,getStackedDimension:ah},createScale:function(a,b){var c=b;ka.isInstance(b)||(c=new ka(b),pa(c,Oe));b=Hf(c);b.setExtent(a[0],a[1]);Hd(b,c);return b},mixinAxisModelCommonMethods:function(a){pa(a,Oe)},completeDimensions:Ht,createDimensions:Gf,createSymbol:Db});
dh.prototype={constructor:dh,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;var b=Number.MAX_VALUE;a=[b,b];b=[-b,-b];for(var c=[],d=[],e=this.geometries,f=0;f<e.length;f++)e[f].type==="polygon"&&(wg(e[f].exterior,c,d),Nc(a,a,c),Oc(b,b,d));f===0&&(a[0]=a[1]=b[0]=b[1]=0);return this._rect=new ea(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;b=0;var d=c.length;a:for(;b<d;b++)if(c[b].type===
"polygon"){var e=c[b].interiors;if(xe(c[b].exterior,a[0],a[1])){for(var f=0;f<(e?e.length:0);f++)if(xe(e[f]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;a=new ea(a,b,c,d);e=e.calculateTransform(a);b=this.geometries;for(c=0;c<b.length;c++)if(b[c].type==="polygon"){var g=b[c].exterior;d=b[c].interiors;for(f=0;f<g.length;f++)sa(g[f],g[f],e);for(g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)sa(d[g][f],d[g][f],e)}e=
this._rect;e.copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]},cloneShallow:function(a){a==null&&(a=this.name);a=new dh(a,this.geometries,this.center);a._rect=this._rect;a.transformTo=null;return a}};var Kp=function(a,b){kC(a);return H(Na(a.features,function(c){return c.geometry&&c.properties&&c.geometry.coordinates.length>0}),function(c){var d=c.properties;c=c.geometry;var e=c.coordinates,f=[];c.type==="Polygon"&&f.push({type:"polygon",exterior:e[0],interiors:e.slice(1)});c.type==="MultiPolygon"&&
y(e,function(g){g[0]&&f.push({type:"polygon",exterior:g[0],interiors:g.slice(1)})});c=new dh(d[b||"name"],f,d.cp);c.properties=d;return c})},eh=ob(),wy=[0,1],Ma=function(a,b,c){this.dim=a;this.scale=b;this._extent=c||[0,0];this.onBand=this.inverse=!1};Ma.prototype={constructor:Ma,contain:function(a){var b=this._extent,c=Math.max(b[0],b[1]);return a>=Math.min(b[0],b[1])&&a<=c},containData:function(a){return this.scale.contain(a)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return wm(a||
this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a;c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;a=d.normalize(a);this.onBand&&d.type==="ordinal"&&(c=c.slice(),Yt(c,d.count()));return ia(a,wy,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&d.type==="ordinal"&&(c=c.slice(),Yt(c,d.count()));a=ia(a,c,wy,b);return this.scale.scale(a)},pointToData:function(a,b){},getTicksCoords:function(a){a=a||{};var b=a.tickModel||
this.getTickModel(),c=(this.type==="category"?lC(this,b):{ticks:this.scale.getTicks()}).ticks;c=H(c,function(d){return{coord:this.dataToCoord(d),tickValue:d}},this);b=b.get("alignWithLabel");nC(this,c,b,a.clamp);return c},getMinorTicksCoords:function(){if(this.scale.type==="ordinal")return[];var a=this.model.getModel("minorTick").get("splitNumber");a>0&&a<100||(a=5);a=this.scale.getMinorTicks(a);return H(a,function(b){return H(b,function(c){return{coord:this.dataToCoord(c),tickValue:c}},this)},this)},
getViewLabels:function(){if(this.type==="category"){var a=this.getLabelModel(),b=St(this,a);a=!a.get("show")||this.scale.isBlank()?{labels:[],labelCategoryInterval:b.labelCategoryInterval}:b}else a=mC(this);return a.labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent();b=b[1]-b[0]+(this.onBand?1:0);b===0&&(b=1);return Math.abs(Math.abs(a[1]-a[0]))/
b},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){var a=this.getLabelModel(),b=this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,c=a.get("rotate")||0;a=a.getFont();var d=ch(this),e=(b-c)/180*Math.PI;b=this.scale;c=b.getExtent();b=b.count();if(c[1]-c[0]<1)b=0;else{var f=1;b>40&&(f=Math.max(1,Math.floor(b/40)));var g=c[0],h=this.dataToCoord(g+1)-this.dataToCoord(g),k=Math.abs(h*Math.cos(e));e=Math.abs(h*Math.sin(e));var l=0;for(h=0;g<=c[1];g+=f){var m=
qc(d(g),a,"center","top"),n=m.width*1.3;m=m.height*1.3;l=Math.max(l,n,7);h=Math.max(h,m,7)}a=l/k;d=h/e;isNaN(a)&&(a=Infinity);isNaN(d)&&(d=Infinity);a=Math.max(0,Math.floor(Math.min(a,d)));d=eh(this.model);c=this.getExtent();f=d.lastAutoInterval;g=d.lastTickCount;f!=null&&g!=null&&Math.abs(f-a)<=1&&Math.abs(g-b)<=1&&f>a&&d.axisExtend0===c[0]&&d.axisExtend1===c[1]?a=f:(d.lastTickCount=b,d.lastAutoInterval=a,d.axisExtend0=c[0],d.axisExtend1=c[1]);b=a}return b}};var xy={};y("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),
function(a){xy[a]=aG[a]});var yy={};y("extendShape extendPath makePath makeImage mergePath resizePath createIcon setHoverStyle setLabelStyle setTextStyle setText getFont updateProps initProps getTransform clipPointsByRect clipRectByRect registerShape getShapeClass Group Image Text Circle Sector Ring Polygon Polyline Rect Line BezierCurve Arc IncrementalDisplayable CompoundPath LinearGradient RadialGradient BoundingRect".split(" "),function(a){yy[a]=fd[a]});Ea.extend({type:"series.line",dependencies:["grid",
"polar"],getInitialData:function(a,b){if(I&&(a=a.coordinateSystem,a!=="polar"&&a!=="cartesian2d"))throw Error("Line not support coordinateSystem besides cartesian and polar");return bd(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",
connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});var lc=Id.prototype,PG=Id.getSymbolSize=function(a,b){a=a.getItemVisual(b,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};lc._createSymbol=function(a,b,c,d,e){this.removeAll();b=b.getItemVisual(c,"color");e=Db(a,-1,-1,2,2,b,e);e.attr({z2:100,culling:!0,scale:[d[0]/2,d[1]/2]});e.drift=oC;this._symbolType=a;this.add(e)};lc.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)};
lc.getSymbolPath=function(){return this.childAt(0)};lc.getScale=function(){return this.childAt(0).scale};lc.highlight=function(){this.childAt(0).trigger("emphasis")};lc.downplay=function(){this.childAt(0).trigger("normal")};lc.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a;c.z=b};lc.setDraggable=function(a){var b=this.childAt(0);b.draggable=a;b.cursor=a?"move":b.cursor};lc.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,f=PG(a,b),g=d!==this._symbolType;
if(g){var h=a.getItemVisual(b,"symbolKeepAspect");this._createSymbol(d,a,b,f,h)}else d=this.childAt(0),d.silent=!1,ba(d,{scale:[f[0]/2,f[1]/2]},e,b);this._updateCommon(a,b,f,c);g&&(d=this.childAt(0),a=c&&c.fadeIn,c={scale:d.scale.slice()},a&&(c.style={opacity:d.style.opacity}),d.scale=[0,0],a&&(d.style.opacity=0),eb(d,c,e,b));this._seriesModel=e};var QG=["itemStyle"],RG=["emphasis","itemStyle"],SG=["label"],TG=["emphasis","label"];lc._updateCommon=function(a,b,c,d){var e=this.childAt(0),f=a.hostModel,
g=a.getItemVisual(b,"color");e.type!=="image"?e.useStyle({strokeNoScale:!0}):e.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var h=d&&d.itemStyle,k=d&&d.hoverItemStyle,l=d&&d.symbolOffset,m=d&&d.labelModel,n=d&&d.hoverLabelModel,p=d&&d.hoverAnimation,q=d&&d.cursorStyle;if(!d||a.hasItemOption){var t=d&&d.itemModel?d.itemModel:a.getItemModel(b);h=t.getModel(QG).getItemStyle(["color"]);k=t.getModel(RG).getItemStyle();l=t.getShallow("symbolOffset");m=t.getModel(SG);
n=t.getModel(TG);p=t.getShallow("hoverAnimation");q=t.getShallow("cursor")}else k=U({},k);t=e.style;var r=a.getItemVisual(b,"symbolRotate");e.attr("rotation",(r||0)*Math.PI/180||0);l&&e.attr("position",[G(l[0],c[0]),G(l[1],c[1])]);q&&e.attr("cursor",q);e.setColor(g,d&&d.symbolInnerColor);e.setStyle(h);h=a.getItemVisual(b,"opacity");h!=null&&(t.opacity=h);h=a.getItemVisual(b,"liftZ");l=e.__z2Origin;h!=null?l==null&&(e.__z2Origin=e.z2,e.z2+=h):l!=null&&(e.z2=l,e.__z2Origin=null);var u=d&&d.useNameLabel;
yb(t,k,m,n,{labelFetcher:f,labelDataIndex:b,defaultText:function(v,x){return u?a.getName(v):ij(a,v)},isRectText:!0,autoColor:g});e.__symbolOriginalScale=[c[0]/2,c[1]/2];e.hoverStyle=k;e.highDownOnUpdate=p&&f.isAnimationEnabled()?pC:null;Aa(e)};lc.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0;b&&b.keepLabel||(c.style.text=null);ba(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)};ua(Id,O);var Zf=If.prototype;Zf.updateData=function(a,b){b=Zt(b);var c=this.group,
d=a.hostModel,e=this._data,f=this._symbolCtor,g=$t(a);e||c.removeAll();a.diff(e).add(function(h){var k=a.getItemLayout(h);if(gn(a,k,h,b)){var l=new f(a,h,g);l.attr("position",k);a.setItemGraphicEl(h,l);c.add(l)}}).update(function(h,k){k=e.getItemGraphicEl(k);var l=a.getItemLayout(h);gn(a,l,h,b)?(k?(k.updateData(a,h,g),ba(k,{position:l},d)):(k=new f(a,h),k.attr("position",l)),c.add(k),a.setItemGraphicEl(h,k)):c.remove(k)}).remove(function(h){var k=e.getItemGraphicEl(h);k&&k.fadeOut(function(){c.remove(k)})}).execute();
this._data=a};Zf.isPersistent=function(){return!0};Zf.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){c=a.getItemLayout(c);b.attr("position",c)})};Zf.incrementalPrepareUpdate=function(a){this._seriesScope=$t(a);this._data=null;this.group.removeAll()};Zf.incrementalUpdate=function(a,b,c){function d(h){h.isGroup||(h.incremental=h.useHoverLayer=!0)}c=Zt(c);for(var e=a.start;e<a.end;e++){var f=b.getItemLayout(e);if(gn(b,f,e,c)){var g=new this._symbolCtor(b,e,this._seriesScope);
g.traverse(d);g.attr("position",f);this.group.add(g);b.setItemGraphicEl(e,g)}}};Zf.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(d){d.fadeOut(function(){b.remove(d)})}):b.removeAll()};var UG=function(a,b,c,d,e,f,g,h){var k=rC(a,b),l=[],m=[],n=[],p=[],q=[],t=[],r=[],u=hn(e,b,g),v=hn(f,a,h);for(h=0;h<k.length;h++){var x=k[h],w=!0;switch(x.cmd){case "\x3d":g=a.getItemLayout(x.idx);var z=b.getItemLayout(x.idx1);if(isNaN(g[0])||isNaN(g[1]))g=z.slice();l.push(g);m.push(z);
n.push(c[x.idx]);p.push(d[x.idx1]);r.push(b.getRawIndex(x.idx1));break;case "+":g=x.idx;l.push(e.dataToPoint([b.get(u.dataDimsForPoint[0],g),b.get(u.dataDimsForPoint[1],g)]));m.push(b.getItemLayout(g).slice());n.push(jn(u,e,b,g));p.push(d[g]);r.push(b.getRawIndex(g));break;case "-":g=x.idx,z=a.getRawIndex(g),z!==g?(l.push(a.getItemLayout(g)),m.push(f.dataToPoint([a.get(v.dataDimsForPoint[0],g),a.get(v.dataDimsForPoint[1],g)])),n.push(c[g]),p.push(jn(v,f,a,g)),r.push(z)):w=!1}w&&(q.push(x),t.push(t.length))}t.sort(function(A,
B){return r[A]-r[B]});a=[];b=[];c=[];d=[];e=[];for(h=0;h<t.length;h++)g=t[h],a[h]=l[g],b[h]=m[g],c[h]=n[g],d[h]=p[g],e[h]=q[g];return{current:a,next:b,stackedOnCurrent:c,stackedOnNext:d,status:e}},bu=Nc,cu=Oc,au=kg,jj=Xa,ln=[],Qb=[],Rb=[],VG=ha.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:tp(ha.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=mn(c,b.smoothConstraint);if(b.connectNulls){for(;e>
0&&cd(c[e-1]);e--);for(;d<e&&cd(c[d]);d++);}for(;d<e;)d+=kn(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),zy=ha.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:tp(ha.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=mn(c,b.smoothConstraint),k=mn(d,b.smoothConstraint);if(b.connectNulls){for(;f>0&&cd(c[f-1]);f--);
for(;e<f&&cd(c[e]);e++);}for(;e<f;){var l=kn(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);kn(a,d,e+l-1,l,f,-1,k.min,k.max,b.stackedOnSmooth,g,b.connectNulls);e+=l+1;a.closePath()}}});Sa.extend({type:"line",init:function(){var a=new O,b=new If;this.group.add(b.group);this._symbolDraw=b;this._lineGroup=a},render:function(a,b,c){b=a.coordinateSystem;var d=this.group,e=a.getData(),f=a.getModel("lineStyle"),g=a.getModel("areaStyle"),h=e.mapArray(e.getItemLayout),k=b.type==="polar",l=this._coordSys,
m=this._symbolDraw,n=this._polyline,p=this._polygon,q=this._lineGroup,t=a.get("animation"),r=!g.isEmpty(),u=g.get("origin"),v=hn(b,e,u);v=uC(b,e,v);var x=a.get("showSymbol"),w=x&&!k&&wC(a,e,b),z=this._data;z&&z.eachItemGraphicEl(function(B,C){B.__temp&&(d.remove(B),z.setItemGraphicEl(C,null))});x||m.remove();d.add(q);k=!k&&a.get("step");if(b&&b.getArea&&a.get("clip",!0)){var A=b.getArea();A.width!=null?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r1+=.5)}this._clipShapeForSymbol=A;
n&&l.type===b.type&&k===this._step?(r&&!p?p=this._newPolygon(h,v,b,t):p&&!r&&(q.remove(p),p=this._polygon=null),q.setClipPath(iu(b,!1,a)),x&&m.updateData(e,{isIgnore:w,clipShape:A}),e.eachItemGraphicEl(function(B){B.stopAnimation(!0)}),fu(this._stackedOnPoints,v)&&fu(this._points,h)||(t?this._updateAnimation(e,v,b,c,k,u):(k&&(h=Jd(h,b,k),v=Jd(v,b,k)),n.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:v})))):(x&&m.updateData(e,{isIgnore:w,clipShape:A}),k&&(h=Jd(h,b,k),v=Jd(v,b,k)),n=this._newPolyline(h,
b,t),r&&(p=this._newPolygon(h,v,b,t)),q.setClipPath(iu(b,!0,a)));c=vC(e,b)||e.getVisual("color");n.useStyle(Q(f.getLineStyle(),{fill:"none",stroke:c,lineJoin:"bevel"}));f=a.get("smooth");f=hu(a.get("smooth"));n.setShape({smooth:f,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});p&&(n=e.getCalculationInfo("stackedOnSeries"),A=0,p.useStyle(Q(g.getAreaStyle(),{fill:c,opacity:.7,lineJoin:"bevel"})),n&&(A=hu(n.get("smooth"))),p.setShape({smooth:f,stackedOnSmooth:A,smoothMonotone:a.get("smoothMonotone"),
connectNulls:a.get("connectNulls")}));this._data=e;this._coordSys=b;this._stackedOnPoints=v;this._points=h;this._step=k;this._valueOrigin=u},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=ki(e,d);if(!(f instanceof Array)&&f!=null&&f>=0){b=e.getItemGraphicEl(f);if(!b){c=e.getItemLayout(f);if(!c||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c[0],c[1]))return;b=new Id(e,f);b.position=c;b.setZ(a.get("zlevel"),a.get("z"));b.ignore=isNaN(c[0])||isNaN(c[1]);b.__temp=
!0;e.setItemGraphicEl(f,b);b.stopSymbolAnimation(!0);this.group.add(b)}b.highlight()}else Sa.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=ki(e,d);if(f!=null&&f>=0){if(a=e.getItemGraphicEl(f))a.__temp?(e.setItemGraphicEl(f,null),this.group.remove(a)):a.downplay()}else Sa.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;b&&this._lineGroup.remove(b);b=new VG({shape:{points:a},silent:!0,z2:10});this._lineGroup.add(b);return this._polyline=
b},_newPolygon:function(a,b){var c=this._polygon;c&&this._lineGroup.remove(c);c=new zy({shape:{points:a,stackedOnPoints:b},silent:!0});this._lineGroup.add(c);return this._polygon=c},_updateAnimation:function(a,b,c,d,e,f){var g=this._polyline;d=this._polygon;var h=a.hostModel;b=UG(this._data,a,this._stackedOnPoints,b,this._coordSys,c,this._valueOrigin,f);f=b.current;var k=b.stackedOnCurrent,l=b.next,m=b.stackedOnNext;e&&(f=Jd(b.current,c,e),k=Jd(b.stackedOnCurrent,c,e),l=Jd(b.next,c,e),m=Jd(b.stackedOnNext,
c,e));if(gu(f,l)>3E3||d&&gu(k,m)>3E3)g.setShape({points:l}),d&&d.setShape({points:l,stackedOnPoints:m});else{g.shape.__points=b.current;g.shape.points=f;ba(g,{shape:{points:l}},h);d&&(d.setShape({points:f,stackedOnPoints:k}),ba(d,{shape:{points:l,stackedOnPoints:m}},h));var n=[];c=b.status;for(e=0;e<c.length;e++)c[e].cmd==="\x3d"&&(d=a.getItemGraphicEl(c[e].idx1))&&n.push({el:d,ptIdx:e});g.animators&&g.animators.length&&g.animators[0].during(function(){for(var p=0;p<n.length;p++)n[p].el.attr("position",
g.shape.__points[n[p].ptIdx])})}},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(d,e){d.__temp&&(b.remove(d),c.setItemGraphicEl(e,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Pe=function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(d,e,f){function g(u,v){if(t){var x=d.getRawValue(v),w=d.getDataParams(v);n&&u.setItemVisual(v,"symbol",
h(x,w));p&&u.setItemVisual(v,"symbolSize",k(x,w));q&&u.setItemVisual(v,"symbolRotate",m(x,w))}if(u.hasItemOption){var z=u.getItemModel(v);x=z.getShallow("symbol",!0);w=z.getShallow("symbolSize",!0);var A=z.getShallow("symbolRotate",!0);z=z.getShallow("symbolKeepAspect",!0);x!=null&&u.setItemVisual(v,"symbol",x);w!=null&&u.setItemVisual(v,"symbolSize",w);A!=null&&u.setItemVisual(v,"symbolRotate",A);z!=null&&u.setItemVisual(v,"symbolKeepAspect",z)}}f=d.getData();var h=d.get("symbol"),k=d.get("symbolSize"),
l=d.get("symbolKeepAspect"),m=d.get("symbolRotate"),n=Oa(h),p=Oa(k),q=Oa(m),t=n||p||q,r=!n&&h?h:b;f.setVisual({legendSymbol:c||r,symbol:r,symbolSize:p?null:k,symbolKeepAspect:l,symbolRotate:m});if(!e.isSeriesFiltered(d))return{dataEach:f.hasItemOption||t?g:null}}}},Qh=function(a){return{seriesType:a,plan:Yf(),reset:function(b){function c(k,l){var m=k.end-k.start;m=f&&new Float32Array(m*h);for(var n=k.start,p=0,q=[],t=[];n<k.end;n++){if(h===1){var r=l.get(g[0],n);r=!isNaN(r)&&e.dataToPoint(r,null,
t)}else{r=q[0]=l.get(g[0],n);var u=q[1]=l.get(g[1],n);r=!isNaN(r)&&!isNaN(u)&&e.dataToPoint(q,null,t)}f?(m[p++]=r?r[0]:NaN,m[p++]=r?r[1]:NaN):l.setItemLayout(n,r&&r.slice()||[NaN,NaN])}f&&l.setLayout("symbolPoints",m)}var d=b.getData(),e=b.coordinateSystem,f=b.pipelineContext.large;if(e){var g=H(e.dimensions,function(k){return d.mapDimension(k)}).slice(0,2),h=g.length;b=d.getCalculationInfo("stackResultDimension");ad(d,g[0])&&(g[0]=b);ad(d,g[1])&&(g[1]=b);return h&&{progress:c}}}}},WG={average:function(a){for(var b=
0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return c===0?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-Infinity,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=Infinity,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},nearest:function(a){return a[0]}},XG=function(a,b){return Math.round(a.length/2)},lj=function(a){this._axes={};this._dimList=[];this.name=a||""};lj.prototype={constructor:lj,
type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return H(this._dimList,yC,this)},getAxesByScale:function(a){a=a.toLowerCase();return Na(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a;this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof
Array?[]:{},e=0;e<c.length;e++){var f=c[e];d[f]=this._axes[f][b](a[f])}return d}};fh.prototype={constructor:fh,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},
dataToPoint:function(a,b,c){b=this.getAxis("x");var d=this.getAxis("y");c=c||[];c[0]=b.toGlobalCoord(b.dataToCoord(a[0]));c[1]=d.toGlobalCoord(d.dataToCoord(a[1]));return c},clampData:function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),f=d.getExtent();c=c.parse(a[0]);a=d.parse(a[1]);b=b||[];b[0]=Math.min(Math.max(Math.min(e[0],e[1]),c),Math.max(e[0],e[1]));b[1]=Math.min(Math.max(Math.min(f[0],f[1]),a),Math.max(f[0],f[1]));return b},pointToData:function(a,b){var c=
this.getAxis("x"),d=this.getAxis("y");b=b||[];b[0]=c.coordToData(c.toLocalCoord(a[0]));b[1]=d.coordToData(d.toLocalCoord(a[1]));return b},getOtherAxis:function(a){return this.getAxis(a.dim==="x"?"y":"x")},getArea:function(){var a=this.getAxis("x").getGlobalExtent(),b=this.getAxis("y").getGlobalExtent(),c=Math.min(a[0],a[1]),d=Math.min(b[0],b[1]);return new ea(c,d,Math.max(a[0],a[1])-c,Math.max(b[0],b[1])-d)}};ua(fh,lj);var vk=function(a,b,c,d,e){Ma.call(this,a,b,c);this.type=d||"value";this.position=
e||"bottom"};vk.prototype={constructor:vk,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},getGlobalExtent:function(a){var b=this.getExtent();b[0]=this.toGlobalCoord(b[0]);b[1]=this.toGlobalCoord(b[1]);a&&b[0]>b[1]&&b.reverse();return b},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),b)},toLocalCoord:null,toGlobalCoord:null};ua(vk,Ma);var Ay=
{show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,
fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Xd={};Xd.categoryAxis=Y({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ay);Xd.valueAxis=Y({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Ay);Xd.timeAxis=
Q({scale:!0,min:"dataMin",max:"dataMax"},Xd.valueAxis);Xd.logAxis=Q({scale:!0,logBase:10},Xd.valueAxis);var YG=["value","category","time","log"],$f=function(a,b,c,d){y(YG,function(e){b.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(f,g){var h=this.layoutMode,k=h?ue({},f):{};g=g.getTheme();Y(f,g.get(e+"Axis"));Y(f,this.getDefaultOption());f.type=c(a,f);h&&Ed(f,k,h)},optionUpdated:function(){this.option.type==="category"&&(this.__ordinalMeta=bh.createByAxisModel(this))},getCategories:function(f){var g=
this.option;if(g.type==="category")return f?g.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:hg([{},Xd[e+"Axis"],d],!0)})});na.registerSubTypeDefaulter(a+"Axis",R(c,a))},ag=na.extend({type:"cartesian2dAxis",axis:null,init:function(){ag.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){ag.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){ag.superApply(this,"restoreData",arguments);this.resetRange()},
getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});Y(ag.prototype,Oe);var By={offset:0};$f("x",ag,ju,By);$f("y",ag,ju,By);na.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var gb=Jf.prototype;gb.type="grid";gb.axisPointerEnabled=
!0;gb.getRect=function(){return this._rect};gb.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model);y(c.x,function(e){Hd(e.scale,e.model)});y(c.y,function(e){Hd(e.scale,e.model)});var d={};y(c.x,function(e){ku(c,"y",e,d)});y(c.y,function(e){ku(c,"x",e,d)});this.resize(this.model,b)};gb.resize=function(a,b,c){function d(){y(f,function(g){var h=g.isHorizontal(),k=h?[0,e.width]:[0,e.height],l=g.inverse?1:0;g.setExtent(k[l],k[1-l]);zC(g,h?e.x:e.y)})}var e=Ja(a.getBoxLayoutParams(),
{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d();!c&&a.get("containLabel")&&(y(f,function(g){if(!g.model.get("axisLabel.inside")){var h=g.scale;if(!g.model.get("axisLabel.show")||h.isBlank())var k=void 0;else{var l=g.type==="category",m=h.getExtent();l?h=h.count():(k=h.getTicks(),h=k.length);l=g.getLabelModel();var n=ch(g),p,q=1;h>40&&(q=Math.ceil(h/40));for(var t=0;t<h;t+=q){var r=n(k?k[t]:m[0]+t),u=l.getTextRect(r);r=(l.get("rotate")||0)*Math.PI/180;u=u.plain();var v=
u.width,x=u.height;r=new ea(u.x,u.y,v*Math.abs(Math.cos(r))+Math.abs(x*Math.sin(r)),v*Math.abs(Math.sin(r))+Math.abs(x*Math.cos(r)));p?p.union(r):p=r}k=p}k&&(m=g.isHorizontal()?"height":"width",p=g.model.get("axisLabel.margin"),e[m]-=k[m]+p,g.position==="top"?e.y+=k.height+p:g.position==="left"&&(e.x+=k.width+p))}}),d())};gb.getAxis=function(a,b){a=this._axesMap[a];if(a!=null){if(b==null)for(var c in a)if(a.hasOwnProperty(c))return a[c];return a[b]}};gb.getAxes=function(){return this._axesList.slice()};
gb.getCartesian=function(a,b){if(a!=null&&b!=null)return this._coordsMap["x"+a+"y"+b];X(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===a||d[c].getAxis("y").index===b)return d[c]};gb.getCartesians=function(){return this._coordsList.slice()};gb.convertToPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.dataToPoint(c):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(c)):null};gb.convertFromPixel=function(a,
b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.pointToData(c):a.axis?a.axis.coordToData(a.axis.toLocalCoord(c)):null};gb._findConvertTarget=function(a,b){a=b.seriesModel;var c=b.xAxisModel||a&&a.getReferringComponents("xAxis")[0],d=b.yAxisModel||a&&a.getReferringComponents("yAxis")[0];b=b.gridModel;var e=this._coordsList,f;if(a){var g=a.coordinateSystem;ma(e,g)<0&&(g=null)}else c&&d?g=this.getCartesian(c.componentIndex,d.componentIndex):c?f=this.getAxis("x",c.componentIndex):d?
f=this.getAxis("y",d.componentIndex):b&&b.coordinateSystem===this&&(g=this._coordsList[0]);return{cartesian:g,axis:f}};gb.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)};gb._initCartesian=function(a,b,c){function d(h){return function(k,l){if(k.getCoordSysModel()===a){var m=k.get("position");h==="x"?m!=="top"&&m!=="bottom"&&(m=e.bottom?"top":"bottom"):m!=="left"&&m!=="right"&&(m=e.left?"right":"left");e[m]=!0;m=new vk(h,Hf(k),[0,0],k.get("type"),m);m.onBand=m.type===
"category"&&k.get("boundaryGap");m.inverse=k.get("inverse");k.axis=m;m.model=k;m.grid=this;m.index=l;this._axesList.push(m);f[h][l]=m;g[h]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};b.eachComponent("xAxis",d("x"),this);b.eachComponent("yAxis",d("y"),this);g.x&&g.y?(this._axesMap=f,y(f.x,function(h,k){y(f.y,function(l,m){m="x"+k+"y"+m;var n=new fh(m);n.grid=this;n.model=a;this._coordsMap[m]=n;this._coordsList.push(n);n.addAxis(h);n.addAxis(l)},this)},this)):(this._axesMap=
{},this._axesList=[])};gb._updateScale=function(a,b){function c(d,e,f){y(d.mapDimension(e.dim,!0),function(g){e.scale.unionExtentFromData(d,ah(d,g))})}y(this._axesList,function(d){d.scale.setExtent(Infinity,-Infinity)});a.eachSeries(function(d){if(nu(d)){var e=mu(d,a),f=e[0];e=e[1];var g;(g=f.getCoordSysModel()!==b)||(g=e.getCoordSysModel()!==b);g||(g=this.getCartesian(f.componentIndex,e.componentIndex),f=d.getData(),e=g.getAxis("x"),g=g.getAxis("y"),f.type==="list"&&(c(f,e,d),c(f,g,d)))}},this)};
gb.getTooltipAxes=function(a){var b=[],c=[];y(this.getCartesians(),function(d){var e=a!=null&&a!=="auto"?d.getAxis(a):d.getBaseAxis();d=d.getOtherAxis(e);ma(b,e)<0&&b.push(e);ma(c,d)<0&&c.push(d)});return{baseAxes:b,otherAxes:c}};var AC=["xAxis","yAxis"];Jf.create=function(a,b){var c=[];a.eachComponent("grid",function(d,e){var f=new Jf(d,a,b);f.name="grid_"+e;f.resize(d,b,!0);d.coordinateSystem=f;c.push(f)});a.eachSeries(function(d){if(nu(d)){var e=mu(d,a),f=e[0];e=e[1];var g=f.getCoordSysModel();
if(I){if(!g)throw Error('Grid "'+xa(f.get("gridIndex"),f.get("gridId"),0)+'" not found');if(f.getCoordSysModel()!==e.getCoordSysModel())throw Error("xAxis and yAxis must use the same grid");}d.coordinateSystem=g.coordinateSystem.getCartesian(f.componentIndex,e.componentIndex)}});return c};Jf.dimensions=Jf.prototype.dimensions=fh.prototype.dimensions;$a.register("cartesian2d",Jf);var Kd=Math.PI,tb=function(a,b){this.opt=b;this.axisModel=a;Q(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,
silent:!0});this.group=new O;a=new O({position:b.position.slice(),rotation:b.rotation});a.updateTransform();this._transform=a.transform;this._dumbGroup=a};tb.prototype={constructor:tb,hasBuilder:function(a){return!!Cy[a]},add:function(a){Cy[a].call(this)},getGroup:function(){return this.group}};var Cy={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0];c=[c[1],0];d&&(sa(e,e,d),sa(c,c,d));var f=U({lineCap:"round"},
b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new bb({anid:"line",subPixelOptimize:!0,shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:f,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1}));var g=b.get("axisLine.symbol");d=b.get("axisLine.symbolSize");b=b.get("axisLine.symbolOffset")||0;typeof b==="number"&&(b=[b,b]);if(g!=null){typeof g==="string"&&(g=[g,g]);if(typeof d==="string"||typeof d==="number")d=[d,d];var h=d[0],k=d[1];y([{rotate:a.rotation+Math.PI/2,offset:b[0],
r:0},{rotate:a.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((e[0]-c[0])*(e[0]-c[0])+(e[1]-c[1])*(e[1]-c[1]))}],function(l,m){if(g[m]!=="none"&&g[m]!=null){m=Db(g[m],-h/2,-k/2,h,k,f.stroke,!0);var n=l.r+l.offset;m.attr({rotation:l.rotate,position:[e[0]+n*Math.cos(a.rotation),e[1]-n*Math.sin(a.rotation)],silent:!0,z2:11});this.group.add(m)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c=a.axis,d=a.getModel("axisTick");if(!d.get("show")||c.scale.isBlank())var e=void 0;else for(e=
d.getModel("lineStyle"),d=b.tickDirection*d.get("length"),c=c.getTicksCoords(),e=pu(c,this._transform,d,Q(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<e.length;c++)this.group.add(e[c]);var f=CC(this,a,b),g=e;if(!Qt(a.axis)){e=a.get("axisLabel.showMinLabel");c=a.get("axisLabel.showMaxLabel");f=f||[];g=g||[];d=f[0];var h=f[1],k=f[f.length-1];f=f[f.length-2];var l=g[0],m=g[1],n=g[g.length-1];g=g[g.length-2];e===!1?(Sb(d),Sb(l)):ou(d,h)&&(e?(Sb(h),Sb(m)):(Sb(d),Sb(l)));
c===!1?(Sb(k),Sb(n)):ou(f,k)&&(c?(Sb(f),Sb(g)):(Sb(k),Sb(n)))}e=a.axis;c=a.getModel("minorTick");if(c.get("show")&&!e.scale.isBlank()&&(e=e.getMinorTicksCoords(),e.length))for(d=c.getModel("lineStyle"),b=b.tickDirection*c.get("length"),a=Q(d.getLineStyle(),Q(a.getModel("axisTick").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})),c=0;c<e.length;c++)for(d=pu(e[c],this._transform,b,a,"minorticks_"+c),h=0;h<d.length;h++)this.group.add(d[h])},axisName:function(){var a=this.opt,b=this.axisModel,
c=xa(a.axisName,b.get("name"));if(c){var d=b.get("nameLocation"),e=a.nameDirection,f=b.getModel("nameTextStyle"),g=b.get("nameGap")||0,h=this.axisModel.axis.getExtent(),k=h[0]>h[1]?-1:1;g=[d==="start"?h[0]-k*g:d==="end"?h[1]+k*g:(h[0]+h[1])/2,d==="middle"||d==="center"?a.labelOffset+e*g:0];k=b.get("nameRotate");k!=null&&(k=k*Kd/180);if(d==="middle"||d==="center")d=qu(a.rotation,k!=null?k:a.rotation,e);else{d=BC(a,d,k||0,h);var l=a.axisNameAvailableWidth;l!=null&&(l=Math.abs(l/Math.sin(d.rotation)),
!isFinite(l)&&(l=null))}e=f.getFont();h=b.get("nameTruncate",!0)||{};k=h.ellipsis;a=xa(a.nameTruncateMaxWidth,h.maxWidth,l);a=k!=null&&a!=null?my(c,a,e,k,{minChar:2,placeholder:h.placeholder}):c;l=b.get("tooltip",!0);h=b.mainType;k={componentType:h,name:c,$vars:["name"]};k[h+"Index"]=b.componentIndex;g=new fa({anid:"name",__fullText:c,__truncatedText:a,position:g,rotation:d.rotation,silent:ru(b),z2:1,tooltip:l&&l.show?U({content:c,formatter:function(){return c},formatterParams:k},l):null});Ca(g.style,
f,{text:a,textFont:e,textFill:f.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:f.get("align")||d.textAlign,textVerticalAlign:f.get("verticalAlign")||d.textVerticalAlign});b.get("triggerEvent")&&(g.eventData=su(b),g.eventData.targetType="axisName",g.eventData.name=c);this._dumbGroup.add(g);g.updateTransform();this.group.add(g);g.decomposeTransform()}}},su=tb.makeAxisEventDataBase=function(a){var b={componentType:a.mainType,componentIndex:a.componentIndex};b[a.mainType+"Index"]=a.componentIndex;
return b},qu=tb.innerTextLayout=function(a,b,c){a=xm(b-a);Og(a)?(b=c>0?"top":"bottom",c="center"):Og(a-Kd)?(b=c>0?"bottom":"top",c="center"):(b="middle",c=a>0&&a<Kd?c>0?"right":"left":c>0?"left":"right");return{rotation:a,textAlign:c,textVerticalAlign:b}},ru=tb.isLabelSilent=function(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)},Kf=y,on=R,Eb=Ta({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){if(this.axisPointerClass){var e=pn(a);
if(e){var f=e.axisPointerModel,g=e.axis.scale,h=f.option,k=f.get("status"),l=f.get("value");l!=null&&(l=g.parse(l));f=!!f.get("handle.show");k==null&&(h.status=f?"show":"hide");g=g.getExtent().slice();g[0]>g[1]&&g.reverse();if(l==null||l>g[1])l=g[1];l<g[0]&&(l=g[0]);h.value=l;f&&(h.status=e.axis.scale.isBlank()?"hide":"show")}}Eb.superApply(this,"render",arguments);tu(this,a,b,c,d,!0)},updateAxisPointer:function(a,b,c,d,e){tu(this,a,b,c,d,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b);
Eb.superApply(this,"remove",arguments)},dispose:function(a,b){var c=this._axisPointer;c&&c.dispose(b,void 0);this._axisPointer=null;Eb.superApply(this,"dispose",arguments)}}),Lp=[];Eb.registerAxisPointerClass=function(a,b){if(I&&Lp[a])throw Error("axisPointer "+a+" exists");Lp[a]=b};Eb.getAxisPointerClass=function(a){return a&&Lp[a]};var ZG=["axisLine","axisTickLabel","axisName"],$G=["splitArea","splitLine","minorSplitLine"],Mp=Eb.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",
render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;this._axisGroup=new O;this.group.add(this._axisGroup);if(a.get("show")){var f=a.getCoordSysModel(),g=qn(f,a);g=new tb(a,g);y(ZG,g.add,g);this._axisGroup.add(g.getGroup());y($G,function(h){if(a.get(h+".show"))this["_"+h](a,f)},this);Mi(e,this._axisGroup,a);Mp.superCall(this,"render",a,b,c,d)}},remove:function(){this.__splitAreaColors=null},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitLine"),
e=d.getModel("lineStyle");a=e.get("color");a=F(a)?a:[a];b=b.coordinateSystem.getRect();var f=c.isHorizontal(),g=0;d=c.getTicksCoords({tickModel:d});var h=[],k=[];e=e.getLineStyle();for(var l=0;l<d.length;l++){var m=c.toGlobalCoord(d[l].coord);f?(h[0]=m,h[1]=b.y,k[0]=m,k[1]=b.y+b.height):(h[0]=b.x,h[1]=m,k[0]=b.x+b.width,k[1]=m);m=g++%a.length;this._axisGroup.add(new bb({anid:d[l].tickValue!=null?"line_"+d[l].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:k[0],y2:k[1]},style:Q({stroke:a[m]},
e),silent:!0}))}}},_minorSplitLine:function(a,b){var c=a.axis,d=a.getModel("minorSplitLine").getModel("lineStyle");b=b.coordinateSystem.getRect();a=c.isHorizontal();var e=c.getMinorTicksCoords();if(e.length){var f=[],g=[];d=d.getLineStyle();for(var h=0;h<e.length;h++)for(var k=0;k<e[h].length;k++){var l=c.toGlobalCoord(e[h][k].coord);a?(f[0]=l,f[1]=b.y,g[0]=l,g[1]=b.y+b.height):(f[0]=b.x,f[1]=l,g[0]=b.x+b.width,g[1]=l);this._axisGroup.add(new bb({anid:"minor_line_"+e[h][k].tickValue,subPixelOptimize:!0,
shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:d,silent:!0}))}}},_splitArea:function(a,b){uu(this,this._axisGroup,a,b)}});Mp.extend({type:"xAxis"});Mp.extend({type:"yAxis"});Ta({type:"grid",render:function(a,b){this.group.removeAll();a.get("show")&&this.group.add(new oa({shape:a.coordinateSystem.getRect(),style:Q({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});ab(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})});za(Pe("line","circle","line"));Da(Qh("line"));Bb(Hc.PROCESSOR.STATISTIC,
function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(b,c,d){c=b.getData();d=b.get("sampling");var e=b.coordinateSystem;if(e.type==="cartesian2d"&&d){var f=e.getBaseAxis();e=e.getOtherAxis(f);f=f.getExtent();f=Math.abs(f[1]-f[0]);f=Math.round(c.count()/f);if(f>1){var g;typeof d==="string"?g=WG[d]:typeof d==="function"&&(g=d);g&&b.setData(c.downSample(c.mapDimension(e.dim),1/f,g,XG))}}}}}("line"));var Dy=Ea.extend({type:"series.__base_bar__",getInitialData:function(a,b){return bd(this.getSource(),
this,{useEncodeDefaulter:!0})},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){a=b.dataToPoint(b.clampData(a));var c=this.getData(),d=c.getLayout("offset");c=c.getLayout("size");b=b.getBaseAxis().isHorizontal()?0:1;a[b]+=d+c/2;return a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3E3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});Dy.extend({type:"series.bar",
dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");b>a&&(a=b);return a},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var aH=
Wf([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),bH=Mb({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=(f-e)*.5,h=e+g,k=b.startAngle,l=b.endAngle;b=b.clockwise;var m=Math.cos(k),n=Math.sin(k),p=Math.cos(l),q=Math.sin(l);
if(b?l-k<Math.PI*2:k-l<Math.PI*2)a.moveTo(m*e+c,n*e+d),a.arc(m*h+c,n*h+d,g,-Math.PI+k,k,!b);a.arc(c,d,f,k,l,!b);a.moveTo(p*f+c,q*f+d);a.arc(p*h+c,q*h+d,g,l-Math.PI*2,l-Math.PI,!b);e!==0&&(a.arc(c,d,e,l,k,b),a.moveTo(m*e+c,q*e+d));a.closePath()}}),cH=["itemStyle","barBorderWidth"],wk=[0,0];U(ka.prototype,{getBarItemStyle:function(a){a=aH(this,a);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}});rb({type:"bar",render:function(a,b,c){this._updateDrawMode(a);var d=
a.get("coordinateSystem");d==="cartesian2d"||d==="polar"?this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c):I&&console.warn("Only cartesian2d and polar supported for bar.");return this.group},incrementalPrepareRender:function(a,b,c){this._clear();this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(a){a=a.pipelineContext.large;if(this._isLargeDraw==null||a^this._isLargeDraw)this._isLargeDraw=a,this._clear()},_renderNormal:function(a,
b,c){var d=this.group,e=a.getData(),f=this._data,g=a.coordinateSystem;b=g.getBaseAxis();var h;g.type==="cartesian2d"?h=b.isHorizontal():g.type==="polar"&&(h=b.dim==="angle");var k=a.isAnimationEnabled()?a:null,l=a.get("clip",!0),m=GC(g,e);d.removeClipPath();var n=a.get("roundCap",!0),p=a.get("showBackground",!0),q=a.getModel("backgroundStyle"),t=q.get("barBorderRadius")||0,r=[],u=this._backgroundEls||[],v=function(x){var w=xk[g.type](e,x);w=new (g.type==="polar"?fc:oa)({shape:Cu(h,w,g),silent:!0,
z2:0});w.useStyle(q.getBarItemStyle());g.type==="cartesian2d"&&w.setShape("r",t);return r[x]=w};e.diff(f).add(function(x){var w=e.getItemModel(x),z=xk[g.type](e,x,w);p&&v(x);if(e.hasValue(x))if(l&&Ey[g.type](m,z))d.remove(A);else{var A=Fy[g.type](x,z,h,k,!1,n);e.setItemGraphicEl(x,A);d.add(A);yu(A,e,x,w,z,a,h,g.type==="polar")}}).update(function(x,w){var z=e.getItemModel(x),A=xk[g.type](e,x,z);if(p){if(u.length===0)var B=v(w);else B=u[w],B.useStyle(q.getBarItemStyle()),g.type==="cartesian2d"&&B.setShape("r",
t),r[x]=B;var C=xk[g.type](e,x);C=Cu(h,C,g);ba(B,{shape:C},k,x)}w=f.getItemGraphicEl(w);e.hasValue(x)?l&&Ey[g.type](m,A)?d.remove(w):(w?ba(w,{shape:A},k,x):w=Fy[g.type](x,A,h,k,!0,n),e.setItemGraphicEl(x,w),d.add(w),yu(w,e,x,z,A,a,h,g.type==="polar")):d.remove(w)}).remove(function(x){var w=f.getItemGraphicEl(x);g.type==="cartesian2d"?w&&wu(x,k,w):w&&xu(x,k,w)}).execute();b=this._backgroundGroup||(this._backgroundGroup=new O);b.removeAll();for(c=0;c<r.length;++c)b.add(r[c]);d.add(b);this._backgroundEls=
r;this._data=e},_renderLarge:function(a,b,c){this._clear();zu(a,this.group);(a=a.get("clip",!0)?kj(a.coordinateSystem,!1,a):null)?this.group.setClipPath(a):this.group.removeClipPath()},_incrementalRenderLarge:function(a,b){this._removeBackground();zu(b,this.group,!0)},dispose:Pa,remove:function(a){this._clear(a)},_clear:function(a){var b=this.group,c=this._data;a&&a.get("animation")&&c&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],c.eachItemGraphicEl(function(d){d.type==="sector"?
xu(d.dataIndex,a,d):wu(d.dataIndex,a,d)})):b.removeAll();this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup);this._backgroundGroup=null}});var Np=Math.max,Op=Math.min,Ey={cartesian2d:function(a,b){var c=b.width<0?-1:1,d=b.height<0?-1:1;c<0&&(b.x+=b.width,b.width=-b.width);d<0&&(b.y+=b.height,b.height=-b.height);var e=Np(b.x,a.x),f=Op(b.x+b.width,a.x+a.width),g=Np(b.y,a.y);a=Op(b.y+b.height,a.y+a.height);b.x=e;b.y=g;b.width=f-e;b.height=a-g;e=b.width<0||b.height<
0;c<0&&(b.x+=b.width,b.width=-b.width);d<0&&(b.y+=b.height,b.height=-b.height);return e},polar:function(a,b){var c=b.r0<=b.r?1:-1;if(c<0){var d=b.r;b.r=b.r0;b.r0=d}d=Op(b.r,a.r);a=Np(b.r0,a.r0);b.r=d;b.r0=a;a=d-a<0;c<0&&(d=b.r,b.r=b.r0,b.r0=d);return a}},Fy={cartesian2d:function(a,b,c,d,e){var f=new oa({shape:U({},b),z2:1});f.name="item";if(d){c=c?"height":"width";var g={};f.shape[c]=0;g[c]=b[c];fd[e?"updateProps":"initProps"](f,{shape:g},d,a)}return f},polar:function(a,b,c,d,e,f){f=new (!c&&f?bH:
fc)({shape:Q({clockwise:b.startAngle<b.endAngle},b),z2:1});f.name="item";if(d){var g=c?"r":"endAngle",h={};f.shape[g]=c?0:b.startAngle;h[g]=b[g];fd[e?"updateProps":"initProps"](f,{shape:h},d,a)}return f}},xk={cartesian2d:function(a,b,c){a=a.getItemLayout(b);if(c){c=c.get(cH)||0;b=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width);var d=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height);c=Math.min(c,b,d)}else c=0;b=a.width>0?1:-1;d=a.height>0?1:-1;return{x:a.x+b*c/2,y:a.y+d*c/2,width:a.width-b*c,height:a.height-
d*c}},polar:function(a,b,c){a=a.getItemLayout(b);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},Au=ha.extend({type:"largeBar",shape:{points:[]},buildPath:function(a,b){b=b.points;for(var c=this.__startPoint,d=this.__baseDimIdx,e=0;e<b.length;e+=2)c[d]=b[e+d],a.moveTo(c[0],c[1]),a.lineTo(b[e],b[e+1])}}),Bu=Wi(function(a){a:{var b=a.offsetY,c=this.__baseDimIdx,d=1-c,e=this.shape.points,f=this.__largeDataIndices,g=Math.abs(this.__barWidth/2),h=this.__startPoint[d];
wk[0]=a.offsetX;wk[1]=b;var k=wk[c];a=wk[1-c];b=k-g;g=k+g;k=0;for(var l=e.length/2;k<l;k++){var m=k*2,n=e[m+c];m=e[m+d];if(n>=b&&n<=g&&(h<=m?a>=h&&a<=m:a>=m&&a<=h)){c=f[k];break a}}c=-1}this.dataIndex=c>=0?c:null},30,!1);Da(Hc.VISUAL.LAYOUT,R(Ot,"bar"));Da(Hc.VISUAL.PROGRESSIVE_LAYOUT,FG);za({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}});var bg=function(a,b,c){b=F(b)&&{coordDimensions:b}||U({},b);var d=a.getSource();b=Gf(d,b);a=new Ua(b,a);a.initData(d,c);
return a},Pp={updateSelectedMap:function(a){this._targetList=F(a)?a.slice():[];this._selectTargetMap=af(a||[],function(b,c){b.set(c.name,c);return b},aa())},select:function(a,b){a=b!=null?this._targetList[b]:this._selectTargetMap.get(a);this.get("selectedMode")==="single"&&this._selectTargetMap.each(function(c){c.selected=!1});a&&(a.selected=!0)},unSelect:function(a,b){(a=b!=null?this._targetList[b]:this._selectTargetMap.get(a))&&(a.selected=!1)},toggleSelected:function(a,b){var c=b!=null?this._targetList[b]:
this._selectTargetMap.get(a);if(c!=null)return this[c.selected?"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){return(a=b!=null?this._targetList[b]:this._selectTargetMap.get(a))&&a.selected}},yk=fj({type:"series.pie",init:function(a){yk.superApply(this,"init",arguments);this.legendVisualProvider=new hh(L(this.getData,this),L(this.getRawData,this));this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(a)},mergeOption:function(a){yk.superCall(this,"mergeOption",
a);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a,b){return bg(this,{coordDimensions:["value"],encodeDefaulter:R(Fm,this)})},_createSelectableList:function(){for(var a=this.getRawData(),b=a.mapDimension("value"),c=[],d=0,e=a.count();d<e;d++)c.push({name:a.getName(d),value:a.get(b,d),selected:Ys(a,d,"selected")});return c},getDataParams:function(a){var b=this.getData(),c=yk.superCall(this,"getDataParams",a),d=[];b.each(b.mapDimension("value"),function(e){d.push(e)});
c.percent=Bs(d,a,b.hostModel.get("percentPrecision"));c.$vars.push("percent");return c},_defaultLabelLine:function(a){ie(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show;c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,
left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});pa(yk,Pp);var Gy=sn.prototype;Gy.updateData=function(a,b,c){var d=this.childAt(0),e=this.childAt(1),f=this.childAt(2),g=a.hostModel,h=a.getItemModel(b),
k=a.getItemLayout(b),l=U({},k);l.label=null;var m=g.getShallow("animationTypeUpdate");c?(d.setShape(l),g.getShallow("animationType")==="scale"?(d.shape.r=k.r0,eb(d,{shape:{r:k.r}},g,b)):(d.shape.endAngle=k.startAngle,ba(d,{shape:{endAngle:k.endAngle}},g,b))):m==="expansion"?d.setShape(l):ba(d,{shape:l},g,b);l=a.getItemVisual(b,"color");d.useStyle(Q({lineJoin:"bevel",fill:l},h.getModel("itemStyle").getItemStyle()));d.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();(l=h.getShallow("cursor"))&&
d.attr("cursor",l);Du(this,a.getItemLayout(b),g.isSelected(a.getName(b)),g.get("selectedOffset"),g.get("animation"));this._updateLabel(a,b,!c&&m==="transition");this.highDownOnUpdate=g.get("silent")?null:function(n,p){n=g.isAnimationEnabled()&&h.get("hoverAnimation");p==="emphasis"?(e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore,n&&(d.stopAnimation(!0),d.animateTo({shape:{r:k.r+g.get("hoverOffset")}},300,"elasticOut"))):(e.ignore=e.normalIgnore,f.ignore=f.normalIgnore,n&&(d.stopAnimation(!0),d.animateTo({shape:{r:k.r}},
300,"elasticOut")))};Aa(this)};Gy._updateLabel=function(a,b,c){var d=this.childAt(1),e=this.childAt(2),f=a.hostModel,g=a.getItemModel(b),h=a.getItemLayout(b).label;a.getItemVisual(b,"color");if(!h||isNaN(h.x)||isNaN(h.y))e.ignore=e.normalIgnore=e.hoverIgnore=d.ignore=d.normalIgnore=d.hoverIgnore=!0;else{var k={points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]},l={x:h.x,y:h.y};c?(ba(d,{shape:k},f,b),ba(e,{style:l},f,b)):(d.attr({shape:k}),e.attr({style:l}));e.attr({rotation:h.rotation,origin:[h.x,
h.y],z2:10});c=g.getModel("label");f=g.getModel("emphasis.label");k=g.getModel("labelLine");l=g.getModel("emphasis.labelLine");g=a.getItemVisual(b,"color");yb(e.style,e.hoverStyle={},c,f,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:h.text,autoColor:g,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,opacity:a.getItemVisual(b,"opacity")});e.ignore=e.normalIgnore=!c.get("show");e.hoverIgnore=!f.get("show");d.ignore=d.normalIgnore=!k.get("show");d.hoverIgnore=
!l.get("show");d.setStyle({stroke:g,opacity:a.getItemVisual(b,"opacity")});d.setStyle(k.getModel("lineStyle").getLineStyle());d.hoverStyle=l.getModel("lineStyle").getLineStyle();(a=k.get("smooth"))&&a===!0&&(a=.4);d.setShape({smooth:a})}};ua(sn,O);Sa.extend({type:"pie",init:function(){this._sectorGroup=new O},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group;b=b.get("animation");var h=!f,k=a.get("animationType"),l=a.get("animationTypeUpdate"),m=R(HC,this.uid,
a,b,c),n=a.get("selectedMode");e.diff(f).add(function(p){var q=new sn(e,p);h&&k!=="scale"&&q.eachChild(function(t){t.stopAnimation(!0)});n&&q.on("click",m);e.setItemGraphicEl(p,q);g.add(q)}).update(function(p,q){q=f.getItemGraphicEl(q);h||l==="transition"||q.eachChild(function(t){t.stopAnimation(!0)});q.updateData(e,p);q.off("click");n&&q.on("click",m);g.add(q);e.setItemGraphicEl(p,q)}).remove(function(p){p=f.getItemGraphicEl(p);g.remove(p)}).execute();if(b&&e.count()>0&&(h?k!=="scale":l!=="transition")){b=
e.getItemLayout(0);for(d=1;isNaN(b.startAngle)&&d<e.count();++d)b=e.getItemLayout(d);c=Math.max(c.getWidth(),c.getHeight())/2;d=L(g.removeClipPath,g);g.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,b.clockwise,d,a,h))}else g.removeClipPath();this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g,h){a=new fc({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});(h?eb:ba)(a,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f);return a},containPoint:function(a,b){if(b=
b.getData().getItemLayout(0)){var c=a[0]-b.cx;a=a[1]-b.cy;a=Math.sqrt(c*c+a*a);return a<=b.r&&a>=b.r0}}});var Hy=function(a,b){y(b,function(c){c.update="updateView";la(c,function(d,e){var f={};e.eachComponent({mainType:"series",subType:a,query:d},function(g){if(g[c.method])g[c.method](d.name,d.dataIndex);var h=g.getData();h.each(function(k){k=h.getName(k);f[k]=g.isSelected(k)||!1})});return{name:d.name,selected:f,seriesId:d.seriesId}})})},zk=function(a){return{getTargetSeries:function(b){var c={},
d=aa();b.eachSeriesByType(a,function(e){e.__paletteScope=c;d.set(e.uid,e)});return d},reset:function(b,c){var d=b.getRawData(),e={},f=b.getData();f.each(function(g){var h=f.getRawIndex(g);e[h]=g});d.each(function(g){var h=e[g],k=h!=null&&f.getItemVisual(h,"color",!0),l=h!=null&&f.getItemVisual(h,"borderColor",!0),m;k&&l||(m=d.getItemModel(g));k||(g=m.get("itemStyle.color")||b.getColorFromPalette(d.getName(g)||g+"",b.__paletteScope,d.count()),h!=null&&f.setItemVisual(h,"color",g));l||(l=m.get("itemStyle.borderColor"),
h!=null&&f.setItemVisual(h,"borderColor",l))})}}},dH=Math.PI/180,eH=function(a,b,c,d,e,f){var g=a.getData(),h=[],k,l,m=!1,n=(a.get("minShowLabelAngle")||0)*dH;g.each(function(p){var q=g.getItemLayout(p),t=g.getItemModel(p),r=t.getModel("label"),u=r.get("position")||t.get("emphasis.label.position"),v=r.get("distanceToLabelLine"),x=r.get("alignTo"),w=G(r.get("margin"),c),z=r.get("bleedMargin"),A=r.getFont(),B=t.getModel("labelLine");t=B.get("length");t=G(t,c);B=B.get("length2");B=G(B,c);if(!(q.angle<
n)){var C=(q.startAngle+q.endAngle)/2,D=Math.cos(C),E=Math.sin(C);k=q.cx;l=q.cy;var P=a.getFormattedLabel(p,"normal")||g.getName(p),W=qc(P,A,S,"top"),M=u==="inside"||u==="inner";if(u==="center"){p=q.cx;var J=q.cy,S="center"}else{S=(M?(q.r+q.r0)/2*D:q.r*D)+k;var N=(M?(q.r+q.r0)/2*E:q.r*E)+l;p=S+D*3;J=N+E*3;if(!M){var K=S+D*(t+b-q.r);E=N+E*(t+b-q.r);var Z=K+(D<0?-1:1)*B;p=x==="edge"?D<0?e+w:e+c-w:Z+(D<0?-v:v);J=E;K=[[S,N],[K,E],[Z,E]]}S=M?"center":x==="edge"?D>0?"right":"left":D>0?"left":"right"}r=
r.get("rotate");r=typeof r==="number"?Math.PI/180*r:r?D<0?-C+Math.PI:-C:0;m=!!r;q.label={x:p,y:J,position:u,height:W.height,len:t,len2:B,linePoints:K,textAlign:S,verticalAlign:"middle",rotation:r,inside:M,labelDistance:v,labelAlignTo:x,labelMargin:w,bleedMargin:z,textRect:W,text:P,font:A};M||h.push(q.label)}});!m&&a.get("avoidLabelOverlap")&&IC(h,k,l,b,c,d,e,f)},Ak=Math.PI*2,Iy=Math.PI/180,Rh=function(a){return{seriesType:a,reset:function(b,c){var d=c.findComponents({mainType:"legend"});if(d&&d.length){var e=
b.getData();e.filterSelf(function(f){f=e.getName(f);for(var g=0;g<d.length;g++)if(!d[g].isSelected(f))return!1;return!0})}}}};Hy("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);za(zk("pie"));Da(R(function(a,b,c,d){b.eachSeriesByType(a,function(e){var f=e.getData(),g=f.mapDimension("value"),h=JC(e,c),k=e.get("center"),l=e.get("radius");F(l)||(l=[0,l]);
F(k)||(k=[k,k]);var m=G(h.width,c.getWidth()),n=G(h.height,c.getHeight()),p=Math.min(m,n),q=G(k[0],m)+h.x,t=G(k[1],n)+h.y,r=G(l[0],p/2),u=G(l[1],p/2),v=-e.get("startAngle")*Iy,x=e.get("minAngle")*Iy,w=0;f.each(g,function(N){!isNaN(N)&&w++});var z=f.getSum(g),A=Math.PI/(z||w)*2,B=e.get("clockwise"),C=e.get("roseType"),D=e.get("stillShowZeroSum"),E=f.getDataExtent(g);E[0]=0;var P=Ak,W=0,M=v,J=B?1:-1;f.each(g,function(N,K){if(isNaN(N))f.setItemLayout(K,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:B,
cx:q,cy:t,r0:r,r:C?NaN:u,viewRect:h});else{var Z=C!=="area"?z===0&&D?A:N*A:Ak/w;Z<x?(Z=x,P-=x):W+=N;var Ga=M+J*Z;f.setItemLayout(K,{angle:Z,startAngle:M,endAngle:Ga,clockwise:B,cx:q,cy:t,r0:r,r:C?ia(N,E,[r,u]):u,viewRect:h});M=Ga}});if(P<Ak&&w)if(P<=.001){var S=Ak/w;f.each(g,function(N,K){isNaN(N)||(N=f.getItemLayout(K),N.angle=S,N.startAngle=v+J*K*S,N.endAngle=v+J*(K+1)*S)})}else A=P/W,M=v,f.each(g,function(N,K){isNaN(N)||(K=f.getItemLayout(K),N=K.angle===x?x:N*A,K.startAngle=M,K.endAngle=M+J*N,
M+=J*N)});eH(e,u,h.width,h.height,h.x,h.y)})},"pie"));Bb(Rh("pie"));Ea.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return bd(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a==null?this.option.large?5E3:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?1E4:
this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{opacity:.8},clip:!0}});var Qp=Mb({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(a,b){var c=b.points;b=b.size;var d=this.symbolProxy,e=d.shape;if(!((a.getContext?a.getContext():a)&&b[0]<4))for(var f=0;f<c.length;){var g=c[f++],h=c[f++];isNaN(g)||isNaN(h)||this.softClipShape&&!this.softClipShape.contain(g,
h)||(e.x=g-b[0]/2,e.y=h-b[1]/2,e.width=b[0],e.height=b[1],d.buildPath(a,e,!0))}},afterBrush:function(a){var b=this.shape,c=b.points;b=b.size;if(b[0]<4){this.setTransform(a);for(var d=0;d<c.length;){var e=c[d++],f=c[d++];isNaN(e)||isNaN(f)||(!this.softClipShape||this.softClipShape.contain(e,f))&&a.fillRect(e-b[0]/2,f-b[1]/2,b[0],b[1])}this.restoreTransform(a)}},findDataIndex:function(a,b){var c=this.shape,d=c.points,e=c.size;c=Math.max(e[0],4);e=Math.max(e[1],4);for(var f=d.length/2-1;f>=0;f--){var g=
f*2,h=d[g]-c/2;g=d[g+1]-e/2;if(a>=h&&b>=g&&a<=h+c&&b<=g+e)return f}return-1}}),Yd=Fu.prototype;Yd.isPersistent=function(){return!this._incremental};Yd.updateData=function(a,b){this.group.removeAll();var c=new Qp({rectHover:!0,cursor:"default"});c.setShape({points:a.getLayout("symbolPoints")});this._setCommon(c,a,!1,b);this.group.add(c);this._incremental=null};Yd.updateLayout=function(a){if(!this._incremental){var b=a.getLayout("symbolPoints");this.group.eachChild(function(c){c.startIndex!=null&&(b=
new Float32Array(b.buffer,c.startIndex*4*2,(c.endIndex-c.startIndex)*2));c.setShape("points",b)})}};Yd.incrementalPrepareUpdate=function(a){this.group.removeAll();this._clearIncremental();a.count()>2E6?(this._incremental||(this._incremental=new xb({silent:!0})),this.group.add(this._incremental)):this._incremental=null};Yd.incrementalUpdate=function(a,b,c){this._incremental?(a=new Qp,this._incremental.addDisplayable(a,!0)):(a=new Qp({rectHover:!0,cursor:"default",startIndex:a.start,endIndex:a.end}),
a.incremental=!0,this.group.add(a));a.setShape({points:b.getLayout("symbolPoints")});this._setCommon(a,b,!!this._incremental,c)};Yd._setCommon=function(a,b,c,d){var e=b.hostModel;d=d||{};var f=b.getVisual("symbolSize");a.setShape("size",f instanceof Array?f:[f,f]);a.softClipShape=d.clipShape||null;a.symbolProxy=Db(b.getVisual("symbol"),0,0,0,0);a.setColor=a.symbolProxy.setColor;d=a.shape.size[0]<4;a.useStyle(e.getModel("itemStyle").getItemStyle(d?["color","shadowBlur","shadowColor"]:["color"]));(b=
b.getVisual("color"))&&a.setColor(b);c||(a.seriesIndex=e.seriesIndex,a.on("mousemove",function(g){a.dataIndex=null;g=a.findDataIndex(g.offsetX,g.offsetY);g>=0&&(a.dataIndex=g+(a.startIndex||0))}))};Yd.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Yd._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};rb({type:"scatter",render:function(a,b,c){b=a.getData();this._updateSymbolDraw(b,a).updateData(b,{clipShape:this._getClipShape(a)});
this._finished=!0},incrementalPrepareRender:function(a,b,c){b=a.getData();this._updateSymbolDraw(b,a).incrementalPrepareUpdate(b);this._finished=!1},incrementalRender:function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData(),{clipShape:this._getClipShape(b)});this._finished=a.end===b.getData().count()},updateTransform:function(a,b,c){b=a.getData();this.group.dirty();if(!this._finished||b.count()>1E4||!this._symbolDraw.isPersistent())return{update:!0};a=Qh().reset(a);a.progress&&a.progress({start:0,
end:b.count()},b);this._symbolDraw.updateLayout(b)},_getClipShape:function(a){var b=a.coordinateSystem;b=b&&b.getArea&&b.getArea();return a.get("clip",!0)?b:null},_updateSymbolDraw:function(a,b){a=this._symbolDraw;b=b.pipelineContext.large;a&&b===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=b?new Fu:new If,this._isLargeDraw=b,this.group.removeAll());this.group.add(a.group);return a},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0);this._symbolDraw=null},dispose:function(){}});
za(Pe("scatter","circle"));Da(Qh("scatter"));ua(Gu,Ma);zc.prototype.getIndicatorAxes=function(){return this._indicatorAxes};zc.prototype.dataToPoint=function(a,b){return this.coordToPoint(this._indicatorAxes[b].dataToCoord(a),b)};zc.prototype.coordToPoint=function(a,b){b=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(b),this.cy-a*Math.sin(b)]};zc.prototype.pointToData=function(a){var b=a[0]-this.cx,c=a[1]-this.cy;a=Math.sqrt(b*b+c*c);b=Math.atan2(-(c/a),b/a);c=Infinity;for(var d,e=-1,f=0;f<
this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],h=Math.abs(b-g.angle);h<c&&(d=g,e=f,c=h)}return[e,+(d&&d.coordToData(a))]};zc.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight();b=Math.min(d,e)/2;this.cx=G(c[0],d);this.cy=G(c[1],e);this.startAngle=a.get("startAngle")*Math.PI/180;a=a.get("radius");if(typeof a==="string"||typeof a==="number")a=[0,a];this.r0=G(a[0],b);this.r=G(a[1],b);y(this._indicatorAxes,function(f,g){f.setExtent(this.r0,this.r);g=this.startAngle+
g*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g));f.angle=g},this)};zc.prototype.update=function(a,b){function c(g){var h=Math.pow(10,Math.floor(Math.log(g)/Math.LN10));g/=h;return(g===2?5:g*2)*h}var d=this._indicatorAxes,e=this._model;y(d,function(g){g.scale.setExtent(Infinity,-Infinity)});a.eachSeriesByType("radar",function(g,h){if(g.get("coordinateSystem")==="radar"&&a.getComponent("radar",g.get("radarIndex"))===e){var k=g.getData();y(d,function(l){l.scale.unionExtentFromData(k,
k.mapDimension(l.dim))})}},this);var f=e.get("splitNumber");y(d,function(g,h){h=Pt(g.scale,g.model).extent;Hd(g.scale,g.model);var k=g.model;g=g.scale;var l=k.getMin(),m=k.getMax();k=g.getInterval();if(l!=null&&m!=null)g.setExtent(+l,+m),g.setInterval((m-l)/f);else if(l!=null){do m=l+k*f,g.setExtent(+l,m),g.setInterval(k),k=c(k);while(m<h[1]&&isFinite(m)&&isFinite(h[1]))}else if(m!=null){do l=m-k*f,g.setExtent(l,+m),g.setInterval(k),k=c(k);while(l>h[0]&&isFinite(l)&&isFinite(h[0]))}else g.getTicks().length-
1>f&&(k=c(k)),m=Math.ceil(h[1]/k)*k,l=wa(m-k*f),g.setExtent(l,m),g.setInterval(k)})};zc.dimensions=[];zc.create=function(a,b){var c=[];a.eachComponent("radar",function(d){var e=new zc(d,a,b);c.push(e);d.coordinateSystem=e});a.eachSeriesByType("radar",function(d){d.get("coordinateSystem")==="radar"&&(d.coordinateSystem=c[d.get("radarIndex")||0])});return c};$a.register("radar",zc);var Sh=Xd.valueAxis;Cb({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),
c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisType"),g=this.get("axisLabel"),h=this.get("name"),k=this.get("name.show"),l=this.get("name.formatter"),m=this.get("nameGap"),n=this.get("triggerEvent"),p=H(this.get("indicator")||[],function(q){q.max!=null&&q.max>0&&!q.min?q.min=0:q.min!=null&&q.min<0&&!q.max&&(q.max=0);var t=h;q.color!=null&&(t=Q({color:q.color},h));q=Y(T(q),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisType:f,axisLabel:g,name:q.text,
nameLocation:"end",nameGap:m,nameTextStyle:t,triggerEvent:n},!1);k||(q.name="");typeof l==="string"?(t=q.name,q.name=l.replace("{value}",t!=null?t:"")):typeof l==="function"&&(q.name=l(q.name,q));q=U(new ka(q,null,this.ecModel),Oe);q.mainType="radar";q.componentIndex=this.componentIndex;return q},this);this.getIndicatorModels=function(){return p}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",
axisLine:Y({lineStyle:{color:"#bbb"}},Sh.axisLine),axisLabel:Q({show:!1},Sh.axisLabel),axisTick:Q({show:!1},Sh.axisTick),axisType:"interval",splitLine:Q({show:!0},Sh.splitLine),splitArea:Q({show:!0},Sh.splitArea),indicator:[]}});var fH=["axisLine","axisTickLabel","axisName"];Ta({type:"radar",render:function(a,b,c){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var b=a.coordinateSystem;a=b.getIndicatorAxes();a=H(a,function(c){return new tb(c.model,
{position:[b.cx,b.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});y(a,function(c){y(fH,c.add,c);this.group.add(c.getGroup())},this)},_buildSplitLineAndArea:function(a){function b(w,z,A){z=A%z.length;w[z]=w[z]||[];return z}var c=a.coordinateSystem,d=c.getIndicatorAxes();if(d.length){var e=a.get("shape"),f=a.getModel("splitLine"),g=a.getModel("splitArea");a=f.getModel("lineStyle");var h=g.getModel("areaStyle");f=f.get("show");g=g.get("show");var k=a.get("color"),l=h.get("color");
k=F(k)?k:[k];l=F(l)?l:[l];var m=[],n=[];if(e==="circle"){d=d[0].getTicksCoords();var p=c.cx,q=c.cy;for(e=0;e<d.length;e++){if(f){var t=b(m,k,e);m[t].push(new Gc({shape:{cx:p,cy:q,r:d[e].coord}}))}g&&e<d.length-1&&(t=b(n,l,e),n[t].push(new jk({shape:{cx:p,cy:q,r0:d[e].coord,r:d[e+1].coord}})))}}else{var r;p=H(d,function(w,z){w=w.getTicksCoords();r=r==null?w.length-1:Math.min(w.length-1,r);return H(w,function(A){return c.coordToPoint(A.coord,z)})});q=[];for(e=0;e<=r;e++){var u=[];for(t=0;t<d.length;t++)u.push(p[t][e]);
u[0]?u.push(u[0].slice()):I&&console.error("Can't draw value axis "+e);f&&(t=b(m,k,e),m[t].push(new Tb({shape:{points:u}})));g&&q&&(t=b(n,l,e-1),n[t].push(new sb({shape:{points:u.concat(q)}})));q=u.slice().reverse()}}var v=a.getLineStyle(),x=h.getAreaStyle();y(n,function(w,z){this.group.add(Ub(w,{style:Q({stroke:"none",fill:l[z%l.length]},x),silent:!0}))},this);y(m,function(w,z){this.group.add(Ub(w,{style:Q({fill:"none",stroke:k[z%k.length]},v),silent:!0}))},this)}}});var gH=Ea.extend({type:"series.radar",
dependencies:["radar"],init:function(a){gH.superApply(this,"init",arguments);this.legendVisualProvider=new hh(L(this.getData,this),L(this.getRawData,this))},getInitialData:function(a,b){return bg(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},formatTooltip:function(a,b,c,d){var e=this.getData();b=this.coordinateSystem.getIndicatorAxes();c=this.getData().getName(a);d=d==="html"?"\x3cbr/\x3e":"\n";return ya(c===""?this.name:c)+d+H(b,function(f,g){g=e.get(e.mapDimension(f.dim),a);return ya(f.name+
" : "+g)}).join(d)},getTooltipPosition:function(a){if(a!=null){var b=this.getData(),c=this.coordinateSystem;a=b.getValues(H(c.dimensions,function(f){return b.mapDimension(f)}),a,!0);for(var d=0,e=a.length;d<e;d++)if(!isNaN(a[d]))return e=c.getIndicatorAxes(),c.coordToPoint(e[d].dataToCoord(a[d]),d)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});rb({type:"radar",render:function(a,
b,c){function d(l,m,n,p,q,t){n.removeAll();for(var r=0;r<m.length-1;r++){var u=p,v=q,x=u.getItemVisual(v,"symbol")||"circle",w=u.getItemVisual(v,"color");if(x==="none")u=void 0;else{var z=u.getItemVisual(v,"symbolSize");F(z)||(z=[+z,+z]);x=Db(x,-1,-1,2,2,w);u=u.getItemVisual(v,"symbolRotate")||0;x.attr({style:{strokeNoScale:!0},z2:100,scale:[z[0]/2,z[1]/2],rotation:u*Math.PI/180||0});u=x}u&&(u.__dimIdx=r,l[r]?(u.attr("position",l[r]),fd[t?"initProps":"updateProps"](u,{position:m[r]},a,q)):u.attr("position",
m[r]),n.add(u))}}function e(l){return H(l,function(m){return[f.cx,f.cy]})}var f=a.coordinateSystem,g=this.group,h=a.getData(),k=this._data;h.diff(k).add(function(l){var m=h.getItemLayout(l);if(m){var n=new sb,p=new Tb,q={shape:{points:m}};n.shape.points=e(m);p.shape.points=e(m);eb(n,q,a,l);eb(p,q,a,l);q=new O;var t=new O;q.add(p);q.add(n);q.add(t);d(p.shape.points,m,t,h,l,!0);h.setItemGraphicEl(l,q)}}).update(function(l,m){m=k.getItemGraphicEl(m);var n=m.childAt(0),p=m.childAt(1),q=m.childAt(2),t=
{shape:{points:h.getItemLayout(l)}};t.shape.points&&(d(n.shape.points,t.shape.points,q,h,l,!1),ba(n,t,a),ba(p,t,a),h.setItemGraphicEl(l,m))}).remove(function(l){g.remove(k.getItemGraphicEl(l))}).execute();h.eachItemGraphicEl(function(l,m){var n=h.getItemModel(m),p=l.childAt(0),q=l.childAt(1),t=l.childAt(2),r=h.getItemVisual(m,"color");g.add(l);p.useStyle(Q(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:r}));p.hoverStyle=n.getModel("emphasis.lineStyle").getLineStyle();p=n.getModel("areaStyle");
var u=n.getModel("emphasis.areaStyle"),v=p.isEmpty()&&p.parentModel.isEmpty(),x=u.isEmpty()&&u.parentModel.isEmpty();x=x&&v;q.ignore=v;q.useStyle(Q(p.getAreaStyle(),{fill:r,opacity:.7}));q.hoverStyle=u.getAreaStyle();var w=n.getModel("itemStyle").getItemStyle(["color"]),z=n.getModel("emphasis.itemStyle").getItemStyle(),A=n.getModel("label"),B=n.getModel("emphasis.label");t.eachChild(function(C){C.setStyle(w);C.hoverStyle=T(z);var D=h.get(h.dimensions[C.__dimIdx],m);(D==null||isNaN(D))&&(D="");yb(C.style,
C.hoverStyle,A,B,{labelFetcher:h.hostModel,labelDataIndex:m,labelDimIndex:C.__dimIdx,defaultText:D,autoColor:r,isRectText:!0})});l.highDownOnUpdate=function(C,D){q.attr("ignore",D==="emphasis"?x:v)};Aa(l)});this._data=h},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});za(zk("radar"));za(Pe("radar","circle"));Da(function(a){a.eachSeriesByType("radar",function(b){var c=b.getData(),d=[],e=b.coordinateSystem;if(e){var f=e.getIndicatorAxes();y(f,function(g,h){c.each(c.mapDimension(f[h].dim),
function(k,l){d[l]=d[l]||[];k=e.dataToPoint(k,h);d[l][h]=Hu(k)?k:[e.cx,e.cy]})});c.each(function(g){var h=zq(d[g],function(k){return Hu(k)})||[e.cx,e.cy];d[g].push(h.slice());c.setItemLayout(g,d[g])})}})});Bb(Rh("radar"));ab(function(a){var b=a.polar;if(b){F(b)||(b=[b]);var c=[];y(b,function(d,e){d.indicator?(d.type&&!d.shape&&(d.shape=d.type),a.radar=a.radar||[],F(a.radar)||(a.radar=[a.radar]),a.radar.push(d)):c.push(d)});a.polar=c}y(a.series,function(d){d&&d.type==="radar"&&d.polarIndex&&(d.radarIndex=
d.polarIndex)})});for(var Rp=[126,25],mc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],
[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],nc=0;nc<mc.length;nc++)for(var Jc=0;Jc<mc[nc].length;Jc++)mc[nc][Jc][0]/=10.5,mc[nc][Jc][1]/=-14,mc[nc][Jc][0]+=Rp[0],mc[nc][Jc][1]+=Rp[1];var hH=function(a,b){a==="china"&&b.push(new dh("\u5357\u6d77\u8bf8\u5c9b",H(mc,function(c){return{type:"polygon",exterior:c}}),Rp))},iH={"\u5357\u6d77\u8bf8\u5c9b":[32,
80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]},jH={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},kH=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Jy=ob(),cg=ob(),Lu={geoJSON:{load:function(a,b,c){var d=Jy(b).parsed;if(d)return d;var e=b.specialAreas||{};d=b.geoJSON;
try{var f=d?Kp(d,c):[]}catch(g){throw Error("Invalid geoJson format\n"+g.message);}hH(a,f);y(f,function(g){var h=g.name;if(a==="china"){var k=iH[g.name];if(k){var l=g.center;l[0]+=k[0]/10.5;l[1]+=-k[1]/14}}a==="world"&&(k=jH[g.name])&&(l=g.center,l[0]=k[0],l[1]=k[1]);a==="china"&&g.name==="\u53f0\u6e7e"&&g.geometries.push({type:"polygon",exterior:kH[0]});(h=e[h])&&g.transformTo(h.left,h.top,h.width,h.height)});return Jy(b).parsed={regions:f,boundingRect:KC(f)}}},svg:{load:function(a,b){if(a=cg(b).originRoot)return{root:a,
boundingRect:cg(b).boundingRect};a=Iu(b);cg(b).originRoot=a.root;cg(b).boundingRect=a.boundingRect;return a},makeGraphic:function(a,b,c){a=cg(b);var d=a.rootMap||(a.rootMap=aa()),e=d.get(c);if(e)return e;e=a.originRoot;var f=a.boundingRect;a.originRootHostKey?e=Iu(b,f).root:a.originRootHostKey=c;return d.set(c,e)},removeGraphic:function(a,b,c){a=cg(b);(b=a.rootMap)&&b.removeKey(c);c===a.originRootHostKey&&(a.originRootHostKey=null)}}},jh={load:function(a,b,c){var d=[],e=aa(),f=aa(),g,h=Ku(a);y(h,
function(k){k=Lu[k.type].load(a,k,c);y(k.regions,function(l){var m=l.name;b&&b.hasOwnProperty(m)&&(l=l.cloneShallow(m=b[m]));d.push(l);e.set(m,l);f.set(m,l.center)});(k=k.boundingRect)&&(g?g.union(k):g=k.clone())});return{regions:d,regionsMap:e,nameCoordMap:f,boundingRect:g||new ea(0,0,0,0)}},makeGraphic:Ju("makeGraphic"),removeGraphic:Ju("removeGraphic")},lH=Ea.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(a){a=bg(this,{coordDimensions:["value"],
encodeDefaulter:R(Fm,this)});for(var b=a.mapDimension("value"),c=aa(),d=[],e=[],f=0,g=a.count();f<g;f++){var h=a.getName(f);c.set(h,!0);d.push({name:h,value:a.get(b,f),selected:Ys(a,f,"selected")})}b=jh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);y(b.regions,function(k){k=k.name;c.get(k)||(d.push({name:k}),e.push(k))});this.updateSelectedMap(d);a.appendValues([],e);return a},getHostGeoModel:function(){var a=this.option.geoIndex;return a!=null?this.dependentModels.geo[a]:null},
getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(a){var b=this.getData();return b.get(b.mapDimension("value"),a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(a,b,c,d){c=this.getData();b=Yc(this.getRawValue(a));a=c.getName(a);for(var e=this.seriesGroup,f=[],g=0;g<e.length;g++){var h=e[g].originalData.indexOfName(a),k=c.mapDimension("value");isNaN(e[g].originalData.get(k,h))||f.push(ya(e[g].name))}d=
d==="html"?"\x3cbr/\x3e":"\n";return f.join(", ")+d+ya(a+" : "+b)},getTooltipPosition:function(a){if(a!=null){var b=this.getData().getName(a);a=this.coordinateSystem;return(b=a.getRegion(b))&&a.dataToPoint(b.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,
color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});pa(lH,Pp);la({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});pa(Lf,Ra);var QC={axisPointer:1,tooltip:1,brush:1};qj.prototype={constructor:qj,draw:function(a,b,c,d,e){var f=a.mainType==="geo",g=a.getData&&a.getData();f&&b.eachComponent({mainType:"series",subType:"map"},function(z){g||
z.getHostGeoModel()!==a||(g=z.getData())});var h=a.coordinateSystem;this._updateBackground(h);var k=this._regionsGroup,l=this.group,m=h.getTransformInfo(),n=!k.childAt(0)||e;if(n)l.transform=m.roamTransform,l.decomposeTransform(),l.dirty();else{e=new dc;e.transform=m.roamTransform;e.decomposeTransform();var p=e.scale;ba(l,{scale:e.scale,position:e.position},a)}var q=m.rawScale,t=m.rawPosition;k.removeAll();var r=["itemStyle"],u=["emphasis","itemStyle"],v=["label"],x=["emphasis","label"],w=aa();y(h.regions,
function(z){var A=w.get(z.name)||w.set(z.name,new O),B=new ky({segmentIgnoreThreshold:1,shape:{paths:[]}});A.add(B);var C=a.getRegionModel(z.name)||a,D=C.getModel(r),E=C.getModel(u),P=Mu(D);E=Mu(E);D=C.getModel(v);C=C.getModel(x);if(g){var W=g.indexOfName(z.name),M=g.getItemVisual(W,"color",!0);M&&(P.fill=M)}var J=function(Z){return[Z[0]*q[0]+t[0],Z[1]*q[1]+t[1]]};y(z.geometries,function(Z){if(Z.type==="polygon"){for(var Ga=[],ib=0;ib<Z.exterior.length;++ib)Ga.push(J(Z.exterior[ib]));B.shape.paths.push(new sb({segmentIgnoreThreshold:1,
shape:{points:Ga}}));for(ib=0;ib<(Z.interiors?Z.interiors.length:0);++ib){var of=Z.interiors[ib];Ga=[];for(var bc=0;bc<of.length;++bc)Ga.push(J(of[bc]));B.shape.paths.push(new sb({segmentIgnoreThreshold:1,shape:{points:Ga}}))}}});B.setStyle(P);B.style.strokeNoScale=!0;B.culling=!0;P=D.get("show");M=C.get("show");var S=g&&isNaN(g.get(g.mapDimension("value"),W)),N=g&&g.getItemLayout(W);if(f||S&&(P||M)||N&&N.showLabel){P=f?z.name:W;if(!g||W>=0)var K=a;M=new fa({position:J(z.center.slice()),scale:[1/
l.scale[0],1/l.scale[1]],z2:10,silent:!0});yb(M.style,M.hoverStyle={},D,C,{labelFetcher:K,labelDataIndex:P,defaultText:z.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"});n||ba(M,{scale:[1/p[0],1/p[1]]},a);A.add(M)}g?g.setItemGraphicEl(W,A):(C=a.getRegionModel(z.name),B.eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:z.name,region:C&&C.option||{}});(A.__regions||(A.__regions=[])).push(z);A.highDownSilentOnTouch=!!a.get("selectedMode");
Aa(A,E);k.add(A)});this._updateController(a,b,c);RC(this,a,k,c,d);Nu(a,k)},remove:function(){this._regionsGroup.removeAll();this._backgroundGroup.removeAll();this._controller.dispose();this._mapName&&jh.removeGraphic(this._mapName,this.uid);this._mapName=null;this._controllerHost={}},_updateBackground:function(a){a=a.map;this._mapName!==a&&y(jh.makeGraphic(a,this.uid),function(b){this._backgroundGroup.add(b)},this);this._mapName=a},_updateController:function(a,b,c){function d(){var h={type:"geoRoam",
componentType:g};h[g+"Id"]=a.id;return h}var e=a.coordinateSystem;b=this._controller;var f=this._controllerHost;f.zoomLimit=a.get("scaleLimit");f.zoom=e.getZoom();b.enable(a.get("roam")||!1);var g=a.mainType;b.off("pan").on("pan",function(h){this._mouseDownFlag=!1;un(f,h.dx,h.dy);c.dispatchAction(U(d(),{dx:h.dx,dy:h.dy}))},this);b.off("zoom").on("zoom",function(h){this._mouseDownFlag=!1;vn(f,h.scale,h.originX,h.originY);c.dispatchAction(U(d(),{zoom:h.scale,originX:h.originX,originY:h.originY}));if(this._updateGroup){var k=
this.group.scale;this._regionsGroup.traverse(function(l){l.type==="text"&&l.attr("scale",[1/k[0],1/k[1]])})}},this);b.setPointerChecker(function(h,k,l){return e.getViewRectAfterRoam().contain(k,l)&&!pj(h,c,a)})}};rb({type:"map",render:function(a,b,c,d){if(!d||d.type!=="mapToggleSelect"||d.from!==this.uid){var e=this.group;e.removeAll();if(!a.getHostGeoModel()){if(d&&d.type==="geoRoam"&&d.componentType==="series"&&d.seriesId===a.id)(f=this._mapDraw)&&e.add(f.group);else if(a.needsDrawMap){var f=this._mapDraw||
new qj(c,!0);e.add(f.group);f.draw(a,b,c,this,d);this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(a,b,c){var d=a.originalData,e=this.group;d.each(d.mapDimension("value"),function(f,g){if(!isNaN(f)){var h=
d.getItemLayout(g);if(h&&h.point){f=h.point;h=h.offset;f=new Gc({style:{fill:a.getData().getVisual("color")},shape:{cx:f[0]+h*9,cy:f[1],r:3},silent:!0,z2:8+(h?0:2)});if(!h){var k=a.mainSeries.getData(),l=d.getName(g),m=k.indexOfName(l);h=d.getItemModel(g);g=h.getModel("label");h=h.getModel("emphasis.label");k=k.getItemGraphicEl(m);l=Ia(a.getFormattedLabel(m,"normal"),l);m=Ia(a.getFormattedLabel(m,"emphasis"),l);var n=k.__seriesMapHighDown,p=Math.random();if(!n){n=k.__seriesMapHighDown={};var q=R(Ou,
!0),t=R(Ou,!1);k.on("mouseover",q).on("mouseout",t).on("emphasis",q).on("normal",t)}k.__seriesMapCallKey=p;U(n,{recordVersion:p,circle:f,labelModel:g,hoverLabelModel:h,emphasisText:m,normalText:l});Pu(n,!1)}e.add(f)}}})}});la({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(d){var e=d.coordinateSystem;if(e.type==="geo"){var f=wn(e,a,d.get("scaleLimit"));d.setCenter&&d.setCenter(f.center);d.setZoom&&
d.setZoom(f.zoom);c==="series"&&y(d.seriesGroup,function(g){g.setCenter(f.center);g.setZoom(f.zoom)})}})});pa(xn,dc);Ld.prototype={constructor:Ld,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new ea(a,b,c,d)},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d);this._viewRect=new ea(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=this._rawTransformable;f.transform=e.calculateTransform(new ea(a,
b,c,d));f.decomposeTransform();this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(b.max!=null&&(a=Math.min(b.max,a)),b.min!=null&&(a=Math.max(b.min,a)));this._zoom=a;this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},
_updateCenterAndZoom:function(){var a=this._rawTransformable.getLocalTransform(),b=this._roamTransformable,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom();d=sa([],d,a);c=sa([],c,a);b.origin=d;b.position=[c[0]-d[0],c[1]-d[1]];b.scale=[e,e];this._updateTransform()},_updateTransform:function(){var a=this._roamTransformable,b=this._rawTransformable;b.parent=a;a.updateTransform();b.updateTransform();ng(this.transform||(this.transform=[]),b.transform||mb());this._rawTransform=b.getLocalTransform();
this.invTransform=this.invTransform||[];di(this.invTransform,this.transform);this.decomposeTransform()},getTransformInfo:function(){var a=this._roamTransformable.transform,b=this._rawTransformable;return{roamTransform:a?bf(a):mb(),rawScale:bf(b.scale),rawPosition:bf(b.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();a.applyTransform(this.transform);return a},dataToPoint:function(a,b,c){b=b?this._rawTransform:this.transform;
c=c||[];return b?sa(c,a,b):Xa(c,a)},pointToData:function(a){var b=this.invTransform;return b?sa([],a,b):[a[0],a[1]]},convertToPixel:R(Qu,"dataToPoint"),convertFromPixel:R(Qu,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}};pa(Ld,dc);Mf.prototype={constructor:Mf,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),
f=this._invertLongitute;e=e.clone();f&&(e.y=-e.y-e.height);var g=this._rawTransformable;g.transform=e.calculateTransform(new ea(a,b,c,d));g.decomposeTransform();f&&(a=g.scale,a[1]=-a[1]);g.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},
getBoundingRect:function(){return this._rect},dataToPoint:function(a,b,c){typeof a==="string"&&(a=this.getGeoCoord(a));if(a)return Ld.prototype.dataToPoint.call(this,a,b,c)},convertToPixel:R(Ru,"dataToPoint"),convertFromPixel:R(Ru,"pointToData")};pa(Mf,Ld);var Ky={dimensions:Mf.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("geo",function(e,f){var g=e.get("map"),h=e.get("aspectScale"),k=!0,l=nj.retrieveMap(g);l&&l[0]&&l[0].type==="svg"?(h==null&&(h=1),k=!1):h==null&&(h=.75);f=
new Mf(g+f,g,e.get("nameMap"),k);f.aspectScale=h;f.zoomLimit=e.get("scaleLimit");c.push(f);Tu(f,e);e.coordinateSystem=f;f.model=e;f.resize=Su;f.resize(e,b)});a.eachSeries(function(e){if(e.get("coordinateSystem")==="geo"){var f=e.get("geoIndex")||0;e.coordinateSystem=c[f]}});var d={};a.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var f=e.getMapType();d[f]=d[f]||[];d[f].push(e)}});y(d,function(e,f){var g=H(e,function(k){return k.get("nameMap")}),h=new Mf(f,f,hg(g));h.zoomLimit=xa.apply(null,
H(e,function(k){return k.get("scaleLimit")}));c.push(h);h.resize=Su;h.aspectScale=e[0].get("aspectScale");h.resize(e[0],b);y(e,function(k){k.coordinateSystem=h;Tu(h,k)})});return c},getFilledRegions:function(a,b,c){var d=(a||[]).slice(),e=aa();for(a=0;a<d.length;a++)e.set(d[a].name,d[a]);b=jh.load(b,c);y(b.regions,function(f){f=f.name;!e.get(f)&&d.push({name:f})});return d}};Xm("geo",Ky);Da(function(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var e=
{};y(c.seriesGroup,function(g){var h=g.coordinateSystem,k=g.originalData;g.get("showLegendSymbol")&&a.getComponent("legend")&&k.each(k.mapDimension("value"),function(l,m){var n=k.getName(m),p=h.getRegion(n);p&&!isNaN(l)&&(l=e[n]||0,p=h.dataToPoint(p.center),e[n]=l+1,k.setItemLayout(m,{point:p,offset:l}))})});var f=c.getData();f.each(function(g){var h=f.getName(g),k=f.getItemLayout(g)||{};k.showLabel=!e[h];f.setItemLayout(g,k)});b[d]=!0}})});za(function(a){a.eachSeriesByType("map",function(b){var c=
b.get("color"),d=b.getModel("itemStyle"),e=d.get("areaColor");c=d.get("color")||c[b.seriesIndex%c.length];b.getData().setVisual({areaColor:e,color:c})})});Bb(Hc.PROCESSOR.STATISTIC,function(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getHostGeoModel();d=d?"o"+d.id:"i"+c.getMapType();(b[d]=b[d]||[]).push(c)});y(b,function(c,d){d=SC(H(c,function(f){return f.getData()}),c[0].get("mapValueCalculation"));for(var e=0;e<c.length;e++)c[e].originalData=c[e].getData();for(e=0;e<c.length;e++)c[e].seriesGroup=
c,c[e].needsDrawMap=e===0&&!c[e].getHostGeoModel(),c[e].setData(d.cloneShallow()),c[e].mainSeries=c[0]})});ab(function(a){var b=[];y(a.series,function(c){c&&c.type==="map"&&(b.push(c),c.map=c.map||c.mapType,Q(c,c.mapLocation))})});Hy("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var kh=y,Sp=function(a,b){this.name=a||"";this.height=this.depth=0;this.parentNode=
null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=b};Sp.prototype={constructor:Sp,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,b,c){typeof a==="function"&&(c=b,b=a,a=null);a=a||{};va(a)&&(a={order:a});var d=a.order||"preorder",e=this[a.attr||"children"],f;d==="preorder"&&(f=b.call(c,this));for(var g=0;!f&&g<e.length;g++)e[g].eachNode(a,b,c);d==="postorder"&&b.call(c,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=
this.children[c];d.updateDepthAndHeight(a+1);d.height>b&&(b=d.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},contains:function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;b.reverse();return b},getValue:function(a){var b=
this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(a)},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,
a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(a){for(a=a.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},isDescendantOf:function(a){return a!==this&&a.isAncestorOf(this)}};ze.prototype={constructor:ze,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},
update:function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;c<d;c++)b[c].dataIndex=-1;c=0;for(d=a.count();c<d;c++)b[a.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}};ze.createTree=function(a,b,c){function d(h,k){var l=h.value;g=Math.max(g,F(l)?l.length:1);f.push(h);l=new Sp(h.name,e);k?l.parentNode!==k&&(k.children.push(l),l.parentNode=k):e.root=l;e._nodes.push(l);if(h=h.children)for(k=0;k<h.length;k++)d(h[k],l)}var e=new ze(b),f=[],g=1;d(a);e.root.updateDepthAndHeight(0);
a=Gf(f,{coordDimensions:["value"],dimensionsCount:g});b=new Ua(a,b);b.initData(f);c&&c(b);Uu({mainData:b,struct:e,structAttr:"tree"});e.update();return e};Ea.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(a){var b={name:a.name,children:a.data},c=new ka(a.leaves||{},this,this.ecModel),d=ze.createTree(b,this,function(g){g.wrapMethod("getItemModel",function(h,k){k=d.getNodeByDataIndex(k);k.children.length&&k.isExpand||(h.parentModel=c);return h})}),e=0;d.eachNode("preorder",
function(g){g.depth>e&&(e=g.depth)});var f=a.expandAndCollapse&&a.initialTreeDepth>=0?a.initialTreeDepth:e;d.root.eachNode("preorder",function(g){var h=g.hostTree.data.getRawDataItem(g.dataIndex);g.isExpand=h&&h.collapsed!=null?!h.collapsed:g.depth<=f});return d.data},getOrient:function(){var a=this.get("orient");a==="horizontal"?a="LR":a==="vertical"&&(a="TB");return a},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},formatTooltip:function(a){var b=this.getData().tree,
c=b.root.children[0];a=b.getNodeByDataIndex(a);b=a.getValue();for(var d=a.name;a&&a!==c;)d=a.parentNode.name+"."+d,a=a.parentNode;return ya(d+(isNaN(b)||b==null?"":" : "+b))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},
itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1E3}});var bD=Mb({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.childPoints,d=c.length,e=b.parentPoint,f=c[0],g=c[d-1];if(d===1)a.moveTo(e[0],e[1]),a.lineTo(f[0],f[1]);else{var h=b.orient;h=h==="TB"||h==="BT"?0:1;var k=1-
h,l=G(b.forkPosition,1);b=[];b[h]=e[h];b[k]=e[k]+(g[k]-e[k])*l;a.moveTo(e[0],e[1]);a.lineTo(b[0],b[1]);a.moveTo(f[0],f[1]);b[h]=f[h];a.lineTo(b[0],b[1]);b[h]=g[h];a.lineTo(b[0],b[1]);a.lineTo(g[0],g[1]);for(e=1;e<d-1;e++)f=c[e],a.moveTo(f[0],f[1]),b[h]=f[h],a.lineTo(b[0],b[1])}}});rb({type:"tree",init:function(a,b){this._mainGroup=new O;this._controller=new Lf(b.getZr());this._controllerHost={target:this.group};this.group.add(this._mainGroup)},render:function(a,b,c,d){var e=a.getData();d=a.layoutInfo;
var f=this._mainGroup,g=a.get("layout");g==="radial"?f.attr("position",[d.x+d.width/2,d.y+d.height/2]):f.attr("position",[d.x,d.y]);this._updateViewCoordSys(a,d,g);this._updateController(a,b,c);var h=this._data,k={expandAndCollapse:a.get("expandAndCollapse"),layout:g,edgeShape:a.get("edgeShape"),edgeForkPosition:a.get("edgeForkPosition"),orient:a.getOrient(),curvature:a.get("lineStyle.curveness"),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),
useNameLabel:!0,fadeIn:!0};e.diff(h).add(function(l){Xu(e,l)&&Zu(e,l,null,f,a,k)}).update(function(l,m){var n=h.getItemGraphicEl(m);Xu(e,l)?Zu(e,l,n,f,a,k):n&&$u(h,m,n,f,a,k)}).remove(function(l){var m=h.getItemGraphicEl(l);m&&$u(h,l,m,f,a,k)}).execute();this._nodeScaleRatio=a.get("nodeScaleRatio");this._updateNodeAndLinkScale(a);k.expandAndCollapse===!0&&e.eachItemGraphicEl(function(l,m){l.off("click").on("click",function(){c.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:m})})});
this._data=e},_updateViewCoordSys:function(a){var b=a.getData(),c=[];b.each(function(h){h=b.getItemLayout(h);!h||isNaN(h.x)||isNaN(h.y)||c.push([+h.x,+h.y])});var d=[],e=[];wg(c,d,e);var f=this._min,g=this._max;e[0]-d[0]===0&&(d[0]=f?f[0]:d[0]-1,e[0]=g?g[0]:e[0]+1);e[1]-d[1]===0&&(d[1]=f?f[1]:d[1]-1,e[1]=g?g[1]:e[1]+1);f=a.coordinateSystem=new Ld;f.zoomLimit=a.get("scaleLimit");f.setBoundingRect(d[0],d[1],e[0]-d[0],e[1]-d[1]);f.setCenter(a.get("center"));f.setZoom(a.get("zoom"));this.group.attr({position:f.position,
scale:f.scale});this._viewCoordSys=f;this._min=d;this._max=e},_updateController:function(a,b,c){b=this._controller;var d=this._controllerHost,e=this.group;b.setPointerChecker(function(f,g,h){var k=e.getBoundingRect();k.applyTransform(e.transform);return k.contain(g,h)&&!pj(f,c,a)});b.enable(a.get("roam"));d.zoomLimit=a.get("scaleLimit");d.zoom=a.coordinateSystem.getZoom();b.off("pan").off("zoom").on("pan",function(f){un(d,f.dx,f.dy);c.dispatchAction({seriesId:a.id,type:"treeRoam",dx:f.dx,dy:f.dy})},
this).on("zoom",function(f){vn(d,f.scale,f.originX,f.originY);c.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY});this._updateNodeAndLinkScale(a)},this)},_updateNodeAndLinkScale:function(a){var b=a.getData();a=this._getNodeGlobalScale(a);var c=[a,a];b.eachItemGraphicEl(function(d,e){d.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if(a.type!=="view")return 1;var b=this._nodeScaleRatio,c=a.scale;c=c&&c[0]||1;return((a.getZoom()-
1)*b+1)/c},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},remove:function(){this._mainGroup.removeAll();this._data=null}});la({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(c){var d=a.dataIndex;c=c.getData().tree.getNodeByDataIndex(d);c.isExpand=!c.isExpand})});la({type:"treeRoam",event:"treeRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",
subType:"tree",query:a},function(c){var d=wn(c.coordinateSystem,a);c.setCenter&&c.setCenter(d.center);c.setZoom&&c.setZoom(d.zoom)})});za(Pe("tree","circle"));Da(function(a,b){a.eachSeriesByType("tree",function(c){dD(c,b)})});Ea.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),
leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",
color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,
levels:[]},getInitialData:function(a,b){var c={name:a.name,children:a.data};bv(c);var d=a.levels||[],e=this.designatedVisualItemStyle={},f=new ka({itemStyle:e},this,b);d=a.levels=eD(d,b);var g=H(d||[],function(k){return new ka(k,f,b)},this),h=ze.createTree(c,this,function(k){k.wrapMethod("getItemModel",function(l,m){m=h.getNodeByDataIndex(m);l.parentModel=g[m.depth]||f;return l})});return h.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a);
c=F(c)?Yc(c[0]):Yc(c);a=b.getName(a);return ya(a+": "+c)},getDataParams:function(a){var b=Ea.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);b.treePathInfo=Dn(c,this);return b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};U(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=aa(),this._idIndexMapCount=0);var c=b.get(a);c==null&&b.set(a,c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},
resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;if(!a||a!==b&&!b.contains(a))this._viewRoot=b}});En.prototype={constructor:En,render:function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;f.removeAll();if(e.get("show")&&c){var g=e.getModel("itemStyle"),h=g.getModel("textStyle");b={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),
totalWidth:0,renderList:[]};this._prepare(c,b,h);this._renderContent(a,b,g,h,d);Ri(f,b.pos,b.box)}},_prepare:function(a,b,c){for(;a;a=a.parentNode){var d=a.getModel().get("name"),e=c.getTextRect(d);e=Math.max(e.width+16,b.emptyItemWidth);b.totalWidth+=e+8;b.renderList.push({node:a,text:d,width:e})}},_renderContent:function(a,b,c,d,e){var f=0,g=b.emptyItemWidth,h=a.get("breadcrumb.height"),k=b.pos,l=b.box,m=void 0,n=l.width,p=l.height;l=G(k.x,n);var q=G(k.y,p),t=G(k.x2,n);p=G(k.y2,p);(isNaN(l)||isNaN(parseFloat(k.x)))&&
(l=0);(isNaN(t)||isNaN(parseFloat(k.x2)))&&(t=n);isNaN(q)||isNaN(parseFloat(k.y));isNaN(p)||isNaN(parseFloat(k.y2));m=se(m||0);k=Math.max(t-l-m[1]-m[3],0);m=b.totalWidth;b=b.renderList;for(n=b.length-1;n>=0;n--){t=b[n];l=t.node;q=t.width;t=t.text;m>k&&(m-=q-g,q=g,t=null);p=f;var r=q,u=h,v=n===b.length-1,x=[[v?p:p-5,0],[p+r,0],[p+r,0+u],[v?p:p-5,0+u]];n!==0&&x.splice(2,0,[p+r+5,u/2]);!v&&x.push([p,u/2]);t=new sb({shape:{points:x},style:Q(c.getItemStyle(),{lineJoin:"bevel",text:t,textFill:d.getTextColor(),
textFont:d.getFont()}),z:10,onclick:R(e,l)});this.group.add(t);t.eventData={componentType:"series",componentSubType:"treemap",componentIndex:a.componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:l&&l.dataIndex,name:l&&l.name},treePathInfo:l&&Dn(l,a)};f+=q+8}},remove:function(){this.group.removeAll()}};var dv=O,ev=oa,iD=["label"],kD=["emphasis","label"],hD=["upperLabel"],jD=["emphasis","upperLabel"],Fn=Wf([["fill","color"],["stroke",
"strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),cv=function(a){a=Fn(a);a.stroke=a.fill=a.lineWidth=null;return a};rb({type:"treemap",init:function(a,b){this._storage=oh();this._state="ready"},render:function(a,b,c,d){var e=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(ma(e,a)<0)){this.seriesModel=a;this.api=c;this.ecModel=b;b=nh(d,["treemapZoomToNode","treemapRootToNode"],a);e=d&&d.type;var f=a.layoutInfo,g=!this._oldTree,
h=this._storage;d=e==="treemapRootToNode"&&b&&h?{rootNodeGroup:h.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;f=this._giveContainerGroup(f);h=this._doRender(f,a,d);g||e&&e!=="treemapZoomToNode"&&e!=="treemapRootToNode"?h.renderFinally():this._doAnimation(f,h,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;b||(b=this._containerGroup=new dv,this._initEvents(b),this.group.add(b));b.attr("position",[a.x,a.y]);return b},
_doRender:function(a,b,c){function d(p,q,t,r,u){function v(w){return w.getId()}function x(w,z){w=w!=null?p[w]:null;z=z!=null?q[z]:null;var A=m(w,z,t,u);A&&d(w&&w.viewChildren||[],z&&z.viewChildren||[],A,r,u+1)}r?(q=p,y(p,function(w,z){!w.isRemoved()&&x(z,z)})):(new $c(q,p,v,v)).add(x).update(x).remove(R(x,null)).execute()}var e=b.getData().tree,f=this._oldTree,g=oh(),h=oh(),k=this._storage,l=[],m=R(gD,b,h,k,c,g,l);d(e.root?[e.root]:[],f&&f.root?[f.root]:[],a,e===f||!f,0);var n=function(p){var q=oh();
p&&y(p,function(t,r){var u=q[r];y(t,function(v){v&&(u.push(v),v.__tmWillDelete=1)})});return q}(k);this._oldTree=e;this._storage=h;return{lastsForAnimation:g,willDeleteEls:n,renderFinally:function(){y(n,function(p){y(p,function(q){q.parent&&q.parent.remove(q)})});y(l,function(p){p.invisible=!0;p.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),g=fD();y(b.willDeleteEls,function(h,k){y(h,function(l,m){if(!l.invisible){m=
l.parent;if(d&&d.direction==="drillDown")m=m===d.rootNodeGroup?{shape:{x:0,y:0,width:m.__tmNodeWidth,height:m.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var n=0,p=0;m.__tmWillDelete||(n=m.__tmNodeWidth/2,p=m.__tmNodeHeight/2);m=k==="nodeGroup"?{position:[n,p],style:{opacity:0}}:{shape:{x:n,y:p,width:0,height:0},style:{opacity:0}}}m&&g.add(l,m,e,f)}})});y(this._storage,function(h,k){y(h,function(l,m){m=b.lastsForAnimation[k][m];var n={};m&&(k==="nodeGroup"?m.old&&(n.position=l.position.slice(),
l.attr("position",m.old)):(m.old&&(n.shape=U({},l.shape),l.setShape(m.old)),m.fadein?(l.setStyle("opacity",0),n.style={opacity:1}):l.style.opacity!==1&&(n.style={opacity:1})),g.add(l,n,e,f))})},this);this._state="animating";g.done(L(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new Lf(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",L(this._onPan,this)),b.on("zoom",L(this._onZoom,this)));var c=
new ea(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(d,e,f){return c.contain(e,f)})},_clearController:function(){var a=this._controller;a&&a.dispose()},_onPan:function(a){if(this._state!=="animating"&&(Math.abs(a.dx)>3||Math.abs(a.dy)>3)){var b=this.seriesModel.getData().tree.root;b&&(b=b.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:b.x+a.dx,y:b.y+a.dy,width:b.width,height:b.height}})}},_onZoom:function(a){var b=a.originX,
c=a.originY;if(this._state!=="animating"){var d=this.seriesModel.getData().tree.root;if(d&&(d=d.getLayout())){d=new ea(d.x,d.y,d.width,d.height);var e=this.seriesModel.layoutInfo;b-=e.x;c-=e.y;e=mb();Yb(e,e,[-b,-c]);og(e,e,[a.scale,a.scale]);Yb(e,e,[b,c]);d.applyTransform(e);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x,y:d.y,width:d.width,height:d.height}})}}},_initEvents:function(a){a.on("click",function(b){if(this._state==="ready"){var c=
this.seriesModel.get("nodeClick",!0);if(c&&(b=this.findTarget(b.offsetX,b.offsetY))){var d=b.node;d.getLayout().isLeafRoot?this._rootToNode(b):c==="zoomToNode"?this._zoomToNode(b):c==="link"&&(b=d.hostTree.data.getItemModel(d.dataIndex),c=b.get("link",!0),b=b.get("target",!0)||"blank",c&&Qg(c,b))}}},this)},_renderBreadcrumb:function(a,b,c){c||(c=a.get("leafDepth",!0)!=null?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root});(this._breadcrumb||
(this._breadcrumb=new En(this.group))).render(a,b,c.node,L(function(d){this._state!=="animating"&&(Cn(a.getViewRoot(),d)?this._rootToNode({node:d}):this._zoomToNode({node:d}))},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=oh();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,
targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b);e=e.shape;if(e.x<=f[0]&&f[0]<=e.x+e.width&&e.y<=f[1]&&f[1]<=e.y+e.height)c={node:d,offsetX:f[0],offsetY:f[1]};else return!1}},this);
return c}});for(var mH=function(){},Ly=["treemapZoomToNode","treemapRender","treemapMove"],Tp=0;Tp<Ly.length;Tp++)la({type:Ly[Tp],update:"updateView"},mH);la({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(c,d){if(d=nh(a,["treemapZoomToNode","treemapRootToNode"],c)){var e=c.getViewRoot();e&&(a.direction=Cn(e,d.node)?"rollUp":"drillDown");c.resetViewRoot(d.node)}})});var ph=y,My=X,ta=function(a){var b=a.mappingMethod,
c=a.type;a=this.option=T(a);this.type=c;this.mappingMethod=b;this._normalizeData=nH[b];c=Th[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];b==="piecewise"?(Gn(a),lD(a)):b==="category"?a.categories?mD(a):Gn(a,!0):(ja(b!=="linear"||a.dataExtent),Gn(a))};ta.prototype={constructor:ta,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return L(this._normalizeData,this)}};var Th=ta.visualHandlers={color:{applyVisual:tj("color"),
getColorMapper:function(){var a=this.option;return L(a.mappingMethod==="category"?function(b,c){!c&&(b=this._normalizeData(b));return uj.call(this,b)}:function(b,c,d){var e=!!d;!c&&(b=this._normalizeData(b));d=qg(b,a.parsedVisual,d);return e?d:Qc(d,"rgba")},this)},_doMap:{linear:function(a){return Qc(qg(a,this.option.parsedVisual),"rgba")},category:uj,piecewise:function(a,b){b=In.call(this,b);b==null&&(b=Qc(qg(a,this.option.parsedVisual),"rgba"));return b},fixed:Ae}},colorHue:sj(function(a,b){return hf(a,
b)}),colorSaturation:sj(function(a,b){return hf(a,null,b)}),colorLightness:sj(function(a,b){return hf(a,null,null,b)}),colorAlpha:sj(function(a,b){return fi(a,b)}),opacity:{applyVisual:tj("opacity"),_doMap:Hn([0,1])},liftZ:{applyVisual:tj("liftZ"),_doMap:{linear:Ae,category:Ae,piecewise:Ae,fixed:Ae}},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(va(a))c("symbol",a);else if(My(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:gv,category:uj,piecewise:function(a,b){b=
In.call(this,b);b==null&&(b=gv.call(this,a));return b},fixed:Ae}},symbolSize:{applyVisual:tj("symbolSize"),_doMap:Hn([0,1])}},nH={linear:function(a){return ia(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=ta.findPieceIndex(a,b,!0);if(a!=null)return ia(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return a==null?-1:a},fixed:Pa};ta.listVisualTypes=function(){var a=[];y(Th,function(b,c){a.push(c)});return a};
ta.addVisualHandler=function(a,b){Th[a]=b};ta.isValidType=function(a){return Th.hasOwnProperty(a)};ta.eachVisual=function(a,b,c){X(a)?y(a,b,c):b.call(c,a)};ta.mapVisual=function(a,b,c){var d,e=F(a)?[]:X(a)?{}:(d=!0,null);ta.eachVisual(a,function(f,g){f=b.call(c,f,g);d?e=f:e[g]=f});return e};ta.retrieveVisuals=function(a){var b={},c;a&&ph(Th,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};ta.prepareVisualTypes=function(a){if(My(a)){var b=[];ph(a,function(c,d){b.push(d)});a=b}else if(F(a))a=
a.slice();else return[];a.sort(function(c,d){return d==="color"&&c!=="color"&&c.indexOf("color")===0?1:-1});return a};ta.dependsOn=function(a,b){return b==="color"?!(!a||a.indexOf(b)!==0):a===b};ta.findPieceIndex=function(a,b,c){function d(m,n){m=Math.abs(m-a);m<f&&(f=m,e=n)}for(var e,f=Infinity,g=0,h=b.length;g<h;g++){var k=b[g].value;if(k!=null){if(k===a||typeof k==="string"&&k===a+"")return g;c&&d(k,g)}}g=0;for(h=b.length;g<h;g++){var l=b[g];k=l.interval;l=l.close;if(k){if(k[0]===-Infinity){if(vj(l[1],
a,k[1]))return g}else if(k[1]===Infinity){if(vj(l[0],k[0],a))return g}else if(vj(l[0],k[0],a)&&vj(l[1],a,k[1]))return g;c&&d(k[0],g);c&&d(k[1],g)}}if(c)return a===Infinity?b.length-1:a===-Infinity?0:e};var pD=F,qh=Math.max,wj=Math.min,Ln=y,kv=["itemStyle","borderWidth"],qD=["itemStyle","gapWidth"],xD=["upperLabel","show"],yD=["upperLabel","height"];za({seriesType:"treemap",reset:function(a,b,c,d){b=a.getData().tree.root;b.isRemoved()||hv(b,{},a.getViewRoot().getAncestors(),a)}});Da({seriesType:"treemap",
reset:function(a,b,c,d){b=c.getWidth();var e=c.getHeight(),f=a.option;c=Ja(a.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()});var g=f.size||[],h=G(xa(c.width,g[0]),b),k=G(xa(c.height,g[1]),e),l=d&&d.type;g=nh(d,["treemapZoomToNode","treemapRootToNode"],a);d=l==="treemapRender"||l==="treemapMove"?d.rootRect:null;var m=a.getViewRoot(),n=av(m);if(l!=="treemapMove"){h=l==="treemapZoomToNode"?vD(a,g,m,h,k):d?[d.width,d.height]:[h,k];(k=f.sort)&&k!=="asc"&&k!=="desc"&&(k="desc");f={squareRatio:f.squareRatio,
sort:k,leafDepth:f.leafDepth};m.hostTree.clearLayouts();var p={x:0,y:0,width:h[0],height:h[1],area:h[0]*h[1]};m.setLayout(p);jv(m,f,!1,0);p=m.getLayout();Ln(n,function(q,t){t=(n[t+1]||m).getValue();q.setLayout(U({dataExtent:[t,t],borderWidth:0,upperHeight:0},p))})}f=a.getData().tree.root;f.setLayout(wD(c,d,g),!0);a.setLayoutInfo(c);nv(f,new ea(-c.x,-c.y,b,e),n,m,0)}});var Uh=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}},Gb=Uh.prototype;Gb.type="graph";
Gb.isDirected=function(){return this._directed};Gb.addNode=function(a,b){a=a==null?""+b:""+a;var c=this._nodesMap;if(c["_EC_"+a])I&&console.error("Graph nodes have duplicate name or id");else return b=new hc(a,b),b.hostGraph=this,this.nodes.push(b),c["_EC_"+a]=b};Gb.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};Gb.getNodeById=function(a){return this._nodesMap["_EC_"+a]};Gb.addEdge=function(a,b,c){var d=this._nodesMap,e=this._edgesMap;typeof a==="number"&&(a=this.nodes[a]);
typeof b==="number"&&(b=this.nodes[b]);hc.isInstance(a)||(a=d["_EC_"+a]);hc.isInstance(b)||(b=d["_EC_"+b]);if(a&&b)return d=a.id+"-"+b.id,c=new rh(a,b,c),c.hostGraph=this,this._directed&&(a.outEdges.push(c),b.inEdges.push(c)),a.edges.push(c),a!==b&&b.edges.push(c),this.edges.push(c),e[d]=c};Gb.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};Gb.getEdge=function(a,b){hc.isInstance(a)&&(a=a.id);hc.isInstance(b)&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+
"-"+b]:c[a+"-"+b]||c[b+"-"+a]};Gb.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)};Gb.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;e<d;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)};Gb.breadthFirstTraverse=function(a,b,c,d){hc.isInstance(b)||(b=this._nodesMap["_EC_"+b]);if(b){c=c==="out"?"outEdges":c==="in"?"inEdges":"edges";for(var e=0;e<this.nodes.length;e++)this.nodes[e].__visited=!1;
if(!a.call(d,b,null))for(b=[b];b.length;){var f=b.shift(),g=f[c];for(e=0;e<g.length;e++){var h=g[e];h=h.node1===f?h.node2:h.node1;if(!h.__visited){if(a.call(d,h,f))return;b.push(h);h.__visited=!0}}}}};Gb.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;e<f;e++)c[e].dataIndex=-1;e=0;for(f=a.count();e<f;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(g){g=d[b.getRawIndex(g)];return g.node1.dataIndex>=0&&g.node2.dataIndex>=0});e=0;for(f=d.length;e<
f;e++)d[e].dataIndex=-1;e=0;for(f=b.count();e<f;e++)d[b.getRawIndex(e)].dataIndex=e};Gb.clone=function(){for(var a=new Uh(this._directed),b=this.nodes,c=this.edges,d=0;d<b.length;d++)a.addNode(b[d].id,b[d].dataIndex);for(d=0;d<c.length;d++)b=c[d],a.addEdge(b.node1.id,b.node2.id,b.dataIndex);return a};hc.prototype={constructor:hc,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<
0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};rh.prototype.getModel=function(a){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};var Ny=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,
d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};pa(hc,Ny("hostGraph","data"));pa(rh,Ny("hostGraph","edgeData"));Uh.Node=hc;Uh.Edge=rh;li(hc);li(rh);var Oy=function(a,b,c,d,e){d=new Uh(d);for(var f=0;f<a.length;f++)d.addNode(xa(a[f].id,a[f].name,f),f);var g=[],h=[],
k=0;for(f=0;f<b.length;f++){var l=b[f],m=l.source,n=l.target;d.addEdge(m,n,k)&&(h.push(l),g.push(xa(l.id,m+" \x3e "+n)),k++)}b=c.get("coordinateSystem");b==="cartesian2d"||b==="polar"?b=bd(a,c):(b=(b=$a.get(b))&&b.type!=="view"?b.dimensions||[]:[],ma(b,"value")<0&&b.concat(["value"]),b=Gf(a,{coordDimensions:b}),b=new Ua(b,c),b.initData(a));a=new Ua(["value"],c);a.initData(h,g);e&&e(b,a);Uu({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:a},datasAttr:{node:"data",edge:"edgeData"}});d.update();
return d},xj=function(a){return a.get("autoCurveness")||null},ov=function(a,b){var c=xj(a),d=20;if(typeof c==="number")d=c;else if(F(c)){a.__curvenessList=c;return}b>d&&(d=b);c=d%2?d+2:d+3;b=[];for(d=0;d<c;d++)b.push((d%2?d+1:d)/10*(d%2?-1:1));a.__curvenessList=b},sh=function(a,b,c){a=[a.id,a.dataIndex].join(".");b=[b.id,b.dataIndex].join(".");return[c.uid,a,b].join("--\x3e")},pv=function(a){a=a.split("--\x3e");return[a[0],a[2],a[1]].join("--\x3e")},Nn=function(a,b){b=b.__edgeMap;return b[a]?b[a].length:
0},Vh=fj({type:"series.graph",init:function(a){function b(){return c._categoriesData}Vh.superApply(this,"init",arguments);var c=this;this.legendVisualProvider=new hh(b,b);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){Vh.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){Vh.superApply(this,"mergeDefaultAndTheme",arguments);ie(a,["edgeLabel"],["show"])},getInitialData:function(a,
b){function c(f,g){function h(m){return(m=this.parsePath(m))&&m[0]==="label"?k:m&&m[0]==="emphasis"&&m[1]==="label"?l:this.parentModel}f.wrapMethod("getItemModel",function(m){var n=e._categoriesModels,p=m.getShallow("category");if(n=n[p])n.parentModel=m.parentModel,m.parentModel=n;return m});f=e.getModel("edgeLabel");var k=new ka({label:f.option},f.parentModel,b);f=e.getModel("emphasis.edgeLabel");var l=new ka({emphasis:{label:f.option}},f.parentModel,b);g.wrapMethod("getItemModel",function(m){m.customizeGetParent(h);
return m})}var d=a.edges||a.links||[];a=a.data||a.nodes||[];var e=this;if(a&&d)return xj(this)&&(this.__curvenessList=[],this.__edgeMap={},ov(this)),d=Oy(a,d,this,!0,c),y(d.edges,function(f){var g=f.node1,h=f.node2;f=f.dataIndex;if(xj(this)){g=sh(g,h,this);h=this.__edgeMap;var k=h[pv(g)];h[g]&&!k?h[g].isForward=!0:k&&h[g]&&(k.isForward=!0,h[g].isForward=!1);h[g]=h[g]||[];h[g].push(f)}},this),d.data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},
getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,c){if(c==="edge"){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex);d=d.getName(f.node2.dataIndex);f=[];g!=null&&f.push(g);d!=null&&f.push(d);f=ya(f.join(" \x3e "));e.value&&(f+=" : "+ya(e.value));return f}return Vh.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=H(this.option.categories||[],function(c){return c.value!=null?
c:U({value:0},c)}),b=new Ua(["value"],this);b.initData(a);this._categoriesData=b;this._categoriesModels=b.mapArray(function(c){return b.getItemModel(c,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return Vh.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,
circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),Py=bb.prototype,Up=rj.prototype,AD=Mb({type:"ec-line",style:{stroke:"#000",
fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){this[On(b)?"_buildPathLine":"_buildPathCurve"](a,b)},_buildPathLine:Py.buildPath,_buildPathCurve:Up.buildPath,pointAt:function(a){return this[On(this.shape)?"_pointAtLine":"_pointAtCurve"](a)},_pointAtLine:Py.pointAt,_pointAtCurve:Up.pointAt,tangentAt:function(a){var b=this.shape;a=On(b)?[b.x2-b.x1,b.y2-b.y1]:this._tangentAtCurve(a);return cf(a,a)},_tangentAtCurve:Up.tangentAt}),Vp=["fromSymbol","toSymbol"],
Zd=th.prototype;Zd.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,e=this.parent;e;)e.scale&&(d/=e.scale[0]),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent;e=f.pointAt(0);var h=f.pointAt(g),k=Mc([],h,e);cf(k,k);if(a){a.attr("position",e);var l=a.__specifiedRotation;l==null?(l=f.tangentAt(0),a.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0]))):a.attr("rotation",
l);a.attr("scale",[d*g,d*g])}b&&(b.attr("position",h),l=b.__specifiedRotation,l==null?(l=f.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0]))):b.attr("rotation",l),b.attr("scale",[d*g,d*g]));if(!c.ignore){c.attr("position",h);l=c.__labelDistance;a=l[0]*d;b=l[1]*d;var m=g/2;l=f.tangentAt(m);g=[l[1],-l[0]];f=f.pointAt(m);g[1]>0&&(g[0]=-g[0],g[1]=-g[1]);g=l[0]<0?-1:1;c.__position!=="start"&&c.__position!=="end"&&(m=-Math.atan2(l[1],l[0]),h[0]<e[0]&&(m=Math.PI+m),c.attr("rotation",m));switch(c.__position){case "insideStartTop":case "insideMiddleTop":case "insideEndTop":case "middle":var n=
-b;m="bottom";break;case "insideStartBottom":case "insideMiddleBottom":case "insideEndBottom":n=b;m="top";break;default:n=0,m="middle"}switch(c.__position){case "end":var p=[k[0]*a+h[0],k[1]*b+h[1]],q=k[0]>.8?"left":k[0]<-.8?"right":"center";m=k[1]>.8?"top":k[1]<-.8?"bottom":"middle";break;case "start":p=[-k[0]*a+e[0],-k[1]*b+e[1]];q=k[0]>.8?"right":k[0]<-.8?"left":"center";m=k[1]>.8?"bottom":k[1]<-.8?"top":"middle";break;case "insideStartTop":case "insideStart":case "insideStartBottom":p=[a*g+e[0],
e[1]+n];q=l[0]<0?"right":"left";var t=[-a*g,-n];break;case "insideMiddleTop":case "insideMiddle":case "insideMiddleBottom":case "middle":p=[f[0],f[1]+n];q="center";t=[0,-n];break;case "insideEndTop":case "insideEnd":case "insideEndBottom":p=[-a*g+h[0],h[1]+n],q=l[0]>=0?"right":"left",t=[a*g,-n]}c.attr({style:{textVerticalAlign:c.__verticalAlign||m,textAlign:c.__textAlign||q},position:p,scale:[d,d],origin:t})}}}};Zd._createLine=function(a,b,c){var d=a.hostModel,e=a.getItemLayout(b);e=zD(e);e.shape.percent=
0;eb(e,{shape:{percent:1}},d,b);this.add(e);d=new fa({name:"label",lineLabelOriginalOpacity:1});this.add(d);y(Vp,function(f){var g=qv(f,a,b);this.add(g);this["_"+f+"Type"]=a.getItemVisual(b,f)},this);this._updateCommonStl(a,b,c)};Zd.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};Pn(g.shape,f);ba(e,g,d,b);y(Vp,function(h){var k=a.getItemVisual(b,h),l="_"+h+"Type";this[l]!==k&&(this.remove(this.childOfName(h)),h=qv(h,a,b),this.add(h));this[l]=
k},this);this._updateCommonStl(a,b,c)};Zd._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,g=c&&c.hoverLineStyle,h=c&&c.labelModel,k=c&&c.hoverLabelModel;if(!c||a.hasItemOption)k=a.getItemModel(b),f=k.getModel("lineStyle").getLineStyle(),g=k.getModel("emphasis.lineStyle").getLineStyle(),h=k.getModel("label"),k=k.getModel("emphasis.label");var l=a.getItemVisual(b,"color"),m=oc(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(Q({strokeNoScale:!0,fill:"none",
stroke:l,opacity:m},f));e.hoverStyle=g;y(Vp,function(q){if(q=this.childOfName(q))q.setColor(l),q.setStyle({opacity:m})},this);e=h.getShallow("show");f=k.getShallow("show");g=this.childOfName("label");if(e||f){var n=l||"#000",p=d.getFormattedLabel(b,"normal",a.dataType);p==null&&(p=d.getRawValue(b),p=p==null?a.getName(b):isFinite(p)?wa(p):p)}c=e?p:null;a=f?Ia(d.getFormattedLabel(b,"emphasis",a.dataType),p):null;b=g.style;if(c!=null||a!=null)Ca(g.style,h,{text:c},{autoColor:n}),g.__textAlign=b.textAlign,
g.__verticalAlign=b.textVerticalAlign,g.__position=h.get("position")||"middle",h=h.get("distance"),F(h)||(h=[h,h]),g.__labelDistance=h;g.hoverStyle=a!=null?{text:a,textFill:k.getTextColor(!0),fontStyle:k.getShallow("fontStyle"),fontWeight:k.getShallow("fontWeight"),fontSize:k.getShallow("fontSize"),fontFamily:k.getShallow("fontFamily")}:{text:null};g.ignore=!e&&!f;Aa(this)};Zd.highlight=function(){this.trigger("emphasis")};Zd.downplay=function(){this.trigger("normal")};Zd.updateLayout=function(a,
b){this.setLinePoints(a.getItemLayout(b))};Zd.setLinePoints=function(a){var b=this.childOfName("line");Pn(b.shape,a);b.dirty()};ua(th,O);var Qe=yj.prototype;Qe.isPersistent=function(){return!0};Qe.updateData=function(a){var b=this,c=b.group,d=b._lineData;b._lineData=a;d||c.removeAll();var e=rv(a);a.diff(d).add(function(f){var g=a.getItemLayout(f);Qn(g)&&(g=new b._ctor(a,f,e),a.setItemGraphicEl(f,g),b.group.add(g))}).update(function(f,g){g=d.getItemGraphicEl(g);Qn(a.getItemLayout(f))?(g?g.updateData(a,
f,e):g=new b._ctor(a,f,e),a.setItemGraphicEl(f,g),b.group.add(g)):b.group.remove(g)}).remove(function(f){c.remove(d.getItemGraphicEl(f))}).execute()};Qe.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)};Qe.incrementalPrepareUpdate=function(a){this._seriesScope=rv(a);this._lineData=null;this.group.removeAll()};Qe.incrementalUpdate=function(a,b){function c(f){f.isGroup||f.animators&&f.animators.length>0||(f.incremental=f.useHoverLayer=!0)}
for(var d=a.start;d<a.end;d++){var e=b.getItemLayout(d);Qn(e)&&(e=new this._ctor(b,d,this._seriesScope),e.traverse(c),this.group.add(e),b.setItemGraphicEl(d,e))}};Qe.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Qe._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var Rn=[],Tn=[],Un=[],Nf=hb,Sn=rd,uv=Math.abs,Wp=function(a,b){var c=[],d=[[],[],[]],e=[[],[]],f=[];b/=2;a.eachEdge(function(g,h){h=g.getLayout();var k=g.getVisual("fromSymbol"),
l=g.getVisual("toSymbol");h.__original||(h.__original=[Xb(h[0]),Xb(h[1])],h[2]&&h.__original.push(Xb(h[2])));var m=h.__original;h[2]!=null?(Xa(d[0],m[0]),Xa(d[1],m[2]),Xa(d[2],m[1]),k&&k!=="none"&&(k=vh(g.node1),k=tv(d,m[0],k*b),mf(d[0][0],d[1][0],d[2][0],k,c),d[0][0]=c[3],d[1][0]=c[4],mf(d[0][1],d[1][1],d[2][1],k,c),d[0][1]=c[3],d[1][1]=c[4]),l&&l!=="none"&&(k=vh(g.node2),k=tv(d,m[1],k*b),mf(d[0][0],d[1][0],d[2][0],k,c),d[1][0]=c[1],d[2][0]=c[2],mf(d[0][1],d[1][1],d[2][1],k,c),d[1][1]=c[1],d[2][1]=
c[2]),Xa(h[0],d[0]),Xa(h[1],d[2]),Xa(h[2],d[1])):(Xa(e[0],m[0]),Xa(e[1],m[1]),Mc(f,e[1],e[0]),cf(f,f),k&&k!=="none"&&(k=vh(g.node1),kg(e[0],e[0],f,k*b)),l&&l!=="none"&&(k=vh(g.node2),kg(e[1],e[1],f,-k*b)),Xa(h[0],e[0]),Xa(h[1],e[1]))})},Re=["itemStyle","opacity"],Bk=["lineStyle","opacity"];rb({type:"graph",init:function(a,b){a=new If;var c=new yj,d=this.group;this._controller=new Lf(b.getZr());this._controllerHost={target:d};d.add(a.group);d.add(c.group);this._symbolDraw=a;this._lineDraw=c;this._firstRender=
!0},render:function(a,b,c){var d=this,e=a.coordinateSystem;this._model=a;var f=this._symbolDraw,g=this._lineDraw,h=this.group;e.type==="view"&&(e={position:e.position,scale:e.scale},this._firstRender?h.attr(e):ba(h,e,a));Wp(a.getGraph(),uh(a));var k=a.getData();f.updateData(k);f=a.getEdgeData();g.updateData(f);this._updateNodeAndLinkScale();this._updateController(a,b,c);clearTimeout(this._layoutTimeout);var l=a.forceLayout,m=a.get("force.layoutAnimation");l&&this._startForceLayoutIteration(l,m);k.eachItemGraphicEl(function(t,
r){var u=k.getItemModel(r);t.off("drag").off("dragend");var v=u.get("draggable");if(v)t.on("drag",function(){l&&(l.warmUp(),!this._layouting&&this._startForceLayoutIteration(l,m),l.setFixed(r),k.setItemLayout(r,t.position))},this).on("dragend",function(){l&&l.setUnfixed(r)},this);t.setDraggable(v&&l);t.__focusNodeAdjacency&&t.off("mouseover",t.__focusNodeAdjacency);t.__unfocusNodeAdjacency&&t.off("mouseout",t.__unfocusNodeAdjacency);u.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=
function(){d._clearTimer();c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){d._dispatchUnfocus(c)}))},this);k.graph.eachEdge(function(t){var r=t.getGraphicEl();r.__focusNodeAdjacency&&r.off("mouseover",r.__focusNodeAdjacency);r.__unfocusNodeAdjacency&&r.off("mouseout",r.__unfocusNodeAdjacency);t.getModel().get("focusNodeAdjacency")&&(r.on("mouseover",r.__focusNodeAdjacency=function(){d._clearTimer();c.dispatchAction({type:"focusNodeAdjacency",
seriesId:a.id,edgeDataIndex:t.dataIndex})}),r.on("mouseout",r.__unfocusNodeAdjacency=function(){d._dispatchUnfocus(c)}))});var n=a.get("layout")==="circular"&&a.get("circular.rotateLabel"),p=k.getLayout("cx"),q=k.getLayout("cy");k.eachItemGraphicEl(function(t,r){var u=k.getItemModel(r).get("label.rotate")||0;t=t.getSymbolPath();n?(u=k.getItemLayout(r),r=Math.atan2(u[1]-q,u[0]-p),r<0&&(r=Math.PI*2+r),(u=u[0]<p)&&(r-=Math.PI),u=u?"left":"right",sm(t,{textRotation:-r,textPosition:u,textOrigin:"center"},
{textPosition:u})):sm(t,{textRotation:Math.PI/180*u})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={};this._clearTimer()},_dispatchUnfocus:function(a,b){var c=this;this._clearTimer();this._unfocusDelayTimer=setTimeout(function(){c._unfocusDelayTimer=null;a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:c._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=
null)},focusNodeAdjacency:function(a,b,c,d){a=a.getData().graph;b=d.edgeDataIndex;d=a.getNodeByIndex(d.dataIndex);b=a.getEdgeByIndex(b);if(d||b)a.eachNode(function(e){zj(e,Re,.1)}),a.eachEdge(function(e){zj(e,Bk,.1)}),d&&(Be(d,Re),y(d.edges,function(e){e.dataIndex<0||(Be(e,Bk),Be(e.node1,Re),Be(e.node2,Re))})),b&&(Be(b,Bk),Be(b.node1,Re),Be(b.node2,Re))},unfocusNodeAdjacency:function(a,b,c,d){a=a.getData().graph;a.eachNode(function(e){zj(e,Re)});a.eachEdge(function(e){zj(e,Bk)})},_startForceLayoutIteration:function(a,
b){var c=this;(function e(){a.step(function(f){c.updateLayout(c._model);(c._layouting=!f)&&(b?c._layoutTimeout=setTimeout(e,16):e())})})()},_updateController:function(a,b,c){b=this._controller;var d=this._controllerHost,e=this.group;b.setPointerChecker(function(f,g,h){var k=e.getBoundingRect();k.applyTransform(e.transform);return k.contain(g,h)&&!pj(f,c,a)});a.coordinateSystem.type!=="view"?b.disable():(b.enable(a.get("roam")),d.zoomLimit=a.get("scaleLimit"),d.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",
function(f){un(d,f.dx,f.dy);c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){vn(d,f.scale,f.originX,f.originY);c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY});this._updateNodeAndLinkScale();Wp(a.getGraph(),uh(a));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData();a=uh(a);var c=[a,a];b.eachItemGraphicEl(function(d,e){d.attr("scale",c)})},updateLayout:function(a){Wp(a.getGraph(),
uh(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});la({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){});la({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){});la({type:"graphRoam",event:"graphRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",
query:a},function(c){var d=wn(c.coordinateSystem,a);c.setCenter&&c.setCenter(d.center);c.setZoom&&c.setZoom(d.zoom)})});var Qy=Math.PI,Xp=[],BD={value:function(a,b,c,d,e,f,g,h){var k=0,l=d.getSum("value"),m=Math.PI*2/(l||h);c.eachNode(function(n){var p=n.getValue("value");p=m*(l?p:1)/2;k+=p;n.setLayout([e*Math.cos(k)+f,e*Math.sin(k)+g]);k+=p})},symbolSize:function(a,b,c,d,e,f,g,h){var k=0;Xp.length=h;var l=uh(a);c.eachNode(function(p){var q=vh(p);isNaN(q)&&(q=2);q<0&&(q=0);q*=l;q=Math.asin(q/2/e);
isNaN(q)&&(q=Qy/2);Xp[p.dataIndex]=q;k+=q*2});var m=(2*Qy-k)/h/2,n=0;c.eachNode(function(p){var q=m+Xp[p.dataIndex];n+=q;p.setLayout([e*Math.cos(n)+f,e*Math.sin(n)+g]);n+=q})}},Of=kg;Bb(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(c){var d=c.getCategoriesData(),e=c.getGraph().data,f=d.mapArray(d.getName);e.filterSelf(function(g){g=e.getItemModel(g).getShallow("category");if(g!=null){typeof g==="number"&&(g=f[g]);for(var h=0;h<b.length;h++)if(!b[h].isSelected(g))return!1}return!0})},
this)});za(Pe("graph","circle",null));za(function(a){var b={};a.eachSeriesByType("graph",function(c){var d=c.getCategoriesData(),e=c.getData(),f={};d.each(function(g){var h=d.getName(g);f["ec-"+h]=g;var k=d.getItemModel(g);h=k.get("itemStyle.color")||c.getColorFromPalette(h,b);d.setItemVisual(g,"color",h);h=["opacity","symbol","symbolSize","symbolKeepAspect"];for(var l=0;l<h.length;l++){var m=k.getShallow(h[l],!0);m!=null&&d.setItemVisual(g,h[l],m)}});d.count()&&e.each(function(g){var h=e.getItemModel(g).getShallow("category");
if(h!=null){typeof h==="string"&&(h=f["ec-"+h]);for(var k=["color","opacity","symbol","symbolSize","symbolKeepAspect"],l=0;l<k.length;l++)e.getItemVisual(g,k[l],!0)==null&&e.setItemVisual(g,k[l],d.getItemVisual(h,k[l]))}})})});za(function(a){a.eachSeriesByType("graph",function(b){var c=b.getGraph(),d=b.getEdgeData(),e=Aj(b.get("edgeSymbol")),f=Aj(b.get("edgeSymbolSize")),g=["lineStyle","color"],h=["lineStyle","opacity"];d.setVisual("fromSymbol",e&&e[0]);d.setVisual("toSymbol",e&&e[1]);d.setVisual("fromSymbolSize",
f&&f[0]);d.setVisual("toSymbolSize",f&&f[1]);d.setVisual("color",b.get(g));d.setVisual("opacity",b.get(h));d.each(function(k){var l=d.getItemModel(k);k=c.getEdgeByIndex(k);var m=Aj(l.getShallow("symbol",!0)),n=Aj(l.getShallow("symbolSize",!0)),p=l.get(g);l=l.get(h);switch(p){case "source":p=k.node1.getVisual("color");break;case "target":p=k.node2.getVisual("color")}m[0]&&k.setVisual("fromSymbol",m[0]);m[1]&&k.setVisual("toSymbol",m[1]);n[0]&&k.setVisual("fromSymbolSize",n[0]);n[1]&&k.setVisual("toSymbolSize",
n[1]);k.setVisual("color",p);k.setVisual("opacity",l)})})});Da(function(a,b){a.eachSeriesByType("graph",function(c){var d=c.get("layout"),e=c.coordinateSystem;if(e&&e.type!=="view"){var f=c.getData(),g=[];y(e.dimensions,function(n){g=g.concat(f.mapDimension(n,!0))});for(d=0;d<f.count();d++){for(var h=[],k=!1,l=0;l<g.length;l++){var m=f.get(g[l],d);isNaN(m)||(k=!0);h.push(m)}k?f.setItemLayout(d,e.dataToPoint(h)):f.setItemLayout(d,[NaN,NaN])}xv(f.graph,c)}else d&&d!=="none"||wv(c)})});Da(Hc.VISUAL.POST_CHART_LAYOUT,
function(a){a.eachSeriesByType("graph",function(b){b.get("layout")==="circular"&&yv(b,"symbolSize")})});Da(function(a){a.eachSeriesByType("graph",function(b){var c=b.coordinateSystem;if(!c||c.type==="view")if(b.get("layout")==="force"){var d=b.preservedPoints||{},e=b.getGraph(),f=e.data,g=e.edgeData,h=b.getModel("force");c=h.get("initLayout");b.preservedPoints?f.each(function(t){var r=f.getId(t);f.setItemLayout(t,d[r]||[NaN,NaN])}):c&&c!=="none"?c==="circular"&&yv(b,"value"):wv(b);var k=f.getDataExtent("value"),
l=g.getDataExtent("value"),m=h.get("repulsion"),n=h.get("edgeLength");F(m)||(m=[m,m]);F(n)||(n=[n,n]);n=[n[1],n[0]];var p=f.mapArray("value",function(t,r){var u=f.getItemLayout(r);t=ia(t,k,m);isNaN(t)&&(t=(m[0]+m[1])/2);return{w:t,rep:t,fixed:f.getItemModel(r).get("fixed"),p:!u||isNaN(u[0])||isNaN(u[1])?null:u}});g=g.mapArray("value",function(t,r){var u=e.getEdgeByIndex(r);t=ia(t,l,n);isNaN(t)&&(t=(n[0]+n[1])/2);var v=u.getModel();r=oc(v.get("lineStyle.curveness"),-Mn(u,b,r,!0),0);return{n1:p[u.node1.dataIndex],
n2:p[u.node2.dataIndex],d:t,curveness:r,ignoreForceLayout:v.get("ignoreForceLayout")}});c=b.coordinateSystem;c=c.getBoundingRect();h=CD(p,g,{rect:c,gravity:h.get("gravity"),friction:h.get("friction")});var q=h.step;h.step=function(t){for(var r=0,u=p.length;r<u;r++)p[r].fixed&&Xa(p[r].p,e.getNodeByIndex(r).getLayout());q(function(v,x,w){for(var z=0,A=v.length;z<A;z++)v[z].fixed||e.getNodeByIndex(z).setLayout(v[z].p),d[f.getId(z)]=v[z].p;z=0;for(A=x.length;z<A;z++){v=x[z];var B=e.getEdgeByIndex(z),
C=v.n1.p,D=v.n2.p,E=B.getLayout();E=E?E.slice():[];E[0]=E[0]||[];E[1]=E[1]||[];Xa(E[0],C);Xa(E[1],D);+v.curveness&&(E[2]=[(C[0]+D[0])/2-(C[1]-D[1])*v.curveness,(C[1]+D[1])/2-(D[0]-C[0])*v.curveness]);B.setLayout(E)}t&&t(w)})};b.forceLayout=h;b.preservedPoints=d;h.step()}else b.forceLayout=null})});Xm("graphView",{create:function(a,b){var c=[];a.eachSeriesByType("graph",function(d){var e=d.get("coordinateSystem");if(!e||e==="view"){var f=d.getData(),g=f.mapArray(function(p){p=f.getItemModel(p);return[+p.get("x"),
+p.get("y")]});e=[];var h=[];wg(g,e,h);h[0]-e[0]===0&&(h[0]+=1,--e[0]);h[1]-e[1]===0&&(h[1]+=1,--e[1]);var k=(h[0]-e[0])/(h[1]-e[1]);g=DD(d,b,k);isNaN(k)&&(e=[g.x,g.y],h=[g.x+g.width,g.y+g.height]);k=h[0]-e[0];h=h[1]-e[1];var l=g.width,m=g.height,n=d.coordinateSystem=new Ld;n.zoomLimit=d.get("scaleLimit");n.setBoundingRect(e[0],e[1],k,h);n.setViewRect(g.x,g.y,l,m);n.setCenter(d.get("center"));n.setZoom(d.get("zoom"));c.push(n)}});return c}});Ea.extend({type:"series.gauge",getInitialData:function(a,
b){return bg(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",
width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var oH=ha.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),k=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2;a.moveTo(h,
k);a.lineTo(b.x+c(g)*f,b.y+d(g)*f);a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e);a.lineTo(b.x-c(g)*f,b.y-d(g)*f);a.lineTo(h,k)}}),pH=Math.PI*2;Sa.extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e=a.get("center"),f=c.getWidth(),g=c.getHeight();g=Math.min(f,g);f=G(e[0],c.getWidth());e=G(e[1],c.getHeight());g=G(a.get("radius"),g/2);this._renderMain(a,b,c,d,{cx:f,cy:e,r:g})},dispose:function(){},_renderMain:function(a,b,c,d,e){var f=this.group,
g=a.getModel("axisLine"),h=g.getModel("lineStyle"),k=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,m=-a.get("endAngle")/180*Math.PI,n=(m-l)%pH,p=l,q=h.get("width");g=g.get("show");for(var t=0;g&&t<d.length;t++)m=l+n*Math.min(Math.max(d[t][0],0),1),p=new fc({shape:{startAngle:p,endAngle:m,cx:e.cx,cy:e.cy,clockwise:k,r0:e.r-q,r:e.r},silent:!0}),p.setStyle({fill:d[t][1]}),p.setStyle(h.getLineStyle(["color","borderWidth","borderColor"])),f.add(p),p=m;f=function(r){if(r<=0)return d[0][1];for(var u=
0;u<d.length;u++)if(d[u][0]>=r&&(u===0?0:d[u-1][0])<r)return d[u][1];return d[u-1][1]};k||(h=l,l=m,m=h);this._renderTicks(a,b,c,f,e,l,m,k);this._renderPointer(a,b,c,f,e,l,m,k);this._renderTitle(a,b,c,f,e);this._renderDetail(a,b,c,f,e)},_renderTicks:function(a,b,c,d,e,f,g,h){b=this.group;c=e.cx;h=e.cy;e=e.r;var k=+a.get("min"),l=+a.get("max"),m=a.getModel("splitLine"),n=a.getModel("axisTick"),p=a.getModel("axisLabel");a=a.get("splitNumber");var q=n.get("splitNumber"),t=G(m.get("length"),e),r=G(n.get("length"),
e),u=f;f=(g-f)/a;g=f/q;for(var v=m.getModel("lineStyle").getLineStyle(),x=n.getModel("lineStyle").getLineStyle(),w=0;w<=a;w++){var z=Math.cos(u),A=Math.sin(u);if(m.get("show")){var B=new bb({shape:{x1:z*e+c,y1:A*e+h,x2:z*(e-t)+c,y2:A*(e-t)+h},style:v,silent:!0});v.stroke==="auto"&&B.setStyle({stroke:d(w/a)});b.add(B)}if(p.get("show")){B=zv(wa(w/a*(l-k)+k),p.get("formatter"));var C=p.get("distance"),D=d(w/a);b.add(new fa({style:Ca({},p,{text:B,x:z*(e-t-C)+c,y:A*(e-t-C)+h,textVerticalAlign:A<-.4?"top":
A>.4?"bottom":"middle",textAlign:z<-.4?"left":z>.4?"right":"center"},{autoColor:D}),silent:!0}))}if(n.get("show")&&w!==a){for(B=0;B<=q;B++)z=Math.cos(u),A=Math.sin(u),z=new bb({shape:{x1:z*e+c,y1:A*e+h,x2:z*(e-r)+c,y2:A*(e-r)+h},silent:!0,style:x}),x.stroke==="auto"&&z.setStyle({stroke:d((w+B/q)/a)}),b.add(z),u+=g;u-=g}else u+=f}},_renderPointer:function(a,b,c,d,e,f,g,h){var k=this.group,l=this._data;if(a.get("pointer.show")){var m=[+a.get("min"),+a.get("max")],n=[f,g],p=a.getData(),q=p.mapDimension("value");
p.diff(l).add(function(t){var r=new oH({shape:{angle:f}});eb(r,{shape:{angle:ia(p.get(q,t),m,n,!0)}},a);k.add(r);p.setItemGraphicEl(t,r)}).update(function(t,r){r=l.getItemGraphicEl(r);ba(r,{shape:{angle:ia(p.get(q,t),m,n,!0)}},a);k.add(r);p.setItemGraphicEl(t,r)}).remove(function(t){t=l.getItemGraphicEl(t);k.remove(t)}).execute();p.eachItemGraphicEl(function(t,r){var u=p.getItemModel(r),v=u.getModel("pointer");t.setShape({x:e.cx,y:e.cy,width:G(v.get("width"),e.r),r:G(v.get("length"),e.r)});t.useStyle(u.getModel("itemStyle").getItemStyle());
t.style.fill==="auto"&&t.setStyle("fill",d(ia(p.get(q,r),m,[0,1],!0)));Aa(t,u.getModel("emphasis.itemStyle").getItemStyle())});this._data=p}else l&&l.eachItemGraphicEl(function(t){k.remove(t)})},_renderTitle:function(a,b,c,d,e){b=a.getData();var f=b.mapDimension("value");c=a.getModel("title");if(c.get("show")){var g=c.get("offsetCenter"),h=e.cx+G(g[0],e.r);e=e.cy+G(g[1],e.r);g=+a.get("min");var k=+a.get("max");a=a.getData().get(f,0);d=d(ia(a,[g,k],[0,1],!0));this.group.add(new fa({silent:!0,style:Ca({},
c,{x:h,y:e,text:b.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(a,b,c,d,e){b=a.getModel("detail");var f=+a.get("min"),g=+a.get("max");if(b.get("show")){var h=b.get("offsetCenter");c=e.cx+G(h[0],e.r);h=e.cy+G(h[1],e.r);var k=G(b.get("width"),e.r);e=G(b.get("height"),e.r);a=a.getData();a=a.get(a.mapDimension("value"),0);d=d(ia(a,[f,g],[0,1],!0));this.group.add(new fa({silent:!0,style:Ca({},b,{x:c,y:h,text:zv(a,b.get("formatter")),textWidth:isNaN(k)?
null:k,textHeight:isNaN(e)?null:e,textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}}});var Ry=fj({type:"series.funnel",init:function(a){Ry.superApply(this,"init",arguments);this.legendVisualProvider=new hh(L(this.getData,this),L(this.getRawData,this));this._defaultLabelLine(a)},getInitialData:function(a,b){return bg(this,{coordDimensions:["value"],encodeDefaulter:R(Fm,this)})},_defaultLabelLine:function(a){ie(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;
b.show=b.show&&a.label.show;c.show=c.show&&a.emphasis.label.show},getDataParams:function(a){var b=this.getData(),c=Ry.superCall(this,"getDataParams",a),d=b.mapDimension("value"),e=b.getSum(d);c.percent=e?+(b.get(d,a)/e*100).toFixed(2):0;c.$vars.push("percent");return c},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,
lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),Sy=Vn.prototype,qH=["itemStyle","opacity"];Sy.updateData=function(a,b,c){var d=this.childAt(0),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b),h=a.getItemModel(b).get(qH);h=h==null?1:h;d.useStyle({});c?(d.setShape({points:g.points}),d.setStyle({opacity:0}),eb(d,{style:{opacity:h}},e,b)):ba(d,{style:{opacity:h},shape:{points:g.points}},e,b);c=f.getModel("itemStyle");e=a.getItemVisual(b,
"color");d.setStyle(Q({lineJoin:"round",fill:e},c.getItemStyle(["opacity"])));d.hoverStyle=c.getModel("emphasis").getItemStyle();this._updateLabel(a,b);Aa(this)};Sy._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label;a.getItemVisual(b,"color");ba(c,{shape:{points:g.linePoints||g.linePoints}},e,b);ba(d,{style:{x:g.x,y:g.y}},e,b);d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});e=f.getModel("label");var h=f.getModel("emphasis.label"),
k=f.getModel("labelLine"),l=f.getModel("emphasis.labelLine");f=a.getItemVisual(b,"color");yb(d.style,d.hoverStyle={},e,h,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:f,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!h.get("show");c.ignore=c.normalIgnore=!k.get("show");c.hoverIgnore=!l.get("show");c.setStyle({stroke:f});c.setStyle(k.getModel("lineStyle").getLineStyle());c.hoverStyle=
l.getModel("lineStyle").getLineStyle()};ua(Vn,O);Sa.extend({type:"funnel",render:function(a,b,c){var d=a.getData(),e=this._data,f=this.group;d.diff(e).add(function(g){var h=new Vn(d,g);d.setItemGraphicEl(g,h);f.add(h)}).update(function(g,h){h=e.getItemGraphicEl(h);h.updateData(d,g);f.add(h);d.setItemGraphicEl(g,h)}).remove(function(g){g=e.getItemGraphicEl(g);f.remove(g)}).execute();this._data=d},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});za(zk("funnel"));Da(function(a,
b,c){a.eachSeriesByType("funnel",function(d){var e=d.getData(),f=e.mapDimension("value"),g=d.get("sort"),h=ED(d,b),k=FD(e,g),l=d.get("orient"),m=h.width,n=h.height,p=h.x,q=h.y,t=l==="horizontal"?[G(d.get("minSize"),n),G(d.get("maxSize"),n)]:[G(d.get("minSize"),m),G(d.get("maxSize"),m)];h=e.getDataExtent(f);var r=d.get("min"),u=d.get("max");r==null&&(r=Math.min(h[0],0));u==null&&(u=h[1]);var v=d.get("funnelAlign");d=d.get("gap");h=((l==="horizontal"?m:n)-d*(e.count()-1))/e.count();var x=function(E,
P){if(l==="horizontal"){E=e.get(f,E)||0;var W=ia(E,[r,u],t,!0);switch(v){case "top":var M=q;break;case "center":M=q+(n-W)/2;break;case "bottom":M=q+(n-W)}return[[P,M],[P,M+W]]}E=e.get(f,E)||0;M=ia(E,[r,u],t,!0);switch(v){case "left":W=p;break;case "center":W=p+(m-M)/2;break;case "right":W=p+m-M}return[[W,P],[W+M,P]]};g==="ascending"&&(h=-h,d=-d,l==="horizontal"?p+=m:q+=n,k=k.reverse());for(var w=0;w<k.length;w++){var z=k[w],A=k[w+1],B=e.getItemModel(z);if(l==="horizontal"){var C=B.get("itemStyle.width");
C==null?C=h:(C=G(C,m),g==="ascending"&&(C=-C));B=x(z,p);A=x(A,p+C);p+=C+d}else{var D=B.get("itemStyle.height");D==null?D=h:(D=G(D,n),g==="ascending"&&(D=-D));B=l==="horizontal"?x(z,p):x(z,q);A=l==="horizontal"?x(A,p+C):x(A,q+D);q+=D+d}e.setItemLayout(z,{points:B.concat(A.slice().reverse())})}GD(e)})});Bb(Rh("funnel"));var Ck=function(a,b,c,d,e){Ma.call(this,a,b,c);this.type=d||"value";this.axisIndex=e};Ck.prototype={constructor:Ck,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!==
"horizontal"}};ua(Ck,Ma);var Je=function(a,b,c,d,e,f){a=a||0;var g=c[1]-c[0];e!=null&&(e=Pf(e,[0,g]));f!=null&&(f=Math.max(f,e!=null?e:0));d==="all"&&(d=Math.abs(b[1]-b[0]),d=Pf(d,[0,g]),e=f=Pf(d,[e,f]),d=0);b[0]=Pf(b[0],c);b[1]=Pf(b[1],c);g=Wn(b,d);b[d]+=a;a=e||0;c=c.slice();g.sign<0?c[0]+=a:c[1]-=a;b[d]=Pf(b[d],c);c=Wn(b,d);e!=null&&(c.sign!==g.sign||c.span<e)&&(b[1-d]=b[d]+g.sign*e);c=Wn(b,d);f!=null&&c.span>f&&(b[1-d]=b[d]+c.sign*f);return b},Av=Math.min,Bv=Math.max,Ty=Math.floor,rH=Math.ceil,
sH=Math.PI;Xn.prototype={type:"parallel",constructor:Xn,_init:function(a,b,c){var d=a.parallelAxisIndex;y(a.dimensions,function(e,f){var g=d[f];f=b.getComponent("parallelAxis",g);e=this._axesMap.set(e,new Ck(e,Hf(f),[0,0],f.get("type"),g));e.onBand=e.type==="category"&&f.get("boundaryGap");e.inverse=f.get("inverse");f.axis=e;e.model=f;e.coordinateSystem=f.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var b=this._makeLayoutInfo(),
c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,f=a[1-e];a=a[e];return f>=c&&f<=c+b.axisLength&&a>=d&&a<=d+b.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();y(this.dimensions,function(e){var f=this._axesMap.get(e);f.scale.unionExtentFromData(d,d.mapDimension(e));Hd(f.scale,f.model)},this)}},this)},resize:function(a,b){this._rect=Ja(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});
this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a=this._model,b=this._rect,c=["x","y"],d=["width","height"],e=a.get("layout"),f=e==="horizontal"?0:1,g=b[d[f]],h=[0,g],k=this.dimensions.length,l=Bj(a.get("axisExpandWidth"),h),m=Bj(a.get("axisExpandCount")||0,[0,k]),n=a.get("axisExpandable")&&k>3&&k>m&&m>1&&l>0&&g>0,p=a.get("axisExpandWindow");p?h=Bj(p[1]-p[0],h):(h=Bj(l*(m-1),h),p=a.get("axisExpandCenter")||Ty(k/2),p=[l*p-h/2]);p[1]=p[0]+h;m=(g-h)/(k-m);m<3&&
(m=0);a=[Ty(wa(p[0]/l,1))+1,rH(wa(p[1]/l,1))-1];return{layout:e,pixelDimIndex:f,layoutBase:b[c[f]],layoutLength:g,axisBase:b[c[1-f]],axisLength:b[d[1-f]],axisExpandable:n,axisExpandWidth:l,axisCollapseWidth:m,axisExpandWindow:p,axisCount:k,winInnerIndices:a,axisExpandWindow0Pos:m/l*p[0]}},_layoutAxes:function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(f){var g=[0,d.axisLength],h=f.inverse?1:0;f.setExtent(g[h],g[1-h])});y(c,function(f,g){g=
(d.axisExpandable?KD:JD)(g,d);var h={horizontal:{x:g.position,y:d.axisLength},vertical:{x:0,y:g.position}};h=[h[e].x+a.x,h[e].y+a.y];var k={horizontal:sH/2,vertical:0}[e],l=mb();Pc(l,l,k);Yb(l,l,h);this._axesLayout[f]={position:h,rotation:k,transform:l,axisNameAvailableWidth:g.axisNameAvailableWidth,axisLabelShow:g.axisLabelShow,nameTruncateMaxWidth:g.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),
b)},eachActiveState:function(a,b,c,d){c==null&&(c=0);d==null&&(d=a.count());var e=this._axesMap,f=this.dimensions,g=[],h=[];y(f,function(q){g.push(a.mapDimension(q));h.push(e.get(q).model)});for(var k=this.hasAxisBrushed();c<d;c++){if(k)for(var l="active",m=a.getValues(g,c),n=0,p=f.length;n<p;n++){if(h[n].getActiveState(m[n])==="inactive"){l="inactive";break}}else l="normal";b(l,c)}},hasAxisBrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)b.get(a[d]).model.getActiveState()!==
"normal"&&(c=!0);return c},axisCoordToPoint:function(a,b){return vc([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return T(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var b=this._makeLayoutInfo(),c=b.pixelDimIndex,d=b.axisExpandWindow.slice(),e=d[1]-d[0],f=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:d};a=a[c]-b.layoutBase-b.axisExpandWindow0Pos;c="slide";var g=b.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),
k=h[0]!=null;g?(k&&g&&a<e*h[0]?(c="jump",k=a-e*h[2]):k&&g&&a>e*(1-h[0])?(c="jump",k=a-e*(1-h[2])):(k=a-e*h[1])>=0&&(k=a-e*(1-h[1]))<=0&&(k=0),(k*=b.axisExpandWidth/g)?Je(k,d,f,"all"):c="none"):(e=d[1]-d[0],d=[Bv(0,f[1]*a/e-e/2)],d[1]=Av(f[1],d[0]+e),d[0]=d[1]-e);return{axisExpandWindow:d,behavior:c}}};$a.register("parallel",{create:function(a,b){var c=[];a.eachComponent("parallel",function(d,e){var f=new Xn(d,a,b);f.name="parallel_"+e;f.resize(d,b);d.coordinateSystem=f;f.model=d;c.push(f)});a.eachSeries(function(d){if(d.get("coordinateSystem")===
"parallel"){var e=a.queryComponents({mainType:"parallel",index:d.get("parallelIndex"),id:d.get("parallelId")})[0];d.coordinateSystem=e.coordinateSystem}});return c}});var Uy=na.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Wf([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=T(a))for(var b=a.length-
1;b>=0;b--)wc(a[b])},getActiveState:function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(a==null||isNaN(a))return"inactive";if(b.length===1){if(b=b[0],b[0]<=a&&a<=b[1])return"active"}else for(var c=0,d=b.length;c<d;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}});Y(Uy.prototype,Oe);$f("parallel",Uy,function(a,b){return b.type||(b.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",
opacity:.3},realtime:!0,z:10});na.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){na.prototype.init.apply(this,
arguments);this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&Y(b,a,!0);this._initDimensions()},contains:function(a,b){a=a.get("parallelIndex");return a!=null&&b.getComponent("parallel",a)===this},setAxisExpand:function(a){y(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=Na(this.dependentModels.parallelAxis,
function(d){return(d.get("parallelIndex")||0)===this.componentIndex},this);y(c,function(d){a.push("dim"+d.get("dim"));b.push(d.componentIndex)})}});la({type:"axisAreaSelect",event:"axisAreaSelected"},function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(c){c.axis.model.setActiveIntervals(a.intervals)})});la("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(c){c.setAxisExpand(a)})});var Md=R,Ac=y,PD=H,wh=Math.min,Rf=Math.max,TD=Math.pow,RD=
{w:[0,0],e:[0,1],n:[1,0],s:[1,1]},QD={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Vy={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},LD=0;Qf.prototype={constructor:Qf,enableBrush:function(a){I&&ja(this._mounted);if(this._brushType){var b=this._zr,c=this._uid,d=oj(b);d.globalPan===c&&(d.globalPan=null);OD(b,this._handlers);this._brushType=this._brushOption=null}a.brushType&&(b=this._zr,this._enableGlobalPan||
(c=this._uid,oj(b).globalPan=c),ND(b,this._handlers),this._brushType=a.brushType,this._brushOption=Y(T(Vy),a,!0));return this},setPanels:function(a){if(a&&a.length){var b=this._panels={};y(a,function(c){b[c.panelId]=T(c)})}else this._panels=null;return this},mount:function(a){a=a||{};I&&(this._mounted=!0);this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});this._transform=b.getLocalTransform();return this},
eachCover:function(a,b){Ac(this._covers,a,b)},updateCovers:function(a){function b(h,k){return(h.id!=null?h.id:"\x00-brush-index-"+k)+"-"+h.brushType}function c(h,k){var l=a[h];k!=null&&d[k]===g?e[h]=d[k]:(h=e[h]=k!=null?(d[k].__brushOption=l,d[k]):Ev(f,Cv(f,l)),Yn(f,h))}I&&ja(this._mounted);a=H(a,function(h){return Y(T(Vy),h,!0)});var d=this._covers,e=this._covers=[],f=this,g=this._creatingCover;(new $c(d,a,function(h,k){return b(h.__brushOption,k)},b)).add(c).update(c).remove(function(h){d[h]!==
g&&f.group.remove(d[h])}).execute();return this},unmount:function(){if(!I||this._mounted)return this.enableBrush(!1),$n(this),this._zr.remove(this.group),I&&(this._mounted=!1),this},dispose:function(){this.unmount();this.off()}};pa(Qf,Ra);var MD={mousedown:function(a){if(this._dragging)Ov(this,a);else if(!a.target||!a.target.draggable){fo(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;if(this._creatingPanel=Zn(this,a,b))this._dragging=!0,this._track=[b.slice()]}},
mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:{var c;if(c=this._brushType)c=this._zr,c=!(a<0||a>c.getWidth()||void 0>c.getHeight());if(c){c=this._zr;var d=this._covers,e=Zn(this,a,b);if(!this._dragging)for(var f=0;f<d.length;f++){var g=d[f].__brushOption;if(e&&(e===!0||g.panelId===e.panelId)&&Ce[g.brushType].contain(d[f],b[0],b[1]))break a}e&&c.setCursorStyle("crosshair")}}this._dragging&&(fo(a),(a=Mv(this,a,b,!1))&&De(this,a))},mouseup:function(a){Ov(this,a)}},
Ce={lineX:Pv(0),lineY:Pv(1),rect:{createCover:function(a,b){return Hv(Md(Kv,function(c){return c},function(c){return c}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=Gv(a);return Jv(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){Iv(a,b,c,d)},updateCommon:bo,contain:go},polygon:{createCover:function(a,b){a=new O;a.add(new Tb({name:"main",style:ao(b),silent:!0}));return a},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));
b.add(new sb({name:"main",draggable:!0,drift:Md(SD,a,b),ondragend:Md(De,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:eo(a,b,c)})},updateCommon:bo,contain:go}},tH=["axisLine","axisTickLabel","axisName"],uH=Ta({type:"parallelAxis",init:function(a,b){uH.superApply(this,"init",arguments);(this._brushController=new Qf(b.getZr())).on("brush",L(this._onBrush,this))},render:function(a,b,c,d){if(!d||d.type!=="axisAreaSelect"||b.findComponents({mainType:"parallelAxis",
query:d})[0]!==a){this.axisModel=a;this.api=c;this.group.removeAll();var e=this._axisGroup;this._axisGroup=new O;this.group.add(this._axisGroup);if(a.get("show")){b=b.getComponent("parallel",a.get("parallelIndex"));var f=b.coordinateSystem,g=a.getAreaSelectStyle(),h=g.width;f=f.getAxisLayout(a.axis.dim);f=U({strokeContainThreshold:h},f);var k=new tb(a,f);y(tH,k.add,k);this._axisGroup.add(k.getGroup());this._refreshBrushController(f,g,a,b,h,c);Mi(e,this._axisGroup,d&&d.animation===!1?null:a)}}},_refreshBrushController:function(a,
b,c,d,e,f){var g=c.axis.getExtent(),h=g[1]-g[0],k=Math.min(30,Math.abs(h)*.1);e=ea.create({x:g[0],y:-e/2,width:h,height:e});e.x-=k;e.width+=2*k;this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:Qv(e),isTargetByCursor:Sv(e,f,d),getLinearBrushOtherExtent:Rv(e,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(UD(c))},_onBrush:function(a,b){var c=this.axisModel,d=c.axis;a=H(a,function(e){return[d.coordToData(e.range[0],
!0),d.coordToData(e.range[1],!0)]});(!c.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:a})},dispose:function(){this._brushController.dispose()}});Ta({type:"parallel",render:function(a,b,c){this._model=a;this._api=c;this._handlers||(this._handlers={},y(vH,function(d,e){c.getZr().on(e,this._handlers[e]=L(d,this))},this));Tg(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){y(this._handlers,
function(c,d){b.getZr().off(d,c)});this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(U({type:"parallelAxisExpand"},a))}});var vH={mousedown:function(a){ho(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(ho(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2)>5)return;a=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,
a.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&ho(this,"mousemove")){var b=this._model;a=b.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);var c=a.behavior;c==="jump"&&this._throttledDispatchExpand.debounceNextCall(b.get("axisExpandDebounce"));this._throttledDispatchExpand(c==="none"?null:{axisExpandWindow:a.axisExpandWindow,animation:c==="jump"?null:!1})}}};ab(function(a){HD(a);
ID(a)});Ea.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(a,b){a=this.getSource();VD(a,this);return bd(a,this)},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,c=this.getData(),d=[];b.eachActiveState(c,function(e,f){a===e&&d.push(c.getRawIndex(f))});return d},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,
type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});Sa.extend({type:"parallel",init:function(){this._dataGroup=new O;this.group.add(this._dataGroup)},render:function(a,b,c,d){var e=this._dataGroup,f=a.getData(),g=this._data,h=a.coordinateSystem,k=h.dimensions,l=Vv(a);f.diff(g).add(function(m){var n=Uv(f,e,m,k,h);io(n,f,m,l)}).update(function(m,n){n=g.getItemGraphicEl(n);var p=Tv(f,m,k,h);f.setItemGraphicEl(m,n);ba(n,{shape:{points:p}},d&&d.animation===!1?
null:a,m);io(n,f,m,l)}).remove(function(m){m=g.getItemGraphicEl(m);e.remove(m)}).execute();this._initialized||(this._initialized=!0,b=WD(h,a,function(){setTimeout(function(){e.removeClipPath()})}),e.setClipPath(b));this._data=f},incrementalPrepareRender:function(a,b,c){this._initialized=!0;this._data=null;this._dataGroup.removeAll()},incrementalRender:function(a,b,c){c=b.getData();var d=b.coordinateSystem,e=d.dimensions;b=Vv(b);for(var f=a.start;f<a.end;f++){var g=Uv(c,this._dataGroup,f,e,d);g.incremental=
!0;io(g,c,f,b)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});var wH=["lineStyle","normal","opacity"];za({seriesType:"parallel",reset:function(a,b,c){c=a.getModel("itemStyle");var d=a.getModel("lineStyle");b=b.get("color");b=d.get("color")||c.get("color")||b[a.seriesIndex%b.length];c=a.get("inactiveOpacity");d=a.get("activeOpacity");var e=a.getModel("lineStyle").getLineStyle(),f=a.coordinateSystem;a=a.getData();var g={normal:e.opacity,active:d,
inactive:c};a.setVisual("color",b);return{progress:function(h,k){f.eachActiveState(k,function(l,m){var n=g[l];l==="normal"&&k.hasItemOption&&(l=k.getItemModel(m).get(wH,!0),l!=null&&(n=l));k.setItemVisual(m,"opacity",n)},h.start,h.end)}}}});var Wy=Ea.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(a,b){function c(h,k){h.wrapMethod("getItemModel",function(l,m){l.customizeGetParent(function(n){n=this.parentModel;var p=n.getData().getItemLayout(m).depth;return n.levelModels[p]||
this.parentModel});return l});k.wrapMethod("getItemModel",function(l,m){l.customizeGetParent(function(n){n=this.parentModel;var p=n.getGraph().getEdgeByIndex(m).node1.getLayout().depth;return n.levelModels[p]||this.parentModel});return l})}var d=a.edges||a.links,e=a.data||a.nodes;a=a.levels;for(var f=this.levelModels={},g=0;g<a.length;g++)if(a[g].depth!=null&&a[g].depth>=0)f[a[g].depth]=new ka(a[g],this,b);else if(I)throw Error("levels[i].depth is mandatory and should be natural number");if(e&&d)return Oy(e,
d,this,!0,c).data},setNodePosition:function(a,b){a=this.option.data[a];a.localX=b[0];a.localY=b[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,b,c){if(c==="edge"){a=this.getDataParams(a,c);var d=a.data;d=d.source+" -- "+d.target;a.value&&(d+=" : "+a.value);return ya(d)}return c==="node"?(b=this.getGraph().getNodeByIndex(a).getLayout().value,a=this.getDataParams(a,c).data.name,b&&(d=a+" : "+b),ya(d)):Wy.superCall(this,
"formatTooltip",a,b)},optionUpdated:function(){var a=this.option;a.focusNodeAdjacency===!0&&(a.focusNodeAdjacency="allEdges")},getDataParams:function(a,b){var c=Wy.superCall(this,"getDataParams",a,b);c.value==null&&b==="node"&&(a=this.getGraph().getNodeByIndex(a).getLayout().value,c.value=a);return c},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,
label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1E3}}),Xy=["itemStyle","opacity"],Se=["emphasis","itemStyle","opacity"],Yy=["lineStyle","opacity"],Dk=["emphasis","lineStyle","opacity"],xH=Mb({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(a,
b){var c=b.extent;a.moveTo(b.x1,b.y1);a.bezierCurveTo(b.cpx1,b.cpy1,b.cpx2,b.cpy2,b.x2,b.y2);b.orient==="vertical"?(a.lineTo(b.x2+c,b.y2),a.bezierCurveTo(b.cpx2+c,b.cpy2,b.cpx1+c,b.cpy1,b.x1+c,b.y1)):(a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c));a.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}});rb({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(a,b,c){var d=this;b=a.getGraph();var e=
this.group,f=a.layoutInfo,g=f.width,h=f.height,k=a.getData(),l=a.getData("edge"),m=a.get("orient");this._model=a;e.removeAll();e.attr("position",[f.x,f.y]);b.eachEdge(function(n){var p=new xH;p.dataIndex=n.dataIndex;p.seriesIndex=a.seriesIndex;p.dataType="edge";var q=n.getModel("lineStyle"),t=q.get("curveness"),r=n.node1.getLayout(),u=n.node1.getModel(),v=u.get("localX"),x=u.get("localY");u=n.node2.getLayout();var w=n.node2.getModel(),z=w.get("localX");w=w.get("localY");var A=n.getLayout();p.shape.extent=
Math.max(1,A.dy);p.shape.orient=m;m==="vertical"?(v=(v!=null?v*g:r.x)+A.sy,r=(x!=null?x*h:r.y)+r.dy,z=(z!=null?z*g:u.x)+A.ty,u=w!=null?w*h:u.y,w=v,A=r*(1-t)+u*t,x=z,t=r*t+u*(1-t)):(v=(v!=null?v*g:r.x)+r.dx,r=(x!=null?x*h:r.y)+A.sy,z=z!=null?z*g:u.x,u=(w!=null?w*h:u.y)+A.ty,w=v*(1-t)+z*t,A=r,x=v*t+z*(1-t),t=u);p.setShape({x1:v,y1:r,x2:z,y2:u,cpx1:w,cpy1:A,cpx2:x,cpy2:t});p.setStyle(q.getItemStyle());switch(p.style.fill){case "source":p.style.fill=n.node1.getVisual("color");break;case "target":p.style.fill=
n.node2.getVisual("color")}Aa(p,n.getModel("emphasis.lineStyle").getItemStyle());e.add(p);l.setItemGraphicEl(n.dataIndex,p)});b.eachNode(function(n){var p=n.getLayout(),q=n.getModel(),t=q.get("localX"),r=q.get("localY"),u=q.getModel("label"),v=q.getModel("emphasis.label");p=new oa({shape:{x:t!=null?t*g:p.x,y:r!=null?r*h:p.y,width:p.dx,height:p.dy},style:q.getModel("itemStyle").getItemStyle()});q=n.getModel("emphasis.itemStyle").getItemStyle();yb(p.style,q,u,v,{labelFetcher:a,labelDataIndex:n.dataIndex,
defaultText:n.id,isRectText:!0});p.setStyle("fill",n.getVisual("color"));Aa(p,q);e.add(p);k.setItemGraphicEl(n.dataIndex,p);p.dataType="node"});k.eachItemGraphicEl(function(n,p){var q=k.getItemModel(p);q.get("draggable")&&(n.drift=function(t,r){d._focusAdjacencyDisabled=!0;this.shape.x+=t;this.shape.y+=r;this.dirty();c.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:k.getRawIndex(p),localX:this.shape.x/g,localY:this.shape.y/h})},n.ondragend=function(){d._focusAdjacencyDisabled=!1},n.draggable=
!0,n.cursor="move");n.highlight=function(){this.trigger("emphasis")};n.downplay=function(){this.trigger("normal")};n.focusNodeAdjHandler&&n.off("mouseover",n.focusNodeAdjHandler);n.unfocusNodeAdjHandler&&n.off("mouseout",n.unfocusNodeAdjHandler);q.get("focusNodeAdjacency")&&(n.on("mouseover",n.focusNodeAdjHandler=function(){d._focusAdjacencyDisabled||(d._clearTimer(),c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:n.dataIndex}))}),n.on("mouseout",n.unfocusNodeAdjHandler=function(){d._focusAdjacencyDisabled||
d._dispatchUnfocus(c)}))});l.eachItemGraphicEl(function(n,p){p=l.getItemModel(p);n.focusNodeAdjHandler&&n.off("mouseover",n.focusNodeAdjHandler);n.unfocusNodeAdjHandler&&n.off("mouseout",n.unfocusNodeAdjHandler);p.get("focusNodeAdjacency")&&(n.on("mouseover",n.focusNodeAdjHandler=function(){d._focusAdjacencyDisabled||(d._clearTimer(),c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,edgeDataIndex:n.dataIndex}))}),n.on("mouseout",n.unfocusNodeAdjHandler=function(){d._focusAdjacencyDisabled||
d._dispatchUnfocus(c)}))});!this._data&&a.get("animation")&&e.setClipPath(XD(e.getBoundingRect(),a,function(){e.removeClipPath()}));this._data=a.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(a){var b=this;this._clearTimer();this._unfocusDelayTimer=setTimeout(function(){b._unfocusDelayTimer=null;a.dispatchAction({type:"unfocusNodeAdjacency",seriesId:b._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=
null)},focusNodeAdjacency:function(a,b,c,d){c=a.getData();a=c.graph;b=d.dataIndex;c=c.getItemModel(b);d=d.edgeDataIndex;if(b!=null||d!=null){var e=a.getNodeByIndex(b);d=a.getEdgeByIndex(d);a.eachNode(function(f){Cj(f,Xy,.1)});a.eachEdge(function(f){Cj(f,Yy,.1)});e&&(ic(e,Se),a=c.get("focusNodeAdjacency"),a==="outEdges"?y(e.outEdges,function(f){f.dataIndex<0||(ic(f,Dk),ic(f.node2,Se))}):a==="inEdges"?y(e.inEdges,function(f){f.dataIndex<0||(ic(f,Dk),ic(f.node1,Se))}):a==="allEdges"&&y(e.edges,function(f){f.dataIndex<
0||(ic(f,Dk),f.node1!==e&&ic(f.node1,Se),f.node2!==e&&ic(f.node2,Se))}));d&&(ic(d,Dk),ic(d.node1,Se),ic(d.node2,Se))}},unfocusNodeAdjacency:function(a,b,c,d){a=a.getGraph();a.eachNode(function(e){Cj(e,Xy)});a.eachEdge(function(e){Cj(e,Yy)})}});la({type:"dragNode",event:"dragnode",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"sankey",query:a},function(c){c.setNodePosition(a.dataIndex,[a.localX,a.localY])})});Da(function(a,b,c){a.eachSeriesByType("sankey",function(d){var e=
d.get("nodeWidth"),f=d.get("nodeGap"),g=YD(d,b);d.layoutInfo=g;var h=g.width;g=g.height;var k=d.getGraph(),l=k.nodes;k=k.edges;gE(l);var m=Na(l,function(p){return p.getLayout().value===0}).length!==0?0:d.get("layoutIterations"),n=d.get("orient");d=d.get("nodeAlign");ZD(l,k,e,f,h,g,m,n,d)})});za(function(a,b){a.eachSeriesByType("sankey",function(c){var d=c.getGraph().nodes;if(d.length){var e=Infinity,f=-Infinity;y(d,function(g){g=g.getLayout().value;g<e&&(e=g);g>f&&(f=g)});y(d,function(g){var h=(new ta({type:"color",
mappingMethod:"linear",dataExtent:[e,f],visual:c.get("color")})).mapValueToVisual(g.getLayout().value),k=g.getModel().get("itemStyle.color");k!=null?g.setVisual("color",k):g.setVisual("color",h)})}})});var Zy={_baseAxisDim:null,getInitialData:function(a,b){var c=b.getComponent("xAxis",this.get("xAxisIndex")),d=b.getComponent("yAxis",this.get("yAxisIndex"));b=c.get("type");var e=d.get("type");if(b==="category"){a.layout="horizontal";var f=c.getOrdinalMeta(),g=!0}else e==="category"?(a.layout="vertical",
f=d.getOrdinalMeta(),g=!0):a.layout=a.layout||"horizontal";e=["x","y"];var h=a.layout==="horizontal"?0:1;b=this._baseAxisDim=e[h];e=e[1-h];d=[c,d];c=d[h].get("type");d=d[1-h].get("type");if((h=a.data)&&g){var k=[];y(h,function(l,m){if(l.value&&F(l.value)){var n=l.value.slice();l.value.unshift(m)}else F(l)?(n=l.slice(),l.unshift(m)):n=l;k.push(n)});a.data=k}a=this.defaultValueDimensions;f=[{name:b,type:gj(c),ordinalMeta:f,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:e,type:gj(d),dimsDef:a.slice()}];
return bg(this,{coordDimensions:f,dimensionsCount:a.length+1,encodeDefaulter:R(Ls,f,this)})},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},yH=Ea.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});pa(yH,Zy,!0);var oE=["itemStyle"],pE=["emphasis","itemStyle"];Sa.extend({type:"boxplot",render:function(a,b,c){var d=a.getData(),e=this.group,f=this._data;this._data||e.removeAll();var g=a.get("layout")===
"horizontal"?1:0;d.diff(f).add(function(h){if(d.hasValue(h)){var k=d.getItemLayout(h);k=Yv(k,d,h,g,!0);d.setItemGraphicEl(h,k);e.add(k)}}).update(function(h,k){k=f.getItemGraphicEl(k);if(d.hasValue(h)){var l=d.getItemLayout(h);k?Zv(l,k,d,h):k=Yv(l,d,h,g);e.add(k);d.setItemGraphicEl(h,k)}else e.remove(k)}).remove(function(h){(h=f.getItemGraphicEl(h))&&e.remove(h)}).execute();this._data=d},remove:function(a){var b=this.group;a=this._data;this._data=null;a&&a.eachItemGraphicEl(function(c){c&&b.remove(c)})},
dispose:Pa});var mE=ha.extend({type:"boxplotBoxPath",shape:{},buildPath:function(a,b){b=b.points;var c=0;a.moveTo(b[c][0],b[c][1]);for(c++;c<4;c++)a.lineTo(b[c][0],b[c][1]);for(a.closePath();c<b.length;c++)a.moveTo(b[c][0],b[c][1]),c++,a.lineTo(b[c][0],b[c][1])}}),$y=["itemStyle","borderColor"],xh=y;za(function(a,b){var c=a.get("color");a.eachRawSeriesByType("boxplot",function(d){var e=c[d.seriesIndex%c.length],f=d.getData();f.setVisual({legendSymbol:"roundRect",color:d.get($y)||e});a.isSeriesFiltered(d)||
f.each(function(g){var h=f.getItemModel(g);f.setItemVisual(g,{color:h.get($y,!0)})})})});Da(function(a){a=qE(a);xh(a,function(b){var c=b.seriesModels;c.length&&(rE(b),xh(c,function(d,e){sE(d,b.boxOffsetList[e],b.boxWidthList[e])}))})});var zH=Ea.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3E3,progressiveThreshold:1E4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(a,
b,c){return(a=b.getItemLayout(a))&&c.rect(a.brushRect)}});pa(zH,Zy,!0);var aw=["itemStyle"],vE=["emphasis","itemStyle"],bw=["color","color0","borderColor","borderColor0"];Sa.extend({type:"candlestick",render:function(a,b,c){this.group.removeClipPath();this._updateDrawMode(a);this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},incrementalPrepareRender:function(a,b,c){this._clear();this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._isLargeDraw?this._incrementalRenderLarge(a,
b):this._incrementalRenderNormal(a,b)},_updateDrawMode:function(a){a=a.pipelineContext.large;if(this._isLargeDraw==null||a^this._isLargeDraw)this._isLargeDraw=a,this._clear()},_renderNormal:function(a){var b=a.getData(),c=this._data,d=this.group,e=b.getLayout("isSimpleBox"),f=a.get("clip",!0),g=a.coordinateSystem,h=g.getArea&&g.getArea();this._data||d.removeAll();b.diff(c).add(function(k){if(b.hasValue(k)){var l=b.getItemLayout(k);if(!f||!$v(h,l)){var m=ko(l,k,!0);eb(m,{shape:{points:l.ends}},a,k);
lo(m,b,k,e);d.add(m);b.setItemGraphicEl(k,m)}}}).update(function(k,l){l=c.getItemGraphicEl(l);if(b.hasValue(k)){var m=b.getItemLayout(k);f&&$v(h,m)?d.remove(l):(l?ba(l,{shape:{points:m.ends}},a,k):l=ko(m,k),lo(l,b,k,e),d.add(l),b.setItemGraphicEl(k,l))}else d.remove(l)}).remove(function(k){(k=c.getItemGraphicEl(k))&&d.remove(k)}).execute();this._data=b},_renderLarge:function(a){this._clear();cw(a,this.group);(a=a.get("clip",!0)?kj(a.coordinateSystem,!1,a):null)?this.group.setClipPath(a):this.group.removeClipPath()},
_incrementalRenderNormal:function(a,b){b=b.getData();for(var c=b.getLayout("isSimpleBox"),d;(d=a.next())!=null;){var e=b.getItemLayout(d);e=ko(e,d);lo(e,b,d,c);e.incremental=!0;this.group.add(e)}},_incrementalRenderLarge:function(a,b){cw(b,this.group,!0)},remove:function(a){this._clear()},_clear:function(){this.group.removeAll();this._data=null},dispose:Pa});var tE=ha.extend({type:"normalCandlestickBox",shape:{},buildPath:function(a,b){b=b.points;this.__simpleBox?(a.moveTo(b[4][0],b[4][1]),a.lineTo(b[6][0],
b[6][1])):(a.moveTo(b[0][0],b[0][1]),a.lineTo(b[1][0],b[1][1]),a.lineTo(b[2][0],b[2][1]),a.lineTo(b[3][0],b[3][1]),a.closePath(),a.moveTo(b[4][0],b[4][1]),a.lineTo(b[5][0],b[5][1]),a.moveTo(b[6][0],b[6][1]),a.lineTo(b[7][0],b[7][1]))}}),dw=ha.extend({type:"largeCandlestickBox",shape:{},buildPath:function(a,b){b=b.points;for(var c=0;c<b.length;)if(this.__sign===b[c++]){var d=b[c++];a.moveTo(d,b[c++]);a.lineTo(d,b[c++])}else c+=3}}),az=["itemStyle","borderColor"],bz=["itemStyle","borderColor0"],cz=
["itemStyle","color"],dz=["itemStyle","color0"],AH={seriesType:"candlestick",plan:Yf(),performRawSeries:!0,reset:function(a,b){function c(d,e){for(var f;(f=d.next())!=null;){var g=e.getItemModel(f),h=e.getItemLayout(f).sign;e.setItemVisual(f,{color:g.get(h>0?cz:dz),borderColor:g.get(h>0?az:bz)})}}a.getData().setVisual({legendSymbol:"roundRect",colorP:a.get(cz),colorN:a.get(dz),borderColorP:a.get(az),borderColorN:a.get(bz)});if(!b.isSeriesFiltered(a))return!a.pipelineContext.large&&{progress:c}}},
BH=typeof Float32Array!=="undefined"?Float32Array:Array,CH={seriesType:"candlestick",plan:Yf(),reset:function(a){function b(p,q){function t(J,S){var N=[];N[0]=S;N[1]=J;return isNaN(S)||isNaN(J)?[NaN,NaN]:d.dataToPoint(N)}function r(J,S,N){var K=S.slice();S=S.slice();K[0]=lk(K[0]+f/2,1,!1);S[0]=lk(S[0]-f/2,1,!0);N?J.push(K,S):J.push(S,K)}function u(J,S,N){J=t(J,N);S=t(S,N);J[0]-=f/2;S[0]-=f/2;return{x:J[0],y:J[1],width:f,height:S[1]-J[1]}}function v(J){J[0]=lk(J[0],1);return J}for(var x;(x=p.next())!=
null;){var w=q.get(h,x),z=q.get(k,x),A=q.get(l,x),B=q.get(m,x),C=q.get(n,x),D=Math.max(z,A),E=t(Math.min(z,A),w);D=t(D,w);var P=t(B,w),W=t(C,w),M=[];r(M,D,0);r(M,E,1);M.push(v(W),v(D),v(P),v(E));q.setItemLayout(x,{sign:fw(q,x,z,A,l),initBaseline:z>A?D[1]:E[1],ends:M,brushRect:u(B,C,w)})}}function c(p,q){for(var t=new BH(p.count*4),r=0,u,v=[],x=[];(u=p.next())!=null;){var w=q.get(h,u),z=q.get(k,u),A=q.get(l,u),B=q.get(m,u),C=q.get(n,u);isNaN(w)||isNaN(B)||isNaN(C)?(t[r++]=NaN,r+=3):(t[r++]=fw(q,u,
z,A,l),v[0]=w,v[1]=B,u=d.dataToPoint(v,null,x),t[r++]=u?u[0]:NaN,t[r++]=u?u[1]:NaN,v[1]=C,u=d.dataToPoint(v,null,x),t[r++]=u?u[1]:NaN)}q.setLayout("largePoints",t)}var d=a.coordinateSystem,e=a.getData(),f=wE(a,e),g=["x","y"],h=e.mapDimension(g[0]);g=e.mapDimension(g[1],!0);var k=g[0],l=g[1],m=g[2],n=g[3];e.setLayout({candleWidth:f,isSimpleBox:f<=1.3});if(!(h==null||g.length<4))return{progress:a.pipelineContext.large?c:b}}};ab(function(a){a&&F(a.series)&&y(a.series,function(b){X(b)&&b.type==="k"&&
(b.type="candlestick")})});za(AH);Da(CH);Ea.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){return bd(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Te=mo.prototype;Te.stopEffectAnimation=function(){this.childAt(1).removeAll()};
Te.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),e=0;e<3;e++){var f=Db(b,-1,-1,2,2,c);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var g=-e/3*a.period+a.effectOffset;f.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(g).start();f.animateStyle(!0).when(a.period,{opacity:0}).delay(g).start();d.add(f)}gw(d,a)};Te.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period",
"rippleScale"],e=0;e<d.length;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}gw(c,a)};Te.highlight=function(){this.trigger("emphasis")};Te.downplay=function(){this.trigger("normal")};Te.updateData=function(a,b){var c=a.hostModel;this.childAt(0).updateData(a,b);var d=this.childAt(1),e=a.getItemModel(b),f=a.getItemVisual(b,"symbol"),g=xE(a.getItemVisual(b,"symbolSize")),h=a.getItemVisual(b,"color");d.attr("scale",g);d.traverse(function(p){p.attr({fill:h})});
var k=e.getShallow("symbolOffset");if(k){var l=d.position;l[0]=G(k[0],g[0]);l[1]=G(k[1],g[1])}g=a.getItemVisual(b,"symbolRotate");d.rotation=(g||0)*Math.PI/180||0;var m={};m.showEffectOn=c.get("showEffectOn");m.rippleScale=e.get("rippleEffect.scale");m.brushType=e.get("rippleEffect.brushType");m.period=e.get("rippleEffect.period")*1E3;m.effectOffset=b/a.count();m.z=e.getShallow("z")||0;m.zlevel=e.getShallow("zlevel")||0;m.symbolType=f;m.color=h;m.rippleEffectColor=e.get("rippleEffect.color");this.off("mouseover").off("mouseout").off("emphasis").off("normal");
if(m.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m;else{this._effectCfg=null;this.stopEffectAnimation();var n=this.childAt(0);a=function(){n.highlight();m.showEffectOn!=="render"&&this.startEffectAnimation(m)};b=function(){n.downplay();m.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",a,this).on("mouseout",b,this).on("emphasis",a,this).on("normal",b,this)}this._effectCfg=m};Te.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");
a&&a()};ua(mo,O);rb({type:"effectScatter",init:function(){this._symbolDraw=new If(mo)},render:function(a,b,c){a=a.getData();b=this._symbolDraw;b.updateData(a);this.group.add(b.group)},updateTransform:function(a,b,c){b=a.getData();this.group.dirty();a=Qh().reset(a);a.progress&&a.progress({start:0,end:b.count()},b);this._symbolDraw.updateLayout(b)},_updateGroupTransform:function(a){(a=a.coordinateSystem)&&a.getRoamTransform&&(this.group.transform=Kq(a.getRoamTransform()),this.group.decomposeTransform())},
remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)},dispose:function(){}});za(Pe("effectScatter","circle"));Da(Qh("effectScatter"));var DH=typeof Uint32Array==="undefined"?Array:Uint32Array,EH=typeof Float64Array==="undefined"?Array:Float64Array,ez=Ea.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(a){a.data=a.data||[];hw(a);var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords;this._flatCoordsOffset=
b.flatCoordsOffset;b.flatCoords&&(a.data=new Float32Array(b.count));ez.superApply(this,"init",arguments)},mergeOption:function(a){hw(a);if(a.data){var b=this._processFlatCoordsArray(a.data);this._flatCoords=b.flatCoords;this._flatCoordsOffset=b.flatCoordsOffset;b.flatCoords&&(a.data=new Float32Array(b.count))}ez.superApply(this,"mergeOption",arguments)},appendData:function(a){var b=this._processFlatCoordsArray(a.data);b.flatCoords&&(this._flatCoords?(this._flatCoords=$k(this._flatCoords,b.flatCoords),
this._flatCoordsOffset=$k(this._flatCoordsOffset,b.flatCoordsOffset)):(this._flatCoords=b.flatCoords,this._flatCoordsOffset=b.flatCoordsOffset),a.data=new Float32Array(b.count));this.getRawData().appendData(a.data)},_getCoordsFromItemModel:function(a){a=this.getData().getItemModel(a);a=a.option instanceof Array?a.option:a.getShallow("coords");if(I&&!(a instanceof Array&&a.length>0&&a[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(a)+". Lines must have 2d coords array in data item.");
return a},getLineCoordsCount:function(a){return this._flatCoordsOffset?this._flatCoordsOffset[a*2+1]:this._getCoordsFromItemModel(a).length},getLineCoords:function(a,b){if(this._flatCoordsOffset){var c=this._flatCoordsOffset[a*2],d=this._flatCoordsOffset[a*2+1];for(a=0;a<d;a++)b[a]=b[a]||[],b[a][0]=this._flatCoords[c+a*2],b[a][1]=this._flatCoords[c+a*2+1];return d}c=this._getCoordsFromItemModel(a);for(a=0;a<c.length;a++)b[a]=b[a]||[],b[a][0]=c[a][0],b[a][1]=c[a][1];return c.length},_processFlatCoordsArray:function(a){var b=
0;this._flatCoords&&(b=this._flatCoords.length);if(typeof a[0]==="number"){for(var c=a.length,d=new DH(c),e=new EH(c),f=0,g=0,h=0,k=0;k<c;){h++;var l=a[k++];d[g++]=f+b;d[g++]=l;for(var m=0;m<l;m++){var n=a[k++],p=a[k++];e[f++]=n;e[f++]=p;if(k>c&&I)throw Error("Invalid data format.");}}return{flatCoordsOffset:new Uint32Array(d.buffer,0,g),flatCoords:e,count:h}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},getInitialData:function(a,b){if(I&&!$a.get(a.coordinateSystem))throw Error("Unkown coordinate system "+
a.coordinateSystem);var c=new Ua(["value"],this);c.hasItemOption=!1;c.initData(a.data,[],function(d,e,f,g){if(d instanceof Array)return NaN;c.hasItemOption=!0;d=d.value;if(d!=null)return d instanceof Array?d[g]:d});return c},formatTooltip:function(a){var b=this.getData().getItemModel(a);if(a=b.get("name"))return a;a=b.get("fromName");b=b.get("toName");var c=[];a!=null&&c.push(a);b!=null&&c.push(b);return ya(c.join(" \x3e "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var a=
this.option.progressive;return a==null?this.option.large?1E4:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?2E4:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,
largeThreshold:2E3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),$d=yh.prototype;$d.createLine=function(a,b,c){return new th(a,b,c)};$d._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");F(d)||(d=[d,d]);var f=c.get("color")||a.getItemVisual(b,"color"),g=this.childAt(1);this._symbolType!==e&&(this.remove(g),g=Db(e,-.5,-.5,1,1,f),g.z2=100,g.culling=!0,this.add(g));g&&(g.setStyle("shadowColor",f),g.setStyle(c.getItemStyle(["color"])),
g.attr("scale",d),g.setColor(f),g.attr("scale",d),this._symbolType=e,this._symbolScale=d,this._updateEffectAnimation(a,c,b))};$d._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=this,f=a.getItemLayout(c),g=b.get("period")*1E3,h=b.get("loop"),k=b.get("constantSpeed");b=xa(b.get("delay"),function(m){return m/a.count()*g/3});var l=typeof b==="function";d.ignore=!0;this.updateAnimationPoints(d,f);k>0&&(g=this.getLineLength(d)/k*1E3);if(g!==this._period||h!==this._loop)d.stopAnimation(),
f=b,l&&(f=b(c)),d.__t>0&&(f=-g*d.__t),d.__t=0,c=d.animate("",h).when(g,{__t:1}).delay(f).during(function(){e.updateSymbolPosition(d)}),h||c.done(function(){e.remove(d)}),c.start();this._period=g;this._loop=h}};$d.getLineLength=function(a){return dd(a.__p1,a.__cp1)+dd(a.__cp1,a.__p2)};$d.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};$d.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c);this._updateEffectSymbol(a,b)};$d.updateSymbolPosition=
function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position,g=[f[0],f[1]];f[0]=hb(b[0],d[0],c[0],e);f[1]=hb(b[1],d[1],c[1],e);var h=ni(b[0],d[0],c[0],e);c=ni(b[1],d[1],c[1],e);a.rotation=-Math.atan2(c,h)-Math.PI/2;if(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")a.__lastT!==void 0&&a.__lastT<a.__t?(b=dd(g,f)*1.05,a.attr("scale",[a.scale[0],b]),e===1&&(f[0]=g[0]+(f[0]-g[0])/2,f[1]=g[1]+(f[1]-g[1])/2)):a.__lastT===1?(b=2*dd(b,f),a.attr("scale",[a.scale[0],
b])):a.attr("scale",this._symbolScale);a.__lastT=a.__t;a.ignore=!1};$d.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)};ua(yh,O);var Ek=Ej.prototype;Ek._createPolyline=function(a,b,c){var d=a.getItemLayout(b);d=new Tb({shape:{points:d}});this.add(d);this._updateCommonStl(a,b,c)};Ek.updateData=function(a,b,c){var d=a.hostModel,e=this.childAt(0),f={shape:{points:a.getItemLayout(b)}};ba(e,f,d,b);this._updateCommonStl(a,
b,c)};Ek._updateCommonStl=function(a,b,c){var d=this.childAt(0),e=a.getItemModel(b);b=a.getItemVisual(b,"color");var f=c&&c.lineStyle,g=c&&c.hoverLineStyle;if(!c||a.hasItemOption)f=e.getModel("lineStyle").getLineStyle(),g=e.getModel("emphasis.lineStyle").getLineStyle();d.useStyle(Q({strokeNoScale:!0,fill:"none",stroke:b},f));d.hoverStyle=g;Aa(this)};Ek.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))};ua(Ej,O);var Fk=no.prototype;Fk.createLine=function(a,b,c){return new Ej(a,
b,c)};Fk.updateAnimationPoints=function(a,b){this._points=b;a=[0];for(var c=0,d=1;d<b.length;d++)c+=dd(b[d-1],b[d]),a.push(c);if(c!==0){for(d=0;d<a.length;d++)a[d]/=c;this._offsets=a;this._length=c}};Fk.getLineLength=function(a){return this._length};Fk.updateSymbolPosition=function(a){var b=a.__t,c=this._points,d=this._offsets,e=c.length;if(d){var f=this._lastFrame;if(b<this._lastFramePercent){for(f=Math.min(f+1,e-1);f>=0&&!(d[f]<=b);f--);f=Math.min(f,e-2)}else{for(;f<e&&!(d[f]>b);f++);f=Math.min(f-
1,e-2)}Dq(a.position,c[f],c[f+1],(b-d[f])/(d[f+1]-d[f]));a.rotation=-Math.atan2(c[f+1][1]-c[f][1],c[f+1][0]-c[f][0])-Math.PI/2;this._lastFrame=f;this._lastFramePercent=b;a.ignore=!1}};ua(no,yh);var fz=Mb({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(a,b){var c=b.segs,d=b.curveness;if(b.polyline)for(b=0;b<c.length;){if(d=c[b++],d>0){a.moveTo(c[b++],c[b++]);for(var e=1;e<d;e++)a.lineTo(c[b++],c[b++])}}else for(b=0;b<c.length;){e=c[b++];var f=c[b++],g=c[b++],h=c[b++];a.moveTo(e,f);d>0?
a.quadraticCurveTo((e+g)/2-(f-h)*d,(f+h)/2-(g-e)*d,g,h):a.lineTo(g,h)}},findDataIndex:function(a,b){b=this.shape;a=b.segs;var c=b.curveness;if(b.polyline)for(var d=b=0;d<a.length;){c=a[d++];if(c>0)for(var e=a[d++],f=a[d++],g=1;g<c;g++){var h=a[d++],k=a[d++];if(qd(e,f,h,k))return b}b++}else for(d=b=0;d<a.length;){e=a[d++];f=a[d++];h=a[d++];k=a[d++];if(c>0){if(Br(e,f,(e+h)/2-(f-k)*c,(f+k)/2-(h-e)*c,h,k))return b}else if(qd(e,f,h,k))return b;b++}return-1}}),Ue=iw.prototype;Ue.isPersistent=function(){return!this._incremental};
Ue.updateData=function(a){this.group.removeAll();var b=new fz({rectHover:!0,cursor:"default"});b.setShape({segs:a.getLayout("linesPoints")});this._setCommon(b,a);this.group.add(b);this._incremental=null};Ue.incrementalPrepareUpdate=function(a){this.group.removeAll();this._clearIncremental();a.count()>5E5?(this._incremental||(this._incremental=new xb({silent:!0})),this.group.add(this._incremental)):this._incremental=null};Ue.incrementalUpdate=function(a,b){var c=new fz;c.setShape({segs:b.getLayout("linesPoints")});
this._setCommon(c,b,!!this._incremental);this._incremental?this._incremental.addDisplayable(c,!0):(c.rectHover=!0,c.cursor="default",c.__startIndex=a.start,this.group.add(c))};Ue.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Ue._setCommon=function(a,b,c){var d=b.hostModel;a.setShape({polyline:d.get("polyline"),curveness:d.get("lineStyle.curveness")});a.useStyle(d.getModel("lineStyle").getLineStyle());a.style.strokeNoScale=!0;(b=b.getVisual("color"))&&a.setStyle("stroke",
b);a.setStyle("fill");c||(a.seriesIndex=d.seriesIndex,a.on("mousemove",function(e){a.dataIndex=null;e=a.findDataIndex(e.offsetX,e.offsetY);e>0&&(a.dataIndex=e+a.__startIndex)}))};Ue._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var gz={seriesType:"lines",plan:Yf(),reset:function(a){var b=a.coordinateSystem,c=a.get("polyline"),d=a.pipelineContext.large;return{progress:function(e,f){var g=[];if(d){var h=e.end-e.start;if(c){for(var k=0,l=e.start;l<e.end;l++)k+=a.getLineCoordsCount(l);
k=new Float32Array(h+k*2)}else k=new Float32Array(h*4);var m=0,n=[];for(l=e.start;l<e.end;l++){h=a.getLineCoords(l,g);c&&(k[m++]=h);for(var p=0;p<h;p++)n=b.dataToPoint(g[p],!1,n),k[m++]=n[0],k[m++]=n[1]}f.setLayout("linesPoints",k)}else for(l=e.start;l<e.end;l++){m=f.getItemModel(l);h=a.getLineCoords(l,g);k=[];if(c)for(m=0;m<h;m++)k.push(b.dataToPoint(g[m]));else k[0]=b.dataToPoint(g[0]),k[1]=b.dataToPoint(g[1]),h=m.get("lineStyle.curveness"),+h&&(k[2]=[(k[0][0]+k[1][0])/2-(k[0][1]-k[1][1])*h,(k[0][1]+
k[1][1])/2-(k[1][0]-k[0][0])*h]);f.setItemLayout(l,k)}}}}};rb({type:"lines",init:function(){},render:function(a,b,c){var d=a.getData(),e=this._updateLineDraw(d,a),f=a.get("zlevel"),g=a.get("effect.trailLength");c=c.getZr();var h=c.painter.getType()==="svg";h||c.painter.getLayer(f).clear(!0);this._lastZlevel==null||h||c.configLayer(this._lastZlevel,{motionBlur:!1});if(this._showEffect(a)&&g){if(I){var k=!1;b.eachSeries(function(l){l!==a&&l.get("zlevel")===f&&(k=!0)});k&&console.warn("Lines with trail effect should have an individual zlevel")}h||
c.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(g/10+.9,1),0)})}e.updateData(d);(b=a.get("clip",!0)&&kj(a.coordinateSystem,!1,a))?this.group.setClipPath(b):this.group.removeClipPath();this._lastZlevel=f;this._finished=!0},incrementalPrepareRender:function(a,b,c){b=a.getData();this._updateLineDraw(b,a).incrementalPrepareUpdate(b);this._clearLayer(c);this._finished=!1},incrementalRender:function(a,b,c){this._lineDraw.incrementalUpdate(a,b.getData());this._finished=a.end===b.getData().count()},
updateTransform:function(a,b,c){b=a.getData();var d=a.pipelineContext;if(!this._finished||d.large||d.progressiveRender)return{update:!0};a=gz.reset(a);a.progress&&a.progress({start:0,end:b.count()},b);this._lineDraw.updateLayout();this._clearLayer(c)},_updateLineDraw:function(a,b){a=this._lineDraw;var c=this._showEffect(b),d=!!b.get("polyline");b=b.pipelineContext.large;I&&c&&b&&console.warn("Large lines not support effect");a&&c===this._hasEffet&&d===this._isPolyline&&b===this._isLargeDraw||(a&&
a.remove(),a=this._lineDraw=b?new iw:new yj(d?c?no:Ej:c?yh:th),this._hasEffet=c,this._isPolyline=d,this._isLargeDraw=b,this.group.removeAll());this.group.add(a.group);return a},_showEffect:function(a){return!!a.get("effect.show")},_clearLayer:function(a){a=a.getZr();a.painter.getType()!=="svg"&&this._lastZlevel!=null&&a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(b)},dispose:function(){}});var hz=["lineStyle",
"opacity"];Da(gz);za({seriesType:"lines",reset:function(a,b,c){function d(f,g){var h=f.getItemModel(g),k=Fj(h.getShallow("symbol",!0)),l=Fj(h.getShallow("symbolSize",!0));h=h.get(hz);k[0]&&f.setItemVisual(g,"fromSymbol",k[0]);k[1]&&f.setItemVisual(g,"toSymbol",k[1]);l[0]&&f.setItemVisual(g,"fromSymbolSize",l[0]);l[1]&&f.setItemVisual(g,"toSymbolSize",l[1]);f.setItemVisual(g,"opacity",h)}b=Fj(a.get("symbol"));c=Fj(a.get("symbolSize"));var e=a.getData();e.setVisual("fromSymbol",b&&b[0]);e.setVisual("toSymbol",
b&&b[1]);e.setVisual("fromSymbolSize",c&&c[0]);e.setVisual("toSymbolSize",c&&c[1]);e.setVisual("opacity",a.get(hz));return{dataEach:e.hasItemOption?d:null}}});Ea.extend({type:"series.heatmap",getInitialData:function(a,b){return bd(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var a=$a.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,
pointSize:20,maxOpacity:1,minOpacity:0}});jw.prototype={update:function(a,b,c,d,e,f){var g=this._getBrush(),h=this._getGradient(a,e,"inRange");e=this._getGradient(a,e,"outOfRange");var k=this.pointSize+this.blurSize,l=this.canvas,m=l.getContext("2d"),n=a.length;l.width=b;l.height=c;for(c=0;c<n;++c){b=a[c];var p=b[0],q=b[1];b=d(b[2]);m.globalAlpha=b;m.drawImage(g,p-k,q-k)}if(!l.width||!l.height)return l;a=m.getImageData(0,0,l.width,l.height);d=a.data;g=0;k=d.length;n=this.minOpacity;for(c=this.maxOpacity-
n;g<k;)b=d[g+3]/256,p=Math.floor(b*255)*4,b>0?(q=f(b)?h:e,b>0&&(b=b*c+n),d[g++]=q[p],d[g++]=q[p+1],d[g++]=q[p+2],d[g++]=q[p+3]*b*256):g+=4;m.putImageData(a,0,0);return l},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=$e()),b=this.pointSize+this.blurSize,c=b*2;a.width=c;a.height=c;var d=a.getContext("2d");d.clearRect(0,0,c,c);d.shadowOffsetX=c;d.shadowBlur=this.blurSize;d.shadowColor="#000";d.beginPath();d.arc(-b,b,this.pointSize,0,Math.PI*2,!0);d.closePath();d.fill();return a},
_getGradient:function(a,b,c){a=this._gradientPixels;a=a[c]||(a[c]=new Uint8ClampedArray(1024));for(var d=[0,0,0,0],e=0,f=0;f<256;f++)b[c](f/255,!0,d),a[e++]=d[0],a[e++]=d[1],a[e++]=d[2],a[e++]=d[3];return a}};rb({type:"heatmap",render:function(a,b,c){var d;b.eachComponent("visualMap",function(e){e.eachTargetSeries(function(f){f===a&&(d=e)})});if(I&&!d)throw Error("Heatmap must use with visualMap");this.group.removeAll();this._incrementalDisplayable=null;b=a.coordinateSystem;b.type==="cartesian2d"||
b.type==="calendar"?this._renderOnCartesianAndCalendar(a,c,0,a.getData().count()):AE(b)&&this._renderOnGeo(b,a,d,c)},incrementalPrepareRender:function(a,b,c){this.group.removeAll()},incrementalRender:function(a,b,c,d){b.coordinateSystem&&this._renderOnCartesianAndCalendar(b,d,a.start,a.end,!0)},_renderOnCartesianAndCalendar:function(a,b,c,d,e){b=a.coordinateSystem;if(b.type==="cartesian2d"){var f=b.getAxis("x"),g=b.getAxis("y");if(I){if(f.type!=="category"||g.type!=="category")throw Error("Heatmap on cartesian must have two category axes");
if(!f.onBand||!g.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");}f=f.getBandWidth();g=g.getBandWidth()}for(var h=this.group,k=a.getData(),l=a.getModel("itemStyle").getItemStyle(["color"]),m=a.getModel("emphasis.itemStyle").getItemStyle(),n=a.getModel("label"),p=a.getModel("emphasis.label"),q=b.type,t=q==="cartesian2d"?[k.mapDimension("x"),k.mapDimension("y"),k.mapDimension("value")]:[k.mapDimension("time"),k.mapDimension("value")];c<d;c++){if(q==="cartesian2d"){if(isNaN(k.get(t[2],
c)))continue;var r=b.dataToPoint([k.get(t[0],c),k.get(t[1],c)]);r=new oa({shape:{x:Math.floor(Math.round(r[0])-f/2),y:Math.floor(Math.round(r[1])-g/2),width:Math.ceil(f),height:Math.ceil(g)},style:{fill:k.getItemVisual(c,"color"),opacity:k.getItemVisual(c,"opacity")}})}else{if(isNaN(k.get(t[1],c)))continue;r=new oa({z2:1,shape:b.dataToRect([k.get(t[0],c)]).contentShape,style:{fill:k.getItemVisual(c,"color"),opacity:k.getItemVisual(c,"opacity")}})}var u=k.getItemModel(c);k.hasItemOption&&(l=u.getModel("itemStyle").getItemStyle(["color"]),
m=u.getModel("emphasis.itemStyle").getItemStyle(),n=u.getModel("label"),p=u.getModel("emphasis.label"));u=a.getRawValue(c);var v="-";u&&u[2]!=null&&(v=u[2]);yb(l,m,n,p,{labelFetcher:a,labelDataIndex:c,defaultText:v,isRectText:!0});r.setStyle(l);Aa(r,k.hasItemOption?m:U({},m));if(r.incremental=e)r.useHoverLayer=!0;h.add(r);k.setItemGraphicEl(c,r)}},_renderOnGeo:function(a,b,c,d){var e=c.targetVisuals.inRange,f=c.targetVisuals.outOfRange,g=b.getData(),h=this._hmLayer||this._hmLayer||new jw;h.blurSize=
b.get("blurSize");h.pointSize=b.get("pointSize");h.minOpacity=b.get("minOpacity");h.maxOpacity=b.get("maxOpacity");b=a.getViewRect().clone();var k=a.getRoamTransform();b.applyTransform(k);var l=Math.max(b.x,0),m=Math.max(b.y,0);k=Math.min(b.width+b.x,d.getWidth());b=Math.min(b.height+b.y,d.getHeight());d=k-l;b-=m;k=[g.mapDimension("lng"),g.mapDimension("lat"),g.mapDimension("value")];g=g.mapArray(k,function(n,p,q){n=a.dataToPoint([n,p]);n[0]-=l;n[1]-=m;n.push(q);return n});k=c.getExtent();c=c.type===
"visualMap.continuous"?zE(k,c.option.range):yE(k,c.getPieceList(),c.option.selected);h.update(g,d,b,e.color.getNormalizer(),{inRange:e.color.getColorMapper(),outOfRange:f.color.getColorMapper()},c);e=new Va({style:{width:d,height:b,x:l,y:m,image:h.canvas},silent:!0});this.group.add(e)},dispose:function(){}});var FH=Dy.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,
symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){a.stack=null;return FH.superApply(this,"getInitialData",arguments)}}),BE=["itemStyle","borderWidth"],iz=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],oo=new Gc;rb({type:"pictorialBar",render:function(a,b,c){var d=this.group,e=a.getData(),f=this._data;b=a.coordinateSystem;var g=
!!b.getBaseAxis().isHorizontal(),h=b.grid.getRect(),k={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:b,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:g,valueDim:iz[+g],categoryDim:iz[1-g]};e.diff(f).add(function(l){if(e.hasValue(l)){var m=rw(e,l);m=kw(e,l,m,k);var n=sw(e,k,m);e.setItemGraphicEl(l,n);d.add(n);vw(n,k,m)}}).update(function(l,m){m=f.getItemGraphicEl(m);if(e.hasValue(l)){var n=rw(e,l);n=kw(e,l,n,k);var p=tw(e,n);m&&p!==m.__pictorialShapeStr&&
(d.remove(m),e.setItemGraphicEl(l,null),m=null);if(m){p=m;var q=n.animationModel,t=n.dataIndex;ba(p.__pictorialBundle,{position:n.bundlePosition.slice()},q,t);n.symbolRepeat?nw(p,k,n,!0):ow(p,k,n,!0);pw(p,n,!0);qw(p,k,n,!0)}else m=sw(e,k,n,!0);e.setItemGraphicEl(l,m);m.__pictorialSymbolMeta=n;d.add(m);vw(m,k,n)}else d.remove(m)}).remove(function(l){var m=f.getItemGraphicEl(l);m&&uw(f,l,m.__pictorialSymbolMeta.animationModel,m)}).execute();this._data=e;return this.group},dispose:Pa,remove:function(a,
b){b=this.group;var c=this._data;a.get("animation")?c&&c.eachItemGraphicEl(function(d){uw(c,d.dataIndex,a,d)}):b.removeAll()}});Da(R(Ot,"pictorialBar"));za(Pe("pictorialBar","roundRect"));var Gk=function(a,b,c,d,e){Ma.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom";this.orient=null};Gk.prototype={constructor:Gk,model:null,isHorizontal:function(){var a=this.position;return a==="top"||a==="bottom"},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,
toLocalCoord:null};ua(Gk,Ma);Gj.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Gj,_init:function(a,b,c){b=new Gk(this.dimension,Hf(a),[0,0],a.get("type"),a.get("position"));b.onBand=b.type==="category"&&a.get("boundaryGap");b.inverse=a.get("inverse");b.orient=a.get("orient");a.axis=b;b.model=a;b.coordinateSystem=this;this._axis=b},update:function(a,b){a.eachSeries(function(c){if(c.coordinateSystem===this){var d=c.getData();y(d.mapDimension(this.dimension,!0),function(e){this._axis.scale.unionExtentFromData(d,
e)},this);Hd(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=Ja({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]);this._updateAxisTransform(b,c?a.x:a.y)},
_updateAxisTransform:function(a,b){var c=a.getExtent(),d=c[0]+c[1];c=a.isHorizontal();a.toGlobalCoord=c?function(e){return e+b}:function(e){return d-e+b};a.toLocalCoord=c?function(e){return e-b}:function(e){return d-e+b}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var b=this.getRect(),c=this.getAxis();return c.orient==="horizontal"?c.contain(c.toLocalCoord(a[0]))&&
a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a[b.orient==="horizontal"?0:1]))]},dataToPoint:function(a){var b=this.getAxis(),c=this.getRect(),d=[],e=b.orient==="horizontal"?0:1;a instanceof Array&&(a=a[0]);d[e]=b.toGlobalCoord(b.dataToCoord(+a));d[1-e]=e===0?c.y+c.height/2:c.x+c.width/2;return d}};$a.register("single",{create:function(a,b){var c=[];a.eachComponent("singleAxis",
function(d,e){var f=new Gj(d,a,b);f.name="single_"+e;f.resize(d,b);d.coordinateSystem=f;c.push(f)});a.eachSeries(function(d){if(d.get("coordinateSystem")==="singleAxis"){var e=a.queryComponents({mainType:"singleAxis",index:d.get("singleAxisIndex"),id:d.get("singleAxisId")})[0];d.coordinateSystem=e&&e.coordinateSystem}});return c},dimensions:Gj.prototype.dimensions});var GH=["axisLine","axisTickLabel","axisName"],HH=["splitArea","splitLine"],IH=Eb.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",
render:function(a,b,c,d){var e=this.group;e.removeAll();var f=this._axisGroup;this._axisGroup=new O;var g=qo(a);g=new tb(a,g);y(GH,g.add,g);e.add(this._axisGroup);e.add(g.getGroup());y(HH,function(h){if(a.get(h+".show"))this["_"+h](a)},this);Mi(f,this._axisGroup,a);IH.superCall(this,"render",a,b,c,d)},remove:function(){this.__splitAreaColors=null},_splitLine:function(a){var b=a.axis;if(!b.scale.isBlank()){var c=a.getModel("splitLine"),d=c.getModel("lineStyle"),e=d.get("width"),f=d.get("color");f=
f instanceof Array?f:[f];a=a.coordinateSystem.getRect();var g=b.isHorizontal(),h=[],k=0;c=b.getTicksCoords({tickModel:c});for(var l=[],m=[],n=0;n<c.length;++n){var p=b.toGlobalCoord(c[n].coord);g?(l[0]=p,l[1]=a.y,m[0]=p,m[1]=a.y+a.height):(l[0]=a.x,l[1]=p,m[0]=a.x+a.width,m[1]=p);p=k++%f.length;h[p]=h[p]||[];h[p].push(new bb({subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:m[0],y2:m[1]},style:{lineWidth:e},silent:!0}))}for(n=0;n<h.length;++n)this.group.add(Ub(h[n],{style:{stroke:f[n%f.length],lineDash:d.getLineDash(e),
lineWidth:e},silent:!0}))}},_splitArea:function(a){uu(this,this._axisGroup,a,a)}}),jz=na.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});Y(jz.prototype,Oe);$f("single",jz,function(a,b){return b.type||(b.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},
axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var kz=function(a,b){var c=[],d=a.seriesIndex,e;if(d==null||!(e=b.getSeriesByIndex(d)))return{point:[]};var f=e.getData();b=ki(f,a);if(b==null||b<0||F(b))return{point:[]};a=f.getItemGraphicEl(b);d=e.coordinateSystem;e.getTooltipPosition?c=e.getTooltipPosition(b)||[]:d&&d.dataToPoint?c=d.dataToPoint(f.getValues(H(d.dimensions,function(g){return f.mapDimension(g)}),b,!0))||[]:a&&(c=a.getBoundingRect().clone(),
c.applyTransform(a.transform),c=[c.x+c.width/2,c.y+c.height/2]);return{point:c,el:a}},Bc=y,xw=ob();Cb({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",
borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var gd=ob(),ME=y,lz=Ta({type:"axisPointer",render:function(a,b,c){b=b.getComponent("tooltip");var d=a.get("triggerOn")||
b&&b.get("triggerOn")||"mousemove|click";zw("axisPointer",c,function(e,f,g){d!=="none"&&(e==="leave"||d.indexOf(e)>=0)&&g({type:"updateAxisPointer",currTrigger:e,x:f&&f.offsetX,y:f&&f.offsetY})})},remove:function(a,b){ro(b.getZr(),"axisPointer");lz.superApply(this._model,"remove",arguments)},dispose:function(a,b){ro("axisPointer",b);lz.superApply(this._model,"dispose",arguments)}}),Fe=ob();Ee.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,
animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");this._axisModel=a;this._axisPointerModel=b;this._api=c;if(d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e;this._lastStatus=f;d=this._group;var g=this._handle;f&&f!=="hide"?(d&&d.show(),g&&g.show(),f={},this.makeElOption(f,e,a,b,c),g=f.graphicKey,g!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=g,g=this._moveAnimation=this.determineAnimation(a,b),d?(a=R(Bw,b,g),this.updatePointerEl(d,f,
a,b),this.updateLabelEl(d,f,a,b)):(d=this._group=new O,this.createPointerEl(d,f,a,b),this.createLabelEl(d,f,a,b),c.getZr().add(d)),Ew(d,b,!0),this._renderHandle(e)):(d&&d.hide(),g&&g.hide())}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e=d.type==="category";return(b=b.get("snap"))||e?c==="auto"||c==null?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:b?(a=pn(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-
d[1])/a>c):!1):c===!0:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){if(c=b.pointer)b=Fe(a).pointerEl=new fd[c.type](T(b.pointer)),a.add(b)},createLabelEl:function(a,b,c,d){b.label&&(b=Fe(a).labelEl=new oa(T(b.label)),a.add(b),Dw(b,d))},updatePointerEl:function(a,b,c){(a=Fe(a).pointerEl)&&b.pointer&&(a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){if(a=Fe(a).labelEl)a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),
Dw(a,d)},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(e.get("show")&&f&&f!=="hide"){if(!this._handle){var g=!0;d=this._handle=yf(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){fe(h.event)},onmousedown:L(this._onHandleDragMove,this,0,0),drift:L(this._onHandleDragMove,this),ondragend:L(this._onHandleDragEnd,this)});c.add(d)}Ew(d,b,!1);d.setStyle(e.getItemStyle(null,
"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=e.get("size");F(b)||(b=[b,b]);d.attr("scale",[b[0]/2,b[1]/2]);Tg(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(a,g)}else d&&c.remove(d),this._handle=null}},_moveHandleToValue:function(a,b){Bw(this._axisPointerModel,!b&&this._moveAnimation,this._handle,so(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=
this._handle;c&&(this._dragging=!0,this._payloadInfo=a=this.updateHandleTransform(so(c),[a,b],this._axisModel,this._axisPointerModel),c.stopAnimation(),c.attr(so(a)),Fe(c).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){this._dragging=
!1;this._handle&&(a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._payloadInfo=this._handle=this._group=null)},doClear:function(){},buildLabel:function(a,b,c){c=c||0;return{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}};Ee.prototype.constructor=
Ee;vg(Ee);var KH=Ee.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),k=Jw(g,f).getOtherAxis(f).getGlobalExtent(),l=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&h!=="none"){var m=to(d);f=JH[h](f,l,k);f.style=m;a.graphicKey=f.type;a.pointer=f}g=qn(g.model,c);Hw(b,a,g,c,d,e)},getHandleTransform:function(a,b,c){var d=qn(b.axis.grid.model,b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:uo(b.axis,a,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},
updateHandleTransform:function(a,b,c,d){d=c.axis;var e=d.grid;c=d.getGlobalExtent(!0);var f=Jw(e,d).getOtherAxis(d).getGlobalExtent();d=d.dim==="x"?0:1;e=a.position;e[d]+=b[d];e[d]=Math.min(c[1],e[d]);e[d]=Math.max(c[0],e[d]);b=(f[1]+f[0])/2;b=[b,b];b[d]=e[d];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),JH={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:vo([b,c[0]],[b,c[1]],a.dim==="x"?0:1)}},shadow:function(a,
b,c){var d=Math.max(1,a.getBandWidth());return{type:"Rect",shape:Iw([b-d/2,c[0]],[d,c[1]-c[0]],a.dim==="x"?0:1)}}};Eb.registerAxisPointerClass("CartesianAxisPointer",KH);ab(function(a){if(a){a.axisPointer&&a.axisPointer.length!==0||(a.axisPointer={});var b=a.axisPointer.link;b&&!F(b)&&(a.axisPointer.link=[b])}});Bb(Hc.PROCESSOR.STATISTIC,function(a,b){var c=a.getComponent("axisPointer"),d={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};DC(d,a,b);d.seriesInvolved&&FC(d,a);c.coordSysAxesInfo=
d});la({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||L(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){Hj(e)&&(e=kz({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h=Hj(e),k=a.axesInfo,l=g.axesInfo,m=d==="leave"||Hj(e),n={},p={};b={list:[],map:{}};var q={showPointer:R(FE,p),showTooltip:R(GE,b)};Bc(g.coordSysMap,function(r,u){var v=h||r.containPoint(e);Bc(g.coordSysAxesInfo[u],
function(x,w){w=x.axis;var z;a:{for(z=0;z<(k||[]).length;z++){var A=k[z];if(x.axis.dim===A.axisDim&&x.axis.model.componentIndex===A.axisIndex){z=A;break a}}z=void 0}m||!v||k&&!z||(z=z&&z.value,z!=null||h||(z=w.pointToData(e)),z!=null&&ww(x,z,q,!1,n))})});var t={};Bc(l,function(r,u){var v=r.linkGroup;v&&!p[u]&&Bc(v.axesInfo,function(x,w){w=p[w];x!==r&&w&&(w=w.value,v.mapper&&(w=r.axis.scale.parse(v.mapper(w,yw(x),yw(r)))),t[r.key]=w)})});Bc(t,function(r,u){ww(l[u],r,q,!0,n)});HE(p,l,n);IE(b,e,a,f);
JE(l,f,c);return n}});var Kw=["x","y"],PE=["width","height"],MH=Ee.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.coordinateSystem,h=wo(g,1-(f.isHorizontal()?0:1)),k=g.dataToPoint(b)[0],l=d.get("type");l&&l!=="none"&&(g=to(d),f=LH[l](f,k,h),f.style=g,a.graphicKey=f.type,a.pointer=f);f=qo(c);Hw(b,a,f,c,d,e)},getHandleTransform:function(a,b,c){var d=qo(b,{labelInside:!1});d.labelMargin=c.get("handle.margin");return{position:uo(b.axis,a,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},
updateHandleTransform:function(a,b,c,d){c=c.axis;var e=c.coordinateSystem;c=c.isHorizontal()?0:1;var f=wo(e,c);d=a.position;d[c]+=b[c];d[c]=Math.min(f[1],d[c]);d[c]=Math.max(f[0],d[c]);b=wo(e,1-c);b=(b[1]+b[0])/2;b=[b,b];b[c]=d[c];return{position:d,rotation:a.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}}),LH={line:function(a,b,c){return{type:"Line",subPixelOptimize:!0,shape:vo([b,c[0]],[b,c[1]],a.isHorizontal()?0:1)}},shadow:function(a,b,c){var d=a.getBandWidth();return{type:"Rect",
shape:Iw([b-d/2,c[0]],[d,c[1]-c[0]],a.isHorizontal()?0:1)}}};Eb.registerAxisPointerClass("SingleAxisPointer",MH);Ta({type:"single"});var NH=Ea.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){NH.superApply(this,"init",arguments);this.legendVisualProvider=new hh(L(this.getData,this),L(this.getRawData,this))},fixData:function(a){var b=a.length,c={},d=[];Tl(a,function(l){c.hasOwnProperty(l[0])||(c[l[0]]=-1);return l[2]}).buckets.each(function(l,m){d.push({name:m,
dataList:l})});for(var e=d.length,f=0;f<e;++f){for(var g=d[f].name,h=0;h<d[f].dataList.length;++h){var k=d[f].dataList[h][0];c[k]=f}for(k in c)c.hasOwnProperty(k)&&c[k]!==f&&(c[k]=f,a[b]=[],a[b][0]=k,a[b][1]=0,a[b][2]=g,b++)}return a},getInitialData:function(a,b){b=b.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type");a=Na(a.data,function(g){return g[2]!==void 0});a=this.fixData(a||[]);for(var c=[],d=this.nameMap=aa(),e=0,f=0;f<a.length;++f)c.push(a[f][2]),
d.get(a[f][2])||(d.set(a[f][2],e),e++);b=Gf(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:gj(b)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});b=new Ua(b,this);b.initData(a);return b},getLayerSeries:function(){for(var a=this.getData(),b=a.count(),c=[],d=0;d<b;++d)c[d]=d;var e=a.mapDimension("single"),f=[];Tl(c,function(g){return a.get("name",g)}).buckets.each(function(g,h){g.sort(function(k,l){return a.get(e,k)-a.get(e,l)});
f.push({name:h,indices:g})});return f},getAxisTooltipData:function(a,b,c){F(a)||(a=a?[a]:[]);c=this.getData();for(var d=this.getLayerSeries(),e=[],f=d.length,g,h=0;h<f;++h){for(var k=Number.MAX_VALUE,l=-1,m=d[h].indices.length,n=0;n<m;++n){var p=c.get(a[0],d[h].indices[n]),q=Math.abs(p-b);q<=k&&(g=p,k=q,l=d[h].indices[n])}e.push(l)}return{dataIndices:e,nestestValue:g}},formatTooltip:function(a){var b=this.getData(),c=b.getName(a);a=b.get(b.mapDimension("value"),a);if(isNaN(a)||a==null)a="-";return ya(c+
" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});rb({type:"themeRiver",init:function(){this._layers=[]},render:function(a,b,c){function d(l){return l.name}function e(l,m,n){var p=this._layers;if(l==="remove")g.remove(p[m]);else{for(var q=[],t=[],r,u=h[m].indices,v=0;v<u.length;v++){var x=f.getItemLayout(u[v]);r=x.x;
var w=x.y0;x=x.y;q.push([r,w]);t.push([r,w+x]);r=f.getItemVisual(u[v],"color")}var z=f.getItemLayout(u[0]);x=f.getItemModel(u[v-1]);w=x.getModel("label");var A=w.get("margin");if(l==="add"){n=k[m]=new O;var B=new zy({shape:{points:q,stackedOnPoints:t,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0});l=new fa({style:{x:z.x-A,y:z.y0+z.y/2}});n.add(B);n.add(l);g.add(n);B.setClipPath(QE(B.getBoundingRect(),a,function(){B.removeClipPath()}))}else n=p[n],B=n.childAt(0),l=n.childAt(1),g.add(n),k[m]=
n,ba(B,{shape:{points:q,stackedOnPoints:t}},a),ba(l,{style:{x:z.x-A,y:z.y0+z.y/2}},a);m=x.getModel("emphasis.itemStyle");q=x.getModel("itemStyle");Ca(l.style,w,{text:w.get("show")?a.getFormattedLabel(u[v-1],"normal")||f.getName(u[v-1]):null,textVerticalAlign:"middle"});B.setStyle(U({fill:r},q.getItemStyle(["color"])));Aa(B,m.getItemStyle())}}var f=a.getData(),g=this.group,h=a.getLayerSeries();b=f.getLayout("layoutInfo");g.attr("position",[0,b.rect.y+b.boundaryGap[0]]);var k={};(new $c(this._layersSeries||
[],h,d,d)).add(L(e,this,"add")).update(L(e,this,"update")).remove(L(e,this,"remove")).execute();this._layersSeries=h;this._layers=k},dispose:function(){}});Da(function(a,b){a.eachSeriesByType("themeRiver",function(c){var d=c.getData(),e=c.coordinateSystem,f={},g=e.getRect();f.rect=g;var h=c.get("boundaryGap");e=e.getAxis();f.boundaryGap=h;e.orient==="horizontal"?(h[0]=G(h[0],g.height),h[1]=G(h[1],g.height),Lw(d,c,g.height-h[0]-h[1])):(h[0]=G(h[0],g.width),h[1]=G(h[1],g.width),Lw(d,c,g.width-h[0]-
h[1]));d.setLayout("layoutInfo",f)})});za(function(a){a.eachSeriesByType("themeRiver",function(b){var c=b.getData(),d=b.getRawData(),e=b.get("color"),f=aa();c.each(function(g){f.set(c.getRawIndex(g),g)});d.each(function(g){var h=d.getName(g);h=e[(b.nameMap.get(h)-1)%e.length];d.setItemVisual(g,"color",h);g=f.get(g);g!=null&&c.setItemVisual(g,"color",h)})})});Bb(Rh("themeRiver"));Ea.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(a,b){var c={name:a.name,children:a.data};Mw(c);
var d=H(a.levels||[],function(f){return new ka(f,this,b)},this),e=ze.createTree(c,this,function(f){f.wrapMethod("getItemModel",function(g,h){h=e.getNodeByDataIndex(h);(h=d[h.depth])&&(g.parentModel=h);return g})});return e.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(a){var b=Ea.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);b.treePathInfo=Dn(c,this);return b},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],
clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",
animationDuration:1E3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getRawData().tree.root;if(!a||a!==b&&!b.contains(a))this._viewRoot=b}});var Ve=Ij.prototype;Ve.updateData=function(a,b,c,d,e){this.node=b;b.piece=this;d=d||this._seriesModel;e=e||this._ecModel;var f=this.childAt(0);f.dataIndex=b.dataIndex;var g=b.getModel(),h=b.getLayout(),
k=U({},h);k.label=null;var l=e,m=b.getVisual("color"),n=b.getVisual("visualMeta");n&&n.length!==0||(m=null);if(n=b.getModel("itemStyle").get("color"))m=n;else if(!m)if(b.depth===0)m=l.option.color[0];else{m=l.option.color.length;l=l.option.color;for(n=b;n.depth>1;)n=n.parentNode;var p=b.getAncestors()[0];n=ma(p.children,n);m=n=l[n%m]}l=m;d.getData().setItemVisual(b.dataIndex,"color",l);l=g.getModel("itemStyle").getItemStyle();c!=="normal"&&(n=g.getModel(c+".itemStyle").getItemStyle(),l=Y(n,l));l=
Q({lineJoin:"bevel",fill:l.fill||m},l);a?(f.setShape(k),f.shape.r=h.r0,ba(f,{shape:{r:h.r}},d,b.dataIndex),f.useStyle(l)):typeof l.fill==="object"&&l.fill.type||typeof f.style.fill==="object"&&f.style.fill.type?(ba(f,{shape:k},d),f.useStyle(l)):ba(f,{shape:k,style:l},d);this._updateLabel(d,m,c);(c=g.getShallow("cursor"))&&f.attr("cursor",c);a&&(a=d.getShallow("highlightPolicy"),this._initEvents(f,b,d,a));this._seriesModel=d||this._seriesModel;this._ecModel=e||this._ecModel;Aa(this)};Ve.onEmphasis=
function(a){var b=this;this.node.hostTree.root.eachNode(function(c){if(c.piece)if(b.node===c)c.piece.updateData(!1,c,"emphasis");else{var d=b.node;(a==="none"?0:a==="self"?c===d:a==="ancestor"?c===d||c.isAncestorOf(d):c===d||c.isDescendantOf(d))?c.piece.childAt(0).trigger("highlight"):a!=="none"&&c.piece.childAt(0).trigger("downplay")}})};Ve.onNormal=function(){this.node.hostTree.root.eachNode(function(a){a.piece&&a.piece.updateData(!1,a,"normal")})};Ve.onHighlight=function(){this.updateData(!1,this.node,
"highlight")};Ve.onDownplay=function(){this.updateData(!1,this.node,"downplay")};Ve._updateLabel=function(a,b,c){function d(q){var t=g.get(q);return t==null?f.get(q):t}var e=this.node.getModel(),f=e.getModel("label"),g=c==="normal"||c==="emphasis"?f:e.getModel(c+".label"),h=e.getModel("emphasis.label");e=g.get("formatter");a=xa(a.getFormattedLabel(this.node.dataIndex,e?c:"normal",null,null,"label"),this.node.name);d("show")===!1&&(a="");c=this.node.getLayout();e=g.get("minAngle");e==null&&(e=f.get("minAngle"));
e=e/180*Math.PI;var k=c.endAngle-c.startAngle;e!=null&&Math.abs(k)<e&&(a="");e=this.childAt(1);yb(e.style,e.hoverStyle||{},f,h,{defaultText:g.getShallow("show")?a:null,autoColor:b,useInsideStyle:!0});b=(c.startAngle+c.endAngle)/2;h=Math.cos(b);k=Math.sin(b);var l=d("position"),m=d("distance")||0,n=d("align");if(l==="outside"){var p=c.r+m;n=b>Math.PI/2?"right":"left"}else n&&n!=="center"?n==="left"?(p=c.r0+m,b>Math.PI/2&&(n="right")):n==="right"&&(p=c.r-m,b>Math.PI/2&&(n="left")):(p=(c.r+c.r0)/2,n=
"center");e.attr("style",{text:a,textAlign:n,textVerticalAlign:d("verticalAlign")||"middle",opacity:d("opacity")});e.attr("position",[p*h+c.cx,p*k+c.cy]);p=d("rotate");a=0;p==="radial"?(a=-b,a<-Math.PI/2&&(a+=Math.PI)):p==="tangential"?(a=Math.PI/2-b,a>Math.PI/2?a-=Math.PI:a<-Math.PI/2&&(a+=Math.PI)):typeof p==="number"&&(a=p*Math.PI/180);e.attr("rotation",a)};Ve._initEvents=function(a,b,c,d){a.off("mouseover").off("mouseout").off("emphasis").off("normal");var e=this;b=function(){e.onEmphasis(d)};
var f=function(){e.onNormal()},g=function(){e.onDownplay()},h=function(){e.onHighlight()};if(c.isAnimationEnabled())a.on("mouseover",b).on("mouseout",f).on("emphasis",b).on("normal",f).on("downplay",g).on("highlight",h)};ua(Ij,O);Sa.extend({type:"sunburst",init:function(){},render:function(a,b,c,d){var e=this;this.seriesModel=a;this.api=c;this.ecModel=b;var f=a.getData(),g=f.tree.root;c=a.getViewRoot();var h=this.group,k=a.get("renderLabelForZeroData"),l=[];c.eachNode(function(m){l.push(m)});(function(m,
n){function p(t){return t.getId()}function q(t,r){t=t==null?null:m[t];r=r==null?null:n[r];k||!t||t.getValue()||(t=null);t!==g&&r!==g&&(r&&r.piece?t?(r.piece.updateData(!1,t,"normal",a,b),f.setItemGraphicEl(t.dataIndex,r.piece)):r&&r.piece&&(h.remove(r.piece),r.piece=null):t&&(r=new Ij(t,a,b),h.add(r),f.setItemGraphicEl(t.dataIndex,r)))}m.length===0&&n.length===0||(new $c(n,m,p,p)).add(q).update(q).remove(R(q,null)).execute()})(l,this._oldChildren||[]);(function(m,n){n.depth>0?(e.virtualPiece?e.virtualPiece.updateData(!1,
m,"normal",a,b):(e.virtualPiece=new Ij(m,a,b),h.add(e.virtualPiece)),n.piece._onclickEvent&&n.piece.off("click",n.piece._onclickEvent),m=function(p){e._rootToNode(n.parentNode)},n.piece._onclickEvent=m,e.virtualPiece.on("click",m)):e.virtualPiece&&(h.remove(e.virtualPiece),e.virtualPiece=null)})(g,c);if(d&&d.highlight&&d.highlight.piece)c=a.getShallow("highlightPolicy"),d.highlight.piece.onEmphasis(c);else if(d&&d.unhighlight&&(d=this.virtualPiece,!d&&g.children.length&&(d=g.children[0].piece),d))d.onNormal();
this._initEvents();this._oldChildren=l},dispose:function(){},_initEvents:function(){var a=this,b=function(c){var d=!1;a.seriesModel.getViewRoot().eachNode(function(e){if(!d&&e.piece&&e.piece.childAt(0)===c.target){var f=e.getModel().get("nodeClick");f==="rootToNode"?a._rootToNode(e):f==="link"&&(f=e.getModel(),e=f.get("link"))&&(f=f.get("target",!0)||"_blank",Qg(e,f));d=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent);this.group.on("click",b);this.group._onclickEvent=
b},_rootToNode:function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},containPoint:function(a,b){if(b=b.getData().getItemLayout(0)){var c=a[0]-b.cx;a=a[1]-b.cy;a=Math.sqrt(c*c+a*a);return a<=b.r&&a>=b.r0}}});la({type:"sunburstRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(c,d){if(d=nh(a,["sunburstRootToNode"],c)){var e=c.getViewRoot();
e&&(a.direction=Cn(e,d.node)?"rollUp":"drillDown");c.resetViewRoot(d.node)}})});la({type:"sunburstHighlight",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(c,d){if(c=nh(a,["sunburstHighlight"],c))a.highlight=c.node})});la({type:"sunburstUnhighlight",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"sunburst",query:a},function(c,d){a.unhighlight=!0})});var mz=Math.PI/180;za(R(zk,"sunburst"));Da(R(function(a,b,
c,d){b.eachSeriesByType(a,function(e){var f=e.get("center"),g=e.get("radius");F(g)||(g=[0,g]);F(f)||(f=[f,f]);var h=c.getWidth(),k=c.getHeight(),l=Math.min(h,k),m=G(f[0],h),n=G(f[1],k),p=G(g[0],l/2);h=G(g[1],l/2);f=-e.get("startAngle")*mz;var q=e.get("minAngle")*mz,t=e.getData().tree.root;g=e.getViewRoot();var r=g.depth;k=e.get("sort");k!=null&&Nw(g,k);var u=0;y(g.children,function(E){!isNaN(E.getValue())&&u++});var v=g.getValue(),x=Math.PI/(v||u)*2,w=g.depth>0,z=(h-p)/(g.height-(w?-1:1)||1),A=e.get("clockwise"),
B=e.get("stillShowZeroSum"),C=A?1:-1,D=function(E,P){if(E){var W=P;if(E!==t){W=E.getValue();var M=v===0&&B?x:W*x;M<q&&(M=q);W=P+C*M;var J=E.depth-r-(w?-1:1),S=p+z*J;J=p+z*(J+1);var N=E.getModel();N.get("r0")!=null&&(S=G(N.get("r0"),l/2));N.get("r")!=null&&(J=G(N.get("r"),l/2));E.setLayout({angle:M,startAngle:P,endAngle:W,clockwise:A,cx:m,cy:n,r0:S,r:J})}if(E.children&&E.children.length){var K=0;y(E.children,function(Z){K+=D(Z,P+K)})}return W-P}};w&&(e=Math.PI*2,t.setLayout({angle:e,startAngle:f,endAngle:f+
e,clockwise:A,cx:m,cy:n,r0:p,r:p+z}));D(g,f)})},"sunburst"));Bb(R(Rh,"sunburst"));var Uw=ly,$E=["itemStyle"],aF=["emphasis","itemStyle"],YE=["label"],ZE=["emphasis","label"],Pw={cartesian2d:function(a){var b=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(c){return a.dataToPoint(c)},size:L(TE,a)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height,zoom:a.getZoom()},api:{coord:function(c){return a.dataToPoint(c)},
size:L(UE,a)}}},singleAxis:function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:function(c){return a.dataToPoint(c)},size:L(VE,a)}}},polar:function(a){var b=a.getRadiusAxis(),c=a.getAngleAxis(),d=b.getExtent();d[0]>d[1]&&d.reverse();return{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:d[1],r0:d[0]},api:{coord:L(function(e){var f=b.dataToRadius(e[0]);e=c.dataToAngle(e[1]);var g=a.coordToPoint([f,e]);g.push(f,e*Math.PI/180);return g}),size:L(WE,
a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:function(d,e){return a.dataToPoint(d,e)}}}}};Ea.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,
clip:!1},getInitialData:function(a,b){return bd(this.getSource(),this)},getDataParams:function(a,b,c){var d=Ea.prototype.getDataParams.apply(this,arguments);c&&(d.info=c.info);return d}});Sa.extend({type:"custom",_data:null,render:function(a,b,c,d){var e=this._data,f=a.getData(),g=this.group,h=Ow(a,f,b,c);f.diff(e).add(function(k){xo(null,k,h(k,d),a,g,f)}).update(function(k,l){l=e.getItemGraphicEl(l);xo(l,k,h(k,d),a,g,f)}).remove(function(k){(k=e.getItemGraphicEl(k))&&g.remove(k)}).execute();(b=a.get("clip",
!0)?kj(a.coordinateSystem,!1,a):null)?g.setClipPath(b):g.removeClipPath();this._data=f},incrementalPrepareRender:function(a,b,c){this.group.removeAll();this._data=null},incrementalRender:function(a,b,c,d,e){function f(h){h.isGroup||(h.incremental=!0,h.useHoverLayer=!0)}var g=b.getData();c=Ow(b,g,c,d);for(d=a.start;d<a.end;d++)xo(null,d,c(d,e),b,this.group,g).traverse(f)},dispose:Pa,filterForExposedEvent:function(a,b,c,d){a=b.element;if(a==null||c.name===a)return!0;for(;(c=c.parent)&&c!==this.group;)if(c.name===
a)return!0;return!1}});Jj.prototype={constructor:Jj,pointToData:function(a,b){return this.polar.pointToData(a,b)[this.dim==="radius"?0:1]},dataToRadius:Ma.prototype.dataToCoord,radiusToData:Ma.prototype.coordToData};ua(Jj,Ma);var OH=ob();Kj.prototype={constructor:Kj,pointToData:function(a,b){return this.polar.pointToData(a,b)[this.dim==="radius"?0:1]},dataToAngle:Ma.prototype.dataToCoord,angleToData:Ma.prototype.coordToData,calculateCategoryInterval:function(){var a=this.getLabelModel(),b=this.scale,
c=b.getExtent();b=b.count();if(c[1]-c[0]<1)return 0;c=c[0];var d=this.dataToCoord(c+1)-this.dataToCoord(c);d=Math.abs(d);a=qc(c,a.getFont(),"center","top");a=Math.max(a.height,7)/d;isNaN(a)&&(a=Infinity);a=Math.max(0,Math.floor(a));c=OH(this.model);d=c.lastAutoInterval;var e=c.lastTickCount;d!=null&&e!=null&&Math.abs(d-a)<=1&&Math.abs(e-b)<=1&&d>a?a=d:(c.lastTickCount=b,c.lastAutoInterval=a);return a}};ua(Kj,Ma);var Hk=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new Jj;this._angleAxis=
new Kj;this._radiusAxis.polar=this._angleAxis.polar=this};Hk.prototype={type:"polar",axisPointerEnabled:!0,constructor:Hk,dimensions:["radius","angle"],model:null,containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var b=
[],c=this._angleAxis,d=this._radiusAxis;c.scale.type===a&&b.push(c);d.scale.type===a&&b.push(d);return b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){a=a!=null&&a!=="auto"?this.getAxis(a):this.getBaseAxis();return{baseAxes:[a],
otherAxes:[this.getOtherAxis(a)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){a=this.pointToCoord(a);return[this._radiusAxis.radiusToData(a[0],b),this._angleAxis.angleToData(a[1],b)]},pointToCoord:function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent();a=Math.min(e[0],e[1]);e=Math.max(e[0],e[1]);d.inverse?a=e-360:e=a+360;d=Math.sqrt(b*b+c*c);b=Math.atan2(-(c/
d),b/d)/Math.PI*180;for(c=b<a?1:-1;b<a||b>e;)b+=c*360;return[d,b]},coordToPoint:function(a){var b=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*b+this.cx,-Math.sin(a)*b+this.cy]},getArea:function(){var a=this.getAngleAxis(),b=this.getRadiusAxis().getExtent().slice();b[0]>b[1]&&b.reverse();var c=a.getExtent(),d=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:b[0],r:b[1],startAngle:-c[0]*d,endAngle:-c[1]*d,clockwise:a.inverse,contain:function(e,f){e-=this.cx;f-=this.cy;f=e*e+f*f;e=this.r;var g=this.r0;return f<=
e*e&&f>=g*g}}}};var Yp=na.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});Y(Yp.prototype,Oe);$f("angle",Yp,Ww,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});$f("radius",Yp,Ww,{splitNumber:5});Cb({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b;this.ecModel.eachComponent(a,function(c){c.getCoordSysModel()===
this&&(b=c)},this);return b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});$a.register("polar",{dimensions:Hk.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("polar",function(d,e){e=new Hk(e);e.update=eF;var f=e.getRadiusAxis(),g=e.getAngleAxis(),h=d.findAxisModel("radiusAxis"),k=d.findAxisModel("angleAxis");Xw(f,h);Xw(g,k);f=d.get("center");g=b.getWidth();h=b.getHeight();e.cx=G(f[0],g);e.cy=G(f[1],h);f=e.getRadiusAxis();g=Math.min(g,h)/2;h=d.get("radius");h==
null?h=[0,"100%"]:F(h)||(h=[0,h]);h=[G(h[0],g),G(h[1],g)];f.inverse?f.setExtent(h[1],h[0]):f.setExtent(h[0],h[1]);c.push(e);d.coordinateSystem=e;e.model=d});a.eachSeries(function(d){if(d.get("coordinateSystem")==="polar"){var e=a.queryComponents({mainType:"polar",index:d.get("polarIndex"),id:d.get("polarId")})[0];if(I&&!e)throw Error('Polar "'+xa(d.get("polarIndex"),d.get("polarId"),0)+'" not found');d.coordinateSystem=e.coordinateSystem}});return c}});var PH="axisLine axisLabel axisTick minorTick splitLine minorSplitLine splitArea".split(" ");
Eb.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var c=a.axis,d=c.polar,e=d.getRadiusAxis().getExtent(),f=c.getTicksCoords(),g=c.getMinorTicksCoords(),h=H(c.getViewLabels(),function(k){k=T(k);k.coord=c.dataToCoord(k.tickValue);return k});Yw(h);Yw(f);y(PH,function(k){if(a.get(k+".show")&&(!c.scale.isBlank()||k==="axisLine"))this["_"+k](a,d,f,g,e,h)},this)}},_axisLine:function(a,b,c,d,e){a=a.getModel("axisLine.lineStyle");
d=(c=b.getRadiusAxis().inverse?0:1)?0:1;b=e[d]===0?new Gc({shape:{cx:b.cx,cy:b.cy,r:e[c]},style:a.getLineStyle(),z2:1,silent:!0}):new jk({shape:{cx:b.cx,cy:b.cy,r:e[c],r0:e[d]},style:a.getLineStyle(),z2:1,silent:!0});b.style.fill=null;this.group.add(b)},_axisTick:function(a,b,c,d,e){d=a.getModel("axisTick");var f=(d.get("inside")?-1:1)*d.get("length"),g=e[b.getRadiusAxis().inverse?0:1];c=H(c,function(h){return new bb({shape:Lj(b,[g,g+f],h.coord)})});this.group.add(Ub(c,{style:Q(d.getModel("lineStyle").getLineStyle(),
{stroke:a.get("axisLine.lineStyle.color")})}))},_minorTick:function(a,b,c,d,e){if(d.length){c=a.getModel("axisTick");var f=a.getModel("minorTick"),g=(c.get("inside")?-1:1)*f.get("length");e=e[b.getRadiusAxis().inverse?0:1];for(var h=[],k=0;k<d.length;k++)for(var l=0;l<d[k].length;l++)h.push(new bb({shape:Lj(b,[e,e+g],d[k][l].coord)}));this.group.add(Ub(h,{style:Q(f.getModel("lineStyle").getLineStyle(),Q(c.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(a,b,c,d,
e,f){var g=a.getCategories(!0),h=a.getModel("axisLabel"),k=h.get("margin"),l=a.get("triggerEvent");y(f,function(m,n){n=h;var p=m.tickValue,q=e[b.getRadiusAxis().inverse?0:1],t=b.coordToPoint([q+k,m.coord]),r=b.cx,u=b.cy;r=Math.abs(t[0]-r)/q<.3?"center":t[0]>r?"left":"right";q=Math.abs(t[1]-u)/q<.3?"middle":t[1]>u?"top":"bottom";g&&g[p]&&g[p].textStyle&&(n=new ka(g[p].textStyle,h,h.ecModel));p=new fa({silent:tb.isLabelSilent(a)});this.group.add(p);Ca(p.style,n,{x:t[0],y:t[1],textFill:n.getTextColor()||
a.get("axisLine.lineStyle.color"),text:m.formattedLabel,textAlign:r,textVerticalAlign:q});l&&(p.eventData=tb.makeAxisEventDataBase(a),p.eventData.targetType="axisLabel",p.eventData.value=m.rawLabel)},this)},_splitLine:function(a,b,c,d,e){d=a.getModel("splitLine").getModel("lineStyle");var f=d.get("color"),g=0;f=f instanceof Array?f:[f];for(var h=[],k=0;k<c.length;k++){var l=g++%f.length;h[l]=h[l]||[];h[l].push(new bb({shape:Lj(b,e,c[k].coord)}))}for(k=0;k<h.length;k++)this.group.add(Ub(h[k],{style:Q({stroke:f[k%
f.length]},d.getLineStyle()),silent:!0,z:a.get("z")}))},_minorSplitLine:function(a,b,c,d,e){if(d.length){c=a.getModel("minorSplitLine").getModel("lineStyle");for(var f=[],g=0;g<d.length;g++)for(var h=0;h<d[g].length;h++)f.push(new bb({shape:Lj(b,e,d[g][h].coord)}));this.group.add(Ub(f,{style:c.getLineStyle(),silent:!0,z:a.get("z")}))}},_splitArea:function(a,b,c,d,e){if(c.length){d=a.getModel("splitArea").getModel("areaStyle");var f=d.get("color"),g=0;f=f instanceof Array?f:[f];var h=[],k=Math.PI/
180,l=-c[0].coord*k,m=Math.min(e[0],e[1]);e=Math.max(e[0],e[1]);a=a.get("clockwise");for(var n=1;n<c.length;n++){var p=g++%f.length;h[p]=h[p]||[];h[p].push(new fc({shape:{cx:b.cx,cy:b.cy,r0:m,r:e,startAngle:l,endAngle:-c[n].coord*k,clockwise:a},silent:!0}));l=-c[n].coord*k}for(n=0;n<h.length;n++)this.group.add(Ub(h[n],{style:Q({fill:f[n%f.length]},d.getAreaStyle()),silent:!0}))}}});var QH=["axisLine","axisTickLabel","axisName"],RH=["splitLine","splitArea","minorSplitLine"];Eb.extend({type:"radiusAxis",
axisPointerClass:"PolarAxisPointer",render:function(a,b){this.group.removeAll();if(a.get("show")){var c=a.axis,d=c.polar;b=d.getAngleAxis();var e=c.getTicksCoords(),f=c.getMinorTicksCoords(),g=b.getExtent()[0],h=c.getExtent();b={position:[d.cx,d.cy],rotation:g/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1};b=new tb(a,b);y(QH,b.add,b);this.group.add(b.getGroup());y(RH,function(k){if(a.get(k+".show")&&!c.scale.isBlank())this["_"+
k](a,d,g,h,e,f)},this)}},_splitLine:function(a,b,c,d,e){a=a.getModel("splitLine").getModel("lineStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=0;g<e.length;g++){var h=d++%c.length;f[h]=f[h]||[];f[h].push(new Gc({shape:{cx:b.cx,cy:b.cy,r:e[g].coord}}))}for(g=0;g<f.length;g++)this.group.add(Ub(f[g],{style:Q({stroke:c[g%c.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(a,b,c,d,e,f){if(f.length){a=a.getModel("minorSplitLine").getModel("lineStyle");c=
[];for(d=0;d<f.length;d++)for(e=0;e<f[d].length;e++)c.push(new Gc({shape:{cx:b.cx,cy:b.cy,r:f[d][e].coord}}));this.group.add(Ub(c,{style:Q({fill:null},a.getLineStyle()),silent:!0}))}},_splitArea:function(a,b,c,d,e){if(e.length){a=a.getModel("splitArea").getModel("areaStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=e[0].coord,h=1;h<e.length;h++){var k=d++%c.length;f[k]=f[k]||[];f[k].push(new fc({shape:{cx:b.cx,cy:b.cy,r0:g,r:e[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0}));
g=e[h].coord}for(h=0;h<f.length;h++)this.group.add(Ub(f[h],{style:Q({fill:c[h%c.length]},a.getAreaStyle()),silent:!0}))}}});var TH=Ee.extend({makeElOption:function(a,b,c,d,e){var f=c.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var g=f.polar,h=g.getOtherAxis(f).getExtent(),k=f["dataTo"+Qi(f.dim)](b),l=d.get("type");if(l&&l!=="none"){var m=to(d);f=SH[l](f,g,k,h,m);f.style=m;a.graphicKey=f.type;a.pointer=f}m=d.get("label.margin");h=c.axis;b=h.dataToCoord(b);f=g.getAngleAxis().getExtent()[0];
f=f/180*Math.PI;k=g.getRadiusAxis().getExtent();h.dim==="radius"?(h=mb(),Pc(h,h,f),Yb(h,h,[g.cx,g.cy]),b=vc([b,-m],h),g=c.getModel("axisLabel").get("rotate")||0,m=tb.innerTextLayout(f,g*Math.PI/180,-1),g=m.textAlign,m=m.textVerticalAlign):(f=k[1],b=g.coordToPoint([f+m,b]),m=g.cx,h=g.cy,g=Math.abs(b[0]-m)/f<.3?"center":b[0]>m?"left":"right",m=Math.abs(b[1]-h)/f<.3?"middle":b[1]>h?"top":"bottom");Fw(a,c,d,e,{position:b,align:g,verticalAlign:m})}}),SH={line:function(a,b,c,d,e){return a.dim==="angle"?
{type:"Line",shape:vo(b.coordToPoint([d[0],c]),b.coordToPoint([d[1],c]))}:{type:"Circle",shape:{cx:b.cx,cy:b.cy,r:c}}},shadow:function(a,b,c,d,e){e=Math.max(1,a.getBandWidth());var f=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:d[0],r:d[1],startAngle:(-c-e/2)*f,endAngle:(-c+e/2)*f,clockwise:!0}}:{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:c-e/2,r:c+e/2,startAngle:0,endAngle:Math.PI*2,clockwise:!0}}}};Eb.registerAxisPointerClass("PolarAxisPointer",TH);Da(R(function(a,b,
c){var d={},e=dF(Na(b.getSeriesByType(a),function(f){return!b.isSeriesFiltered(f)&&f.coordinateSystem&&f.coordinateSystem.type==="polar"}));b.eachSeriesByType(a,function(f){if(f.coordinateSystem.type==="polar"){var g=f.getData(),h=f.coordinateSystem,k=h.getBaseAxis(),l=k.dim+h.model.componentIndex,m=Vw(f),n=e[l][m];l=n.offset;n=n.width;h=h.getOtherAxis(k);var p=f.coordinateSystem.cx,q=f.coordinateSystem.cy,t=f.get("barMinHeight")||0,r=f.get("barMinAngle")||0;d[m]=d[m]||[];var u=g.mapDimension(h.dim),
v=g.mapDimension(k.dim),x=ad(g,u);f=k.dim!=="radius"||!f.get("roundCap",!0);for(var w=h.dim==="radius"?h.dataToRadius(0):h.dataToAngle(0),z=0,A=g.count();z<A;z++){var B=g.get(u,z),C=g.get(v,z),D=B>=0?"p":"n",E=w;x&&(d[m][C]||(d[m][C]={p:w,n:w}),E=d[m][C][D]);if(h.dim==="radius"){var P=h.dataToRadius(B)-w,W=k.dataToAngle(C);Math.abs(P)<t&&(P=(P<0?-1:1)*t);B=E;P=E+P;W-=l;E=W-n;x&&(d[m][C][D]=P)}else{var M=h.dataToAngle(B,f)-w;B=k.dataToRadius(C);Math.abs(M)<r&&(M=(M<0?-1:1)*r);B+=l;P=B+n;W=E;E+=M;x&&
(d[m][C][D]=E)}g.setItemLayout(z,{cx:p,cy:q,r0:B,r:P,startAngle:-W*Math.PI/180,endAngle:-E*Math.PI/180})}}},this)},"bar"));Ta({type:"polar"});var UH=na.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){na.prototype.init.apply(this,arguments);ie(a,"label",["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=Ky.getFilledRegions(a.regions,a.map,a.nameMap);this._optionModelMap=af(a.regions||[],function(c,d){d.name&&c.set(d.name,new ka(d,b));return c},aa());this.updateSelectedMap(a.regions)},
defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new ka(null,this,this.ecModel)},getFormattedLabel:function(a,b){b=b||"normal";var c=this.getRegionModel(a).get((b===
"normal"?"":b+".")+"label.formatter"),d={name:a};if(typeof c==="function")return d.status=b,c(d);if(typeof c==="string")return c.replace("{a}",a!=null?a:"")},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});pa(UH,Pp);Ta({type:"geo",init:function(a,b){this._mapDraw=a=new qj(b,!0);this.group.add(a.group)},render:function(a,b,c,d){if(!d||d.type!=="geoToggleSelect"||d.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,b,c,this,d):this._mapDraw.group.removeAll();
this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});zo("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});zo("select",{type:"geoSelect",event:"geoselected"});zo("unSelect",{type:"geoUnSelect",event:"geounselected"});hd.prototype={constructor:hd,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},
getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){a=Pg(a);var b=a.getFullYear(),c=a.getMonth()+1;c=c<10?"0"+c:c;var d=a.getDate();d=d<10?"0"+d:d;var e=a.getDay();e=Math.abs((e+7-this.getFirstDayOfWeek())%7);return{y:b,m:c,d:d,day:e,time:a.getTime(),formatedDate:b+"-"+c+"-"+d,date:a}},getNextNDay:function(a,
b){b=b||0;if(b===0)return this.getDateInfo(a);a=new Date(this.getDateInfo(a).time);a.setDate(a.getDate()+b);return this.getDateInfo(a)},update:function(a,b){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());a=this._rangeInfo.weeks||1;var c=["width","height"],d=this._model.get("cellSize").slice(),e=this._model.getBoxLayoutParams(),
f=this._orient==="horizontal"?[a,7]:[7,a];y([0,1],function(h){d[h]!=null&&d[h]!=="auto"&&(e[c[h]]=d[h]*f[h])});b={width:b.getWidth(),height:b.getHeight()};var g=this._rect=Ja(e,b);y([0,1],function(h){if(d[h]==null||d[h]==="auto")d[h]=g[c[h]]/f[h]});this._sw=d[0];this._sh=d[1]},dataToPoint:function(a,b){F(a)&&(a=a[0]);b==null&&(b=!0);a=this.getDateInfo(a);var c=this._rangeInfo;if(b&&!(a.time>=c.start.time&&a.time<c.end.time+864E5))return[NaN,NaN];b=a.day;a=this._getRangeInfo([c.start.time,a.formatedDate]).nthWeek;
return this._orient==="vertical"?[this._rect.x+b*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+b*this._sh+this._sh/2]},pointToData:function(a){return(a=this.pointToDate(a))&&a.time},dataToRect:function(a,b){a=this.dataToPoint(a,b);return{contentShape:{x:a[0]-(this._sw-this._lineWidth)/2,y:a[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:a,tl:[a[0]-this._sw/2,a[1]-this._sh/2],tr:[a[0]+
this._sw/2,a[1]-this._sh/2],br:[a[0]+this._sw/2,a[1]+this._sh/2],bl:[a[0]-this._sw/2,a[1]+this._sh/2]}},pointToDate:function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1;a=Math.floor((a[1]-this._rect.y)/this._sh)+1;var c=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(a,b-1,c):this._getDateByWeeksAndDay(b,a-1,c)},convertToPixel:R(Zw,"dataToPoint"),convertFromPixel:R(Zw,"pointToData"),_initRangeOption:function(){var a=this._model.get("range"),b=a;F(b)&&b.length===
1&&(b=b[0]);/^\d{4}$/.test(b)&&(a=[b+"-01-01",b+"-12-31"]);if(/^\d{4}[\/|-]\d{1,2}$/.test(b)){a=this.getDateInfo(b);var c=a.date;c.setMonth(c.getMonth()+1);c=this.getNextNDay(c,-1);a=[a.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(b)&&(a=[b,b]);b=this._getRangeInfo(a);b.start.time>b.end.time&&a.reverse();return a},_getRangeInfo:function(a){a=[this.getDateInfo(a[0]),this.getDateInfo(a[1])];if(a[0].time>a[1].time){var b=!0;a.reverse()}var c=Math.floor(a[1].time/864E5)-Math.floor(a[0].time/
864E5)+1,d=new Date(a[0].time),e=d.getDate(),f=a[1].date.getDate();d.setDate(e+c-1);e=d.getDate();if(e!==f)for(var g=d.getTime()-a[1].time>0?1:-1;(e=d.getDate())!==f&&(d.getTime()-a[1].time)*g>0;)c-=g,d.setDate(e-g);d=Math.floor((c+a[0].day+6)/7);f=b?-d+1:d-1;b&&a.reverse();return{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:d,nthWeek:f,fweek:a[0].day,lweek:a[1].day}},_getDateByWeeksAndDay:function(a,b,c){c=this._getRangeInfo(c);if(a>c.weeks||a===0&&b<c.fweek||a===
c.weeks&&b>c.lweek)return!1;var d=new Date(c.start.time);d.setDate(c.start.d+((a-1)*7-c.fweek+b));return this.getDateInfo(d)}};hd.dimensions=hd.prototype.dimensions;hd.getDimensionsInfo=hd.prototype.getDimensionsInfo;hd.create=function(a,b){var c=[];a.eachComponent("calendar",function(d){var e=new hd(d,a,b);c.push(e);d.coordinateSystem=e});a.eachSeries(function(d){d.get("coordinateSystem")==="calendar"&&(d.coordinateSystem=c[d.get("calendarIndex")||0])});return c};$a.register("calendar",hd);var nz=
na.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",
fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,b,c,d){var e=ue({},a);nz.superApply(this,"init",arguments);$w(a,e)},mergeOption:function(a,b){nz.superApply(this,"mergeOption",arguments);$w(this.option,a)}}),VH={EN:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CN:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},WH={EN:"SMTWTFS".split(""),
CN:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")};Ta({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,b,c){b=this.group;b.removeAll();var d=a.coordinateSystem;c=d.getRangeInfo();d=d.getOrient();this._renderDayRect(a,c,b);this._renderLines(a,c,d,b);this._renderYearText(a,c,d,b);this._renderMonthText(a,d,b);this._renderWeekText(a,c,d,b)},_renderDayRect:function(a,b,c){var d=a.coordinateSystem;a=a.getModel("itemStyle").getItemStyle();
for(var e=d.getCellWidth(),f=d.getCellHeight(),g=b.start.time;g<=b.end.time;g=d.getNextNDay(g,1).time){var h=d.dataToRect([g],!1).tl;h=new oa({shape:{x:h[0],y:h[1],width:e,height:f},cursor:"default",style:a});c.add(h)}},_renderLines:function(a,b,c,d){function e(p){f._firstDayOfMonth.push(g.getDateInfo(p));f._firstDayPoints.push(g.dataToRect([p],!1).tl);p=f._getLinePointsOfOneWeek(a,p,c);f._tlpoints.push(p[0]);f._blpoints.push(p[p.length-1]);k&&f._drawSplitline(p,h,d)}var f=this,g=a.coordinateSystem,
h=a.getModel("splitLine.lineStyle").getLineStyle(),k=a.get("splitLine.show"),l=h.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];for(var m=b.start,n=0;m.time<=b.end.time;n++)e(m.formatedDate),n===0&&(m=g.getDateInfo(b.start.y+"-"+b.start.m)),m=m.date,m.setMonth(m.getMonth()+1),m=g.getDateInfo(m);e(g.getNextNDay(b.end.time,1).formatedDate);k&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,l,c),h,d);k&&this._drawSplitline(f._getEdgesPoints(f._blpoints,
l,c),h,d)},_getEdgesPoints:function(a,b,c){a=[a[0].slice(),a[a.length-1].slice()];c=c==="horizontal"?0:1;a[0][c]-=b/2;a[1][c]+=b/2;return a},_drawSplitline:function(a,b,c){a=new Tb({z2:20,shape:{points:a},style:b});c.add(a)},_getLinePointsOfOneWeek:function(a,b,c){a=a.coordinateSystem;b=a.getDateInfo(b);for(var d=[],e=0;e<7;e++){var f=a.getNextNDay(b.time,e),g=a.dataToRect([f.time],!1);d[2*f.day]=g.tl;d[2*f.day+1]=g[c==="horizontal"?"bl":"tr"]}return d},_formatterLabel:function(a,b){return typeof a===
"string"&&a?Gs(a,b):typeof a==="function"?a(b):b.nameMap},_yearTextPositionControl:function(a,b,c,d,e){b=b.slice();a=["center","bottom"];d==="bottom"?(b[1]+=e,a=["center","top"]):d==="left"?b[0]-=e:d==="right"?(b[0]+=e,a=["center","top"]):b[1]-=e;e=0;if(d==="left"||d==="right")e=Math.PI/2;return{rotation:e,position:b,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(a,b,c,d){a=a.getModel("yearLabel");if(a.get("show")){var e=a.get("margin"),f=a.get("position");f||(f=c!=="horizontal"?
"top":"left");var g=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(g[0][0]+g[1][0])/2,k=(g[0][1]+g[1][1])/2,l=c==="horizontal"?0:1;g={top:[h,g[l][1]],bottom:[h,g[1-l][1]],left:[g[1-l][0],k],right:[g[l][0],k]};h=b.start.y;+b.end.y>+b.start.y&&(h=h+"-"+b.end.y);k=a.get("formatter");b=this._formatterLabel(k,{start:b.start.y,end:b.end.y,nameMap:h});h=new fa({z2:30});Ca(h.style,a,{text:b});h.attr(this._yearTextPositionControl(h,g[f],c,f,e));d.add(h)}},_monthTextPositionControl:function(a,
b,c,d,e){var f="left",g="top",h=a[0];a=a[1];c==="horizontal"?(a+=e,b&&(f="center"),d==="start"&&(g="bottom")):(h+=e,b&&(g="middle"),d==="start"&&(f="right"));return{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderMonthText:function(a,b,c){a=a.getModel("monthLabel");if(a.get("show")){var d=a.get("nameMap"),e=a.get("margin"),f=a.get("position"),g=a.get("align"),h=[this._tlpoints,this._blpoints];va(d)&&(d=VH[d.toUpperCase()]||[]);var k=f==="start"?0:1,l=b==="horizontal"?0:1;e=f==="start"?-e:e;g=g===
"center";for(var m=0;m<h[k].length-1;m++){var n=h[k][m].slice(),p=this._firstDayOfMonth[m];g&&(n[l]=(this._firstDayPoints[m][l]+h[0][m+1][l])/2);var q=a.get("formatter"),t=d[+p.m-1];p={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:t};q=this._formatterLabel(q,p);p=new fa({z2:30});U(Ca(p.style,a,{text:q}),this._monthTextPositionControl(n,g,b,f,e));c.add(p)}}},_weekTextPositionControl:function(a,b,c,d,e){var f="center",g="middle",h=a[0];a=a[1];c=c==="start";b==="horizontal"?(h=h+d+(c?1:-1)*e[0]/
2,f=c?"right":"left"):(a=a+d+(c?1:-1)*e[1]/2,g=c?"bottom":"top");return{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderWeekText:function(a,b,c,d){var e=a.getModel("dayLabel");if(e.get("show")){a=a.coordinateSystem;var f=e.get("position"),g=e.get("nameMap"),h=e.get("margin"),k=a.getFirstDayOfWeek();va(g)&&(g=WH[g.toUpperCase()]||[]);var l=a.getNextNDay(b.end.time,7-b.lweek).time,m=[a.getCellWidth(),a.getCellHeight()];h=G(h,m[c==="horizontal"?0:1]);f==="start"&&(l=a.getNextNDay(b.start.time,-(7+b.fweek)).time,
h=-h);for(b=0;b<7;b++){var n=a.getNextNDay(l,b);n=a.dataToRect([n.time],!1).center;var p=Math.abs((b+k)%7),q=new fa({z2:30});U(Ca(q.style,e,{text:g[p]}),this._weekTextPositionControl(n,c,f,h,m));d.add(q)}}}});var bx={path:null,compoundPath:null,group:O,image:Va,text:fa};ab(function(a){var b=a.graphic;F(b)?a.graphic=b[0]&&b[0].elements?[a.graphic[0]]:[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var XH=Cb({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,
mergeOption:function(a){var b=this.option.elements;this.option.elements=null;XH.superApply(this,"mergeOption",arguments);this.option.elements=b},optionUpdated:function(a,b){var c=this.option;a=(b?c:a).elements;var d=c.elements=b?[]:c.elements;b=[];this._flatten(a,b);b=Rl(d,b);ur(b);var e=this._elOptionsToUpdate=[];y(b,function(f,g){var h=f.option;I&&ja(X(h)||f.exist,"Empty graphic option definition");if(h){e.push(h);var k=f.exist;h.id=f.keyInfo.id;!h.type&&k&&(h.type=k.type);h.parentId==null&&((f=
h.parentOption)?h.parentId=f.id:k&&(h.parentId=k.parentId));h.parentOption=null;k=U({},h);f=d[g];var l=h.$action||"merge";l==="merge"?f?(I&&(l=h.type,ja(!l||f.type===l,'Please set $action: "replace" to change `type`')),Y(f,k,!0),Ed(f,k,{ignoreSize:!0}),ue(h,f)):d[g]=k:l==="replace"?d[g]=k:l==="remove"&&f&&(d[g]=null);if(g=d[g])g.hv=h.hv=[cx(h,["left","right"]),cx(h,["top","bottom"])],g.type==="group"&&(g.width==null&&(g.width=h.width=0),g.height==null&&(g.height=h.height=0))}},this);for(b=d.length-
1;b>=0;b--)d[b]==null?d.splice(b,1):delete d[b].$action},_flatten:function(a,b,c){y(a,function(d){if(d){c&&(d.parentOption=c);b.push(d);var e=d.children;d.type==="group"&&e&&this._flatten(e,b,d);delete d.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return a}});Ta({type:"graphic",init:function(a,b){this._elMap=aa()},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a);this._relocate(a,
c)},_updateElements:function(a){var b=a.useElOptionsToUpdate();if(b){var c=this._elMap,d=this.group;y(b,function(e){var f=e.$action,g=e.id,h=c.get(g),k=e.parentId;k=k!=null?c.get(k):d;var l=e.style;e.type==="text"&&l&&(e.hv&&e.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke));l=fF(e);I&&h&&ja(k===h.parent,"Changing parent is not supported.");f&&f!=="merge"?f==="replace"?(Mj(h,
c),ax(g,k,l,c)):f==="remove"&&Mj(h,c):h?h.attr(l):ax(g,k,l,c);if(f=c.get(g))f.__ecGraphicWidthOption=e.width,f.__ecGraphicHeightOption=e.height,e=f.eventData,f.silent||f.ignore||e||(e=f.eventData={componentType:"graphic",componentIndex:a.componentIndex,name:f.name}),e&&(e.info=f.info)})}},_relocate:function(a,b){a=a.option.elements;var c=this.group,d=this._elMap,e=b.getWidth();b=b.getHeight();for(var f=0;f<a.length;f++){var g=a[f],h=d.get(g.id);if(h&&h.isGroup){var k=h.parent;g=k===c;h.__ecGraphicWidth=
G(h.__ecGraphicWidthOption,g?e:k.__ecGraphicWidth)||0;h.__ecGraphicHeight=G(h.__ecGraphicHeightOption,g?b:k.__ecGraphicHeight)||0}}for(f=a.length-1;f>=0;f--)if(g=a[f],h=d.get(g.id))k=h.parent,Ri(h,g,k===c?{width:e,height:b}:{width:k.__ecGraphicWidth,height:k.__ecGraphicHeight},null,{hv:g.hv,boundingMode:g.bounding})},_clear:function(){var a=this._elMap;a.each(function(b){Mj(b,a)});this._elMap=aa()},dispose:function(){this._clear()}});var ae={},YH=Cb({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},
optionUpdated:function(){YH.superApply(this,"optionUpdated",arguments);y(this.option.feature,function(a,b){(b=ae[b])&&Y(a,b.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});Ta({type:"toolbox",render:function(a,b,c,d){function e(n,
p){n=m[n];p=m[p];var q=k[n],t=new ka(q,a,a.ecModel);d&&d.newTitle!=null&&d.featureName===n&&(q.title=d.newTitle);if(n&&!p){if(n.indexOf("my")===0)q={model:t,onclick:t.option.onclick,featureName:n};else{q=ae[n];if(!q)return;q=new q(t,b,c)}l[n]=q}else{q=l[p];if(!q)return;q.model=t;q.ecModel=b;q.api=c}!n&&p?q.dispose&&q.dispose(b,c):!t.get("show")||q.unusable?q.remove&&q.remove(b,c):(f(t,q,n),t.setIconStatus=function(r,u){var v=this.option,x=this.iconPaths;v.iconStatus=v.iconStatus||{};v.iconStatus[r]=
u;x[r]&&x[r].trigger(u)},q.render&&q.render(t,b,c,d))}function f(n,p,q){var t=n.getModel("iconStyle"),r=n.getModel("emphasis.iconStyle"),u=p.getIcons?p.getIcons():n.get("icon"),v=n.get("title")||{};if(typeof u==="string"){var x=u,w=v;u={};v={};u[q]=x;v[q]=w}var z=n.iconPaths={};y(u,function(A,B){var C=yf(A,{},{x:-h/2,y:-h/2,width:h,height:h});C.setStyle(t.getItemStyle());C.hoverStyle=r.getItemStyle();C.setStyle({text:v[B],textAlign:r.get("textAlign"),textBorderRadius:r.get("textBorderRadius"),textPadding:r.get("textPadding"),
textFill:null});(A=a.getModel("tooltip"))&&A.get("show")&&C.attr("tooltip",U({content:v[B],formatter:A.get("formatter",!0)||function(){return v[B]},formatterParams:{componentType:"toolbox",name:B,title:v[B],$vars:["name","title"]},position:A.get("position",!0)||"bottom"},A.option));Aa(C);a.get("showTitle")&&(C.__title=v[B],C.on("mouseover",function(){var D=r.getItemStyle(),E=a.get("orient")==="vertical"?a.get("right")==null?"right":"left":a.get("bottom")==null?"bottom":"top";C.setStyle({textFill:r.get("textFill")||
D.fill||D.stroke||"#000",textBackgroundColor:r.get("textBackgroundColor"),textPosition:r.get("textPosition")||E})}).on("mouseout",function(){C.setStyle({textFill:null,textBackgroundColor:null})}));C.trigger(n.get("iconStatus."+B)||"normal");g.add(C);C.on("click",L(p.onclick,p,b,c,B));z[B]=C})}var g=this.group;g.removeAll();if(a.get("show")){var h=+a.get("itemSize"),k=a.get("feature")||{},l=this._features||(this._features={}),m=[];y(k,function(n,p){m.push(p)});(new $c(this._featureNames||[],m)).add(e).update(e).remove(R(e,
null)).execute();this._featureNames=m;gF(g,a,c);g.add(dx(g.getBoundingRect(),a));g.eachChild(function(n){var p=n.__title,q=n.hoverStyle;if(q&&p){p=qc(p,dr(q));var t=n.position[0]+g.position[0],r=!1;n.position[1]+g.position[1]+h+p.height>c.getHeight()&&(q.textPosition="top",r=!0);n=r?-5-p.height:h+8;t+p.width/2>c.getWidth()?(q.textPosition=["100%",n],q.textAlign="right"):t-p.width/2<0&&(q.textPosition=[0,n],q.textAlign="left")}})}},updateView:function(a,b,c,d){y(this._features,function(e){e.updateView&&
e.updateView(e.model,b,c,d)})},remove:function(a,b){y(this._features,function(c){c.remove&&c.remove(a,b)});this.group.removeAll()},dispose:function(a,b){y(this._features,function(c){c.dispose&&c.dispose(a,b)})}});Nj.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"].slice()};
Nj.prototype.unusable=!da.canvasSupported;Nj.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=b.getZr().painter.getType()==="svg"?"svg":c.get("type",!0)||"png";a=b.getConnectedDataURL({type:e,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:c.get("connectedBackgroundColor"),excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(typeof MouseEvent!=="function"||da.browser.ie||
da.browser.edge)if(window.navigator.msSaveOrOpenBlob){c=atob(a.split(",")[1]);a=c.length;for(b=new Uint8Array(a);a--;)b[a]=c.charCodeAt(a);c=new Blob([b]);window.navigator.msSaveOrOpenBlob(c,d+"."+e)}else d=c.get("lang"),d='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+a+'" style\x3d"max-width:100%;" title\x3d"'+(d&&d[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(d);else c=document.createElement("a"),c.download=d+"."+e,c.target="_blank",c.href=a,d=new MouseEvent("click",{view:document.defaultView,
bubbles:!0,cancelable:!1}),c.dispatchEvent(d)};ae.saveAsImage=Nj;var Ik={line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"};Ao.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},
title:T(Ik),option:{},seriesIndex:{}};var oz=Ao.prototype;oz.getIcons=function(){var a=this.model,b=a.get("icon"),c={};y(a.get("type"),function(d){b[d]&&(c[d]=b[d])});return c};var pz={line:function(a,b,c,d){if(a==="bar")return Y({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,b,c,d){if(a==="line")return Y({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),
markLine:c.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,b,c,d){c=c.get("stack")==="__ec_magicType_stack__";if(a==="line"||a==="bar")return d.setIconStatus("stack",c?"normal":"emphasis"),Y({id:b,stack:c?"":"__ec_magicType_stack__"},d.get("option.stack")||{},!0)}},ZH=[["line","bar"],["stack"]];oz.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(pz[c]){var f={series:[]};y(ZH,function(h){ma(h,c)>=0&&y(h,function(k){d.setIconStatus(k,"normal")})});d.setIconStatus(c,
"emphasis");a.eachComponent({mainType:"series",query:e==null?null:{seriesIndex:e}},function(h){var k=pz[c](h.subType,h.id,h,d);k&&(Q(k,h.option),f.series.push(k));if((k=h.coordinateSystem)&&k.type==="cartesian2d"&&(c==="line"||c==="bar")&&(k=k.getAxesByScale("ordinal")[0])){k=k.dim+"Axis";h=a.queryComponents({mainType:k,index:h.get(name+"Index"),id:h.get(name+"Id")})[0].componentIndex;f[k]=f[k]||[];for(var l=0;l<=h;l++)f[k][h]=f[k][h]||{};f[k][h].boundaryGap=c==="bar"}});var g;c==="stack"&&(g=f.series&&
f.series[0]&&f.series[0].stack==="__ec_magicType_stack__"?Y({stack:Ik.tiled},Ik):T(Ik));b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f,newTitle:g,featureName:"magicType"})}};la({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});ae.magicType=Ao;var Oj=Array(60).join("-"),Bo=RegExp("[\t]+","g");Ah.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",
title:T("\u6570\u636e\u89c6\u56fe"),lang:T(["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};Ah.prototype.onclick=function(a,b){function c(){d.removeChild(f);r._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=
e.get("backgroundColor")||"#fff";var g=document.createElement("h4"),h=e.get("lang")||[];g.innerHTML=h[0]||e.get("title");g.style.cssText="margin: 10px 20px;";g.style.color=e.get("textColor");var k=document.createElement("div"),l=document.createElement("textarea");k.style.cssText="display:block;width:100%;overflow:auto;";var m=e.get("optionToContent"),n=e.get("contentToOption");a=kF(a);typeof m==="function"?(m=m(b.getOption()),typeof m==="string"?k.innerHTML=m:Ze(m)&&k.appendChild(m)):(k.appendChild(l),
l.readOnly=e.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=e.get("textColor"),l.style.borderColor=e.get("textareaBorderColor"),l.style.backgroundColor=e.get("textareaColor"),l.value=a.value);var p=a.meta;m=document.createElement("div");m.style.cssText="position:absolute;bottom:0;left:0;right:0;";a="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var q=document.createElement("div"),
t=document.createElement("div");a+=";background-color:"+e.get("buttonColor");a+=";color:"+e.get("buttonTextColor");var r=this;gl(q,"click",c);gl(t,"click",function(){try{var u=typeof n==="function"?n(k,b.getOption()):mF(l.value,p)}catch(v){throw c(),Error("Data view format error "+v);}u&&b.dispatchAction({type:"changeDataView",newOption:u});c()});q.innerHTML=h[1];t.innerHTML=h[2];t.style.cssText=a;q.style.cssText=a;!e.get("readOnly")&&m.appendChild(t);m.appendChild(q);f.appendChild(g);f.appendChild(k);
f.appendChild(m);k.style.height=d.clientHeight-80+"px";d.appendChild(f);this._dom=f};Ah.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};Ah.prototype.dispose=function(a,b){this.remove(a,b)};ae.dataView=Ah;la({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];y(a.newOption.series,function(d){var e=b.getSeriesByName(d.name)[0];e?(e=e.get("data"),c.push({name:d.name,data:nF(d.data,e)})):c.push(U({type:"scatter"},d))});b.mergeOption(Q({series:c},
a.newOption))});var Pd=y,Rj=ma,Zp=["dataToPoint","pointToData"],ex="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" "),dg=Qj.prototype;dg.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(c,d,e){(c.coordRanges||(c.coordRanges=[])).push(d);c.coordRange||(c.coordRange=d,d=$p[c.brushType](0,e,d),c.__rangeOffset={offset:qz[c.brushType](d.values,c.range,[1,1]),xyMinMax:d.xyMinMax})})};dg.matchOutputRanges=function(a,b,c){Pd(a,function(d){var e=this.findTargetInfo(d,
b);e&&e!==!0&&y(e.coordSyses,function(f){var g=$p[d.brushType](1,f,d.range);c(d,g.values,f,b)})},this)};dg.setInputRanges=function(a,b){Pd(a,function(c){var d=this.findTargetInfo(c,b);I&&(ja(!d||d===!0||c.coordRange,"coordRange must be specified when coord index specified."),ja(!d||d!==!0||c.range,"range must be specified in global brush."));c.range=c.range||[];if(d&&d!==!0){c.panelId=d.panelId;var e=$p[c.brushType](0,d.coordSys,c.coordRange),f=c.__rangeOffset;if(f){d=qz;var g=d[c.brushType],h=e.values,
k=f.offset;f=f.xyMinMax;e=hx(e.xyMinMax);f=hx(f);e=[e[0]/f[0],e[1]/f[1]];isNaN(e[0])&&(e[0]=1);isNaN(e[1])&&(e[1]=1);d=g.call(d,h,k,e)}else d=e.values;c.range=d}},this)};dg.makePanelOpts=function(a,b){return H(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:Qv(d),isTargetByCursor:Sv(d,a,c.coordSysModel),getLinearBrushOtherExtent:Rv(d)}})};dg.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return a===!0||a&&Rj(a.coordSyses,
b.coordinateSystem)>=0};dg.findTargetInfo=function(a,b){var c=this._targetInfoList;b=ug(b,a,{includeMainTypes:ex});for(var d=0;d<c.length;d++){var e=c[d],f=a.panelId;if(f){if(e.panelId===f)return e}else for(d=0;d<rz.length;d++)if(rz[d](b,e))return e}return!0};var oF={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels;a=a.gridModels;var e=aa(),f={},g={};if(c||d||a)Pd(c,function(h){h=h.axis.grid.model;e.set(h.id,h);f[h.id]=!0}),Pd(d,function(h){h=h.axis.grid.model;e.set(h.id,h);g[h.id]=!0}),Pd(a,
function(h){e.set(h.id,h);f[h.id]=!0;g[h.id]=!0}),e.each(function(h){var k=[];Pd(h.coordinateSystem.getCartesians(),function(l,m){(Rj(c,l.getAxis("x").model)>=0||Rj(d,l.getAxis("y").model)>=0)&&k.push(l)});b.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:k[0],coordSyses:k,getPanelRect:sz.grid,xAxisDeclared:f[h.id],yAxisDeclared:g[h.id]})})},geo:function(a,b){Pd(a.geoModels,function(c){var d=c.coordinateSystem;b.push({panelId:"geo--"+c.id,geoModel:c,coordSysModel:c,coordSys:d,coordSyses:[d],
getPanelRect:sz.geo})})}},rz=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel;a=a.gridModel;!a&&c&&(a=c.axis.grid.model);!a&&d&&(a=d.axis.grid.model);return a&&a===b.gridModel},function(a,b){return(a=a.geoModel)&&a===b.geoModel}],sz={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();b.applyTransform(re(a));return b}},$p={lineX:R(fx,0),lineY:R(fx,1),rect:function(a,b,c){var d=b[Zp[a]]([c[0][0],c[1][0]]);a=b[Zp[a]]([c[0][1],
c[1][1]]);d=[Co([d[0],a[0]]),Co([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,b,c){var d=[[Infinity,-Infinity],[Infinity,-Infinity]];return{values:H(c,function(e){e=b[Zp[a]](e);d[0][0]=Math.min(d[0][0],e[0]);d[1][0]=Math.min(d[1][0],e[1]);d[0][1]=Math.max(d[0][1],e[0]);d[1][1]=Math.max(d[1][1],e[1]);return e}),xyMinMax:d}}},qz={lineX:R(gx,0),lineY:R(gx,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,
b,c){return H(a,function(d,e){return[d[0]-c[0]*b[e][0],d[1]-c[1]*b[e][1]]})}},ix=y;na.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var $H=["cartesian2d","polar","singleAxis"],be=function(a,b){a=a.slice();var c=H(a,Qi);b=(b||[]).slice();var d=H(b,Qi);return function(e,f){y(a,function(g,h){h={name:g,capital:c[h]};for(var k=0;k<b.length;k++)h[b[k]]=g+d[k];e.call(f,h)})}}("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]),He=y,aq=function(a,b,c,d){this._dimName=
a;this._axisIndex=b;this.ecModel=d;this._dataZoomModel=c};aq.prototype={constructor:aq,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;b.eachSeries(function(c){var d=c.get("coordinateSystem");ma($H,d)>=0&&(d=this._dimName,d=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0],
this._axisIndex===(d&&d.componentIndex)&&a.push(c))},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,b=this.ecModel,c=this.getAxisModel();if(a==="x"||a==="y"){var d="gridIndex";a=a==="x"?"y":"x"}else d="polarIndex",a=a==="angle"?"radius":"angle";var e;b.eachComponent(a+"Axis",function(f){(f.get(d)||0)===(c.get(d)||0)&&(e=f)});return e},getMinMaxSpan:function(){return T(this._minMaxSpan)},
calculateDataWindow:function(a){function b(m,n,p,q,t){var r=t?"Span":"ValueSpan";Je(0,m,p,"all",l["min"+r],l["max"+r]);for(r=0;r<2;r++)n[r]=ia(m[r],p,q,!0),t&&(n[r]=d.parse(n[r]))}var c=this._dataExtent,d=this.getAxisModel().axis.scale,e=this._dataZoomModel.getRangePropMode(),f=[0,100],g=[],h=[],k;He(["start","end"],function(m,n){var p=a[m];m=a[m+"Value"];e[n]==="percent"?(p==null&&(p=f[n]),m=d.parse(ia(p,f,c))):(k=!0,m=m==null?c[n]:d.parse(m),p=ia(m,c,f));h[n]=m;g[n]=p});wc(h);wc(g);var l=this._minMaxSpan;
k?b(h,g,c,f,!1):b(g,h,f,c,!0);return{valueWindow:h,percentWindow:g}},reset:function(a){if(a===this._dataZoomModel){var b=this.getTargetSeriesModels();this._dataExtent=sF(this,this._dimName,b);uF(this);a=this.calculateDataWindow(a.settledOption);this._valueWindow=a.valueWindow;this._percentWindow=a.percentWindow;jx(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,jx(this,!0))},filterData:function(a,b){if(a===this._dataZoomModel){var c=this._dimName;b=
this.getTargetSeriesModels();var d=a.get("filterMode"),e=this._valueWindow;d!=="none"&&He(b,function(f){var g=f.getData(),h=g.mapDimension(c,!0);h.length&&(d==="weakFilter"?g.filterSelf(function(k){for(var l,m,n,p=0;p<h.length;p++){var q=g.get(h[p],k),t=!isNaN(q),r=q<e[0];q=q>e[1];if(t&&!r&&!q)return!0;t&&(n=!0);r&&(l=!0);q&&(m=!0)}return n&&l&&m}):He(h,function(k){if(d==="empty")f.setData(g=g.map(k,function(m){return m>=e[0]&&m<=e[1]?m:NaN}));else{var l={};l[k]=e;g.selectRange(l)}}),He(h,function(k){g.setApproximateExtent(e,
k)}))})}}};var Ie=y,bq=Cb({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=
["percent","percent"];this.settledOption=b=kx(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=kx(a);Y(this.option,a,!0);Y(this.settledOption,b,!0);this.doInit(b)},doInit:function(a){var b=this.option;da.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);lx(this,a);var c=this.settledOption;Ie([["start","startValue"],["end","endValue"]],function(d,e){this._rangePropMode[e]==="value"&&(b[d[0]]=c[d[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");
this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){d=this.dependentModels[b.axis][c];e=d.__dzAxisProxy||(d.__dzAxisProxy=new aq(b.name,c,this,e));a[b.name+"_"+c]=e},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();be(function(c){c=c.axisIndex;a[c]=Za(a[c])},this);b==="axisIndex"?this._autoSetAxisIndex():b==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;be(function(d){a[d.axisIndex]!=
null&&(b=!0)},this);var c=a.orient;if(c==null&&b)return"orient";if(!b)return c==null&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e=b==="vertical"?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):Ie(d.singleAxis,function(f){a&&f.get("orient",!0)===b&&(c.singleAxisIndex=[f.componentIndex],a=!1)})}a&&be(function(f){if(a){var g=[],h=this.dependentModels[f.axis];if(h.length&&!g.length)for(var k=
0,l=h.length;k<l;k++)h[k].get("type")==="category"&&g.push(k);c[f.axisIndex]=g;g.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(f){this._isSeriesHasAllAxesTypeOf(f,"value")&&be(function(g){var h=c[g.axisIndex],k=f.get(g.axisIndex),l=f.get(g.axisId),m=f.ecModel.queryComponents({mainType:g.axis,index:k,id:l})[0];if(I&&!m)throw Error(g.axis+' "'+xa(k,l,0)+'" not found');k=m.componentIndex;ma(h,k)<0&&h.push(k)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=
b.name)},this);this.option.orient=a==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;be(function(d){var e=a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===b||(c=!1)},this);return c},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20)},getFirstTargetAxisModel:function(){var a;be(function(b){if(a==null){var c=
this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,b){var c=this.ecModel;be(function(d){Ie(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){return(a=this.getAxisProxy(a,b))&&a.getAxisModel()},setRawRange:function(a){var b=this.option,c=this.settledOption;Ie([["start","startValue"],["end","endValue"]],function(d){if(a[d[0]]!=null||
a[d[1]]!=null)b[d[0]]=c[d[0]]=a[d[0]],b[d[1]]=c[d[1]]=a[d[1]]},this);lx(this,a)},setCalculatedRange:function(a){var b=this.option;Ie(["start","startValue","end","endValue"],function(c){b[c]=a[c]})},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(a==null&&b==null){if(a=this.findRepresentativeAxisProxy())return a.getDataValueWindow()}else return this.getAxisProxy(a,b).getDataValueWindow()},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;
a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),cq=xc.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a;this.ecModel=b;this.api=c},getTargetCoordInfo:function(){var a=this.ecModel,b={};this.dataZoomModel.eachTargetAxis(function(c,d){if(c=a.getComponent(c.axis,d))if(d=c.getCoordSysModel()){for(var e=b[d.mainType]||
(b[d.mainType]=[]),f,g=0;g<e.length;g++)if(e[g].model===d){f=e[g];break}f||e.push(f={model:d,axisModels:[],coordIndex:d.componentIndex});f.axisModels.push(c)}},this);return b}});bq.extend({type:"dataZoom.select"});cq.extend({type:"dataZoom.select"});Bb({getTargetSeries:function(a){var b=aa();a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(d,e,f){d=f.getAxisProxy(d.name,e);y(d.getTargetSeriesModels(),function(g){b.set(g.uid,g)})})});return b},modifyOutputEnd:!0,overallReset:function(a,
b){a.eachComponent("dataZoom",function(c){c.eachTargetAxis(function(d,e,f){f.getAxisProxy(d.name,e).reset(f,b)});c.eachTargetAxis(function(d,e,f){f.getAxisProxy(d.name,e).filterData(f,b)})});a.eachComponent("dataZoom",function(c){var d=c.findRepresentativeAxisProxy(),e=d.getDataPercentWindow();d=d.getDataValueWindow();c.setCalculatedRange({start:e[0],end:e[1],startValue:d[0],endValue:d[1]})})}});la("dataZoom",function(a,b){var c=rF(L(b.eachComponent,b,"dataZoom"),be,function(e,f){return e.get(f.axisIndex)}),
d=[];b.eachComponent({mainType:"dataZoom",query:a},function(e,f){d.push.apply(d,c(e).nodes)});y(d,function(e,f){e.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});Eo.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:T({zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};
var eg=Eo.prototype;eg.render=function(a,b,c,d){this.model=a;this.ecModel=b;this.api=c;vF(a,b,this,d,c);a.setIconStatus("back",Do(b).length>1?"emphasis":"normal")};eg.onclick=function(a,b,c){aI[c].call(this)};eg.remove=function(a,b){this._brushController.unmount()};eg.dispose=function(a,b){this._brushController.dispose()};var aI={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(qF(this.ecModel))}};
eg._onBrush=function(a,b){function c(g,h,k){h=h.getAxis(g);var l=h.model;g=d(g,l,f);l=g.findRepresentativeAxisProxy(l).getMinMaxSpan();if(l.minValueSpan!=null||l.maxValueSpan!=null)k=Je(0,k.slice(),h.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan);g&&(e[g.id]={dataZoomId:g.id,startValue:k[0],endValue:k[1]})}function d(g,h,k){var l;k.eachComponent({mainType:"dataZoom",subType:"select"},function(m){m.getAxisModel(g,h.componentIndex)&&(l=m)});return l}if(b.isEnd&&a.length){var e={},f=this.ecModel;
this._brushController.updateCovers([]);(new Qj(mx(this.model.option),f,{include:["grid"]})).matchOutputRanges(a,f,function(g,h,k){k.type==="cartesian2d"&&(g=g.brushType,g==="rect"?(c("x",k,h[0]),c("y",k,h[1])):c({lineX:"x",lineY:"y"}[g],k,h))});pF(f,e);this._dispatchZoomAction(e)}};eg._dispatchZoomAction=function(a){var b=[];y(a,function(c,d){b.push(T(c))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};ae.dataZoom=Eo;ab(function(a){function b(f,g){if(g){var h=f+"Index",
k=g[h];k==null||k==="all"||F(k)||(k=k===!1||k==="none"?[]:[k]);c(f,function(l,m){if(k==null||k==="all"||ma(k,m)!==-1)l={type:"select",$fromToolbox:!0,filterMode:g.filterMode||"filter",id:"\x00_ec_\x00toolbox-dataZoom_"+f+m},l[h]=m,d.push(l)})}}function c(f,g){f=a[f];F(f)||(f=f?[f]:[]);y(f,g)}if(a){var d=a.dataZoom||(a.dataZoom=[]);F(d)||(a.dataZoom=d=[d]);var e=a.toolbox;e&&(F(e)&&(e=e[0]),e&&e.feature&&(e=e.feature.dataZoom,b("xAxis",e),b("yAxis",e)))}});Fo.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",
title:"\u8fd8\u539f"};Fo.prototype.onclick=function(a,b,c){a["\x00_ec_hist_store"]=null;b.dispatchAction({type:"restore",from:this.uid})};ae.restore=Fo;la({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});Cb({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,
enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var nx=y,AF=Es,xF=["","-webkit-","-moz-","-o-"];Ho.prototype={constructor:Ho,_enterable:!0,update:function(a){var b=this._container,c=b.currentStyle||document.defaultView.getComputedStyle(b);
b=b.style;b.position!=="absolute"&&c.position!=="absolute"&&(b.position="relative");a.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var a=this._styleCoord[3],b=this._styleCoord[2]*this._zr.getWidth();a*=this._zr.getHeight();this.moveTo(b,a)},show:function(a){clearTimeout(this._hideTimeout);var b=this.el,c=this._styleCoord;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+zF(a)+";left:"+c[0]+"px;top:"+
c[1]+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";b.style.pointerEvents=this._enterable?"auto":"none";this._show=!0},setContent:function(a){this.el.innerHTML=a==null?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c=this._styleCoord;ox(c,this._zr,this._appendToBody,a,b);a=this.el.style;a.left=c[0]+"px";a.top=c[1]+"px"},hide:function(){this.el.style.display="none";this._show=
!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),a)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var a=this.el.clientWidth,b=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var c=document.defaultView.getComputedStyle(this.el);c&&(a+=parseInt(c.borderLeftWidth,10)+parseInt(c.borderRightWidth,
10),b+=parseInt(c.borderTopWidth,10)+parseInt(c.borderBottomWidth,10))}return{width:a,height:b}}};Io.prototype={constructor:Io,_enterable:!0,update:function(a){a.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var a=this._styleCoord[3],b=this._styleCoord[2]*this._zr.getWidth();a*=this._zr.getHeight();this.moveTo(b,a)},show:function(a){this._hideTimeout&&clearTimeout(this._hideTimeout);this.el.attr("show",!0);this._show=!0},setContent:function(a,b,c){this.el&&
this._zr.remove(this.el);for(var d={},e=a,f=e.indexOf("{marker");f>=0;){var g=e.indexOf("|}");f=e.substr(f+7,g-f-7);f.indexOf("sub")>-1?d["marker"+f]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:b[f],textOffset:[3,0]}:d["marker"+f]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:b[f]};e=e.substr(g+1);f=e.indexOf("{marker")}b=c.getModel("textStyle");e=b.get("fontSize");g=c.get("textLineHeight");g==null&&(g=Math.round(e*3/2));this.el=new fa({style:Ca({},b,{rich:d,
text:a,textBackgroundColor:c.get("backgroundColor"),textBorderRadius:c.get("borderRadius"),textFill:c.get("textStyle.color"),textPadding:c.get("padding"),textLineHeight:g}),z:c.get("z")});this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0);h._inContent=!0});this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay);h._inContent=!1})},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el.getBoundingRect();
return[a.width,a.height]},moveTo:function(a,b){if(this.el){var c=this._styleCoord;px(c,this._zr,a,b);this.el.attr("position",[c[0],c[1]])}},hide:function(){this.el&&this.el.hide();this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(L(this.hide,this),a)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout);this.el&&this._zr.remove(this.el)},getOuterSize:function(){var a=
this.getSize();return{width:a[0],height:a[1]}}};var Jk=new oa({shape:{x:-1,y:-1,width:2,height:2}});Ta({type:"tooltip",init:function(a,b){if(!da.node){a=a.getComponent("tooltip");var c=a.get("renderMode");this._renderMode=wr(c);this._renderMode==="html"?(b=new Ho(b.getDom(),b,{appendToBody:a.get("appendToBody",!0)}),this._newLine="\x3cbr/\x3e"):(b=new Io(b),this._newLine="\n");this._tooltipContent=b}},render:function(a,b,c){da.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=
c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(a),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");zw("itemTooltip",this._api,L(function(b,c,d){a!=="none"&&(a.indexOf(b)>=0?this._tryShow(c,d):b==="leave"&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(this._lastX!=null&&this._lastY!=
null&&a.get("triggerOn")!=="none"){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){!c.isDisposed()&&d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!da.node){var e=d.dispatchAction||L(c.dispatchAction,c);this._ticket="";var f=d.dataByCoordSys;d.tooltip&&d.x!=null&&d.y!=null?(Jk.position=[d.x,d.y],Jk.update(),Jk.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:Jk},e)):f?
this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e):d.seriesIndex!=null?this._manuallyAxisShowTip(a,b,c,d)||(a=kz(d,b),b=a.point[0],c=a.point[1],b!=null&&c!=null&&this._tryShow({offsetX:b,offsetY:c,position:d.position,target:a.el},e)):d.x!=null&&d.y!=null&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target},e))}},manuallyHideTip:function(a,
b,c,d){a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||L(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(e!=null&&f!=null&&g!=null&&(b=b.getSeriesByIndex(e))&&(g=b.getData(),a=Jo([g.getItemModel(f),b,(b.coordinateSystem||{}).model,a]),a.get("trigger")==="axis"))return c.dispatchAction({type:"updateAxisPointer",
seriesIndex:e,dataIndex:f,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&c.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){a=a.get("showDelay");b=L(b,this);clearTimeout(this._showTimout);
a>0?this._showTimout=setTimeout(b,a):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],f=[],g=Jo([b.tooltipOption,this._tooltipModel]),h=this._renderMode,k=this._newLine,l={};y(a,function(n){y(n.dataByAxis,function(p){var q=c.getComponent(p.axisDim+"Axis",p.axisIndex),t=p.value,r=[];if(q&&t!=null){var u=Gw(t,q.axis,c,p.seriesDataIndices,p.valueLabelOpt);y(p.seriesDataIndices,function(v){var x=c.getSeriesByIndex(v.seriesIndex);v=v.dataIndexInside;var w=x&&x.getDataParams(v);
w.axisDim=p.axisDim;w.axisIndex=p.axisIndex;w.axisType=p.axisType;w.axisId=p.axisId;w.axisValue=en(q.axis,t);w.axisValueLabel=u;w&&(f.push(w),x=x.formatTooltip(v,!0,null,h),X(x)?(v=x.html,Y(l,x.markers)):v=x,r.push(v))});h!=="html"?e.push(r.join(k)):e.push((u?ya(u)+k:"")+r.join(k))}})},this);e.reverse();e=e.join(this._newLine+this._newLine);var m=b.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(g,m,d[0],d[1],this._tooltipContent,f):this._showTooltipContent(g,
e,f,Math.random(),d[0],d[1],m,void 0,l)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),f=b.dataModel||e,g=b.dataIndex,h=b.dataType;b=f.getData(h);var k=Jo([b.getItemModel(g),f,e&&(e.coordinateSystem||{}).model,this._tooltipModel]);e=k.get("trigger");if(e==null||e==="item"){var l=f.getDataParams(g,h);e=f.formatTooltip(g,!1,h,this._renderMode);if(X(e))var m=e.html,n=e.markers;else m=e,n=null;var p="item_"+f.name+"_"+g;this._showOrMove(k,function(){this._showTooltipContent(k,
m,l,p,a.offsetX,a.offsetY,a.position,a.target,n)});c({type:"showTip",dataIndexInside:g,dataIndex:b.getRawIndex(g),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;typeof d==="string"&&(d={content:d,formatter:d});var e=new ka(d,this._tooltipModel,this._ecModel),f=e.get("content"),g=Math.random();this._showOrMove(e,function(){this._showTooltipContent(e,f,e.get("formatterParams")||{},g,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,
b,c,d,e,f,g,h,k){this._ticket="";if(a.get("showContent")&&a.get("show")){var l=this._tooltipContent,m=a.get("formatter");g=g||a.get("position");m&&typeof m==="string"?b=Bm(m,c,!0):typeof m==="function"&&(b=L(function(n,p){n===this._ticket&&(l.setContent(p,k,a),this._updatePosition(a,g,e,f,l,c,h))},this),this._ticket=d,b=m(c,d,b));l.setContent(b,k,a);l.show(a);this._updatePosition(a,g,e,f,l,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),k=this._api.getHeight();b=b||a.get("position");
var l=e.getSize(),m=a.get("align"),n=a.get("verticalAlign"),p=g&&g.getBoundingRect().clone();g&&p.applyTransform(g.transform);typeof b==="function"&&(b=b([c,d],f,e.el,p,{viewSize:[h,k],contentSize:l.slice()}));if(F(b))c=G(b[0],h),d=G(b[1],k);else if(X(b))b.width=l[0],b.height=l[1],m=Ja(b,{width:h,height:k}),c=m.x,d=m.y,n=m=null;else{if(typeof b==="string"&&g){c=l[0];d=l[1];g=f=0;var q=p.width,t=p.height;switch(b){case "inside":f=p.x+q/2-c/2;g=p.y+t/2-d/2;break;case "top":f=p.x+q/2-c/2;g=p.y-d-5;break;
case "bottom":f=p.x+q/2-c/2;g=p.y+t+5;break;case "left":f=p.x-c-5;g=p.y+t/2-d/2;break;case "right":f=p.x+q+5,g=p.y+t/2-d/2}b=[f,g]}else b=c,p=d,c=m?null:20,d=n?null:20,g=e.getOuterSize(),f=g.width,g=g.height,c!=null&&(b=b+f+c>h?b-(f+c):b+c),d!=null&&(p=p+g+d>k?p-(g+d):p+d),b=[b,p];c=b[0];d=b[1]}m&&(c-=m==="center"||m==="middle"?l[0]/2:m==="right"?l[0]:0);n&&(d-=n==="center"||n==="middle"?l[1]/2:n==="bottom"?l[1]:0);a.get("confine")&&(a=c,l=d,n=e.getOuterSize(),m=n.width,n=n.height,a=Math.min(a+m,
h)-m,l=Math.min(l+n,k)-n,a=Math.max(a,0),l=Math.max(l,0),b=[a,l],c=b[0],d=b[1]);e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;c&&y(b,function(d,e){d=d.dataByAxis||{};var f=(a[e]||{}).dataByAxis||[];(c&=d.length===f.length)&&y(d,function(g,h){h=f[h]||{};var k=g.seriesDataIndices||[],l=h.seriesDataIndices||[];(c&=g.value===h.value&&g.axisType===h.axisType&&g.axisId===h.axisId&&k.length===l.length)&&y(k,function(m,n){n=l[n];c&=m.seriesIndex===
n.seriesIndex&&m.dataIndex===n.dataIndex})})});this._lastDataByCoordSys=a;return!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){da.node||(this._tooltipContent.dispose(),ro("itemTooltip",b))}});la({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});la({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var bI=["rect","polygon","keep","clear"],rx=y,Lo={lineX:tx(0),lineY:tx(1),rect:{point:function(a,
b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&xe(c.range,a[0],a[1])},rect:function(a,b,c){b=c.range;if(!a||b.length<=1)return!1;c=a.x;var d=a.y,e=a.width,f=a.height,g=b[0];if(xe(b,c,d)||xe(b,c+e,d)||xe(b,c,d+f)||xe(b,c+e,d+f)||ea.create(a).contain(g[0],g[1])||Mg(c,d,c+e,d,b)||Mg(c,d,c,d+f,b)||Mg(c+e,d,c+e,d+f,b)||Mg(c,d+f,c+e,d+f,b))return!0}}},tz=["inBrush",
"outOfBrush"],uz=Hc.VISUAL.BRUSH;Da(uz,function(a,b,c){a.eachComponent({mainType:"brush"},function(d){c&&c.type==="takeGlobalCursor"&&d.setBrushOption(c.key==="brush"?c.brushOption:{brushType:!1})});ux(a)});za(uz,function(a,b,c){var d=[],e,f;a.eachComponent({mainType:"brush"},function(g,h){function k(z){return q==="all"||t[z]}function l(z,A){var B=z.coordinateSystem;v|=B.hasAxisBrushed();k(A)&&B.eachActiveState(z.getData(),function(C,D){C==="active"&&(r[D]=1)})}function m(z,A,B){var C=xx(z);if(C&&
!GF(g,A)&&(y(x,function(E){C[E.brushType]&&g.brushTargetManager.controlSeries(E,z,a)&&B.push(E);v|=!!B.length}),k(A)&&B.length)){var D=z.getData();D.each(function(E){vx(C,B,D,E)&&(r[E]=1)})}}var n={brushId:g.id,brushIndex:h,brushName:g.name,areas:T(g.areas),selected:[]};d.push(n);var p=g.option,q=p.brushLink,t=[],r=[],u=[],v=0;h||(e=p.throttleType,f=p.throttleDelay);var x=H(g.areas,function(z){return HF(Q({boundingRect:cI[z.brushType](z)},z))}),w=Ko(g.option,tz,function(z){z.mappingMethod="fixed"});
F(q)&&y(q,function(z){t[z]=1});a.eachSeries(function(z,A){var B=u[A]=[];z.subType==="parallel"?l(z,A,B):m(z,A,B)});a.eachSeries(function(z,A){var B={seriesId:z.id,seriesIndex:A,seriesName:z.name,dataIndex:[]};n.selected.push(B);var C=xx(z),D=u[A],E=z.getData();z=k(A)?function(P){return r[P]?(B.dataIndex.push(E.getRawIndex(P)),"inBrush"):"outOfBrush"}:function(P){return vx(C,D,E,P)?(B.dataIndex.push(E.getRawIndex(P)),"inBrush"):"outOfBrush"};(k(A)?v:D.length)&&CF(tz,w,E,z)})});EF(b,e,f,d,c)});var cI=
{lineX:Pa,lineY:Pa,rect:function(a){return yx(a.range)},polygon:function(a){a=a.range;for(var b=0,c=a.length;b<c;b++){var d=d||[[Infinity,-Infinity],[Infinity,-Infinity]],e=a[b];e[0]<d[0][0]&&(d[0][0]=e[0]);e[0]>d[0][1]&&(d[0][1]=e[0]);e[1]<d[1][0]&&(d[1][0]=e[1]);e[1]>d[1][1]&&(d[1][1]=e[1])}return d&&yx(d)}},dI=["#ddd"];Cb({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,
brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&sx(c,a,["inBrush","outOfBrush"]);a=c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:dI};a.hasOwnProperty("liftZ")||(a.liftZ=5)},setAreas:function(a){I&&(ja(F(a)),y(a,function(b){ja(b.brushType,
"Illegal areas")}));a&&(this.areas=H(a,function(b){return zx(this.option,b)},this))},setBrushOption:function(a){this.brushOption=zx(this.option,a);this.brushType=this.brushOption.brushType}});Ta({type:"brush",init:function(a,b){this.ecModel=a;this.api=b;(this._brushController=new Qf(b.getZr())).on("brush",L(this._onBrush,this)).mount()},render:function(a){this.model=a;return Mo.apply(this,arguments)},updateTransform:function(a,b){ux(b);return Mo.apply(this,arguments)},updateView:Mo,dispose:function(){this._brushController.dispose()},
_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);b.isEnd&&!b.removeOnClick||this.api.dispatchAction({type:"brush",brushId:c,areas:T(a),$from:c});b.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:c,areas:T(a),$from:c})}});la({type:"brush",event:"brush"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(c){c.setAreas(a.areas)})});la({type:"brushSelect",event:"brushSelected",update:"none"},function(){});la({type:"brushEnd",
event:"brushEnd",update:"none"},function(){});No.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",
lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",
clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:T({rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"})};var Kk=No.prototype;Kk.render=Kk.updateView=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},
function(g){d=g.brushType;e=g.brushOption.brushMode||"single";f|=g.areas.length});this._brushType=d;this._brushMode=e;y(a.get("type",!0),function(g){a.setIconStatus(g,(g==="keep"?e==="multiple":g==="clear"?f:g===d)?"emphasis":"normal")})};Kk.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};y(a.get("type",!0),function(d){b[d]&&(c[d]=b[d])});return c};Kk.onclick=function(a,b,c){a=this._brushType;var d=this._brushMode;c==="clear"?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",
command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:c==="keep"?a:a===c?!1:c,brushMode:c==="keep"?d==="multiple"?"single":"multiple":d}})};ae.brush=No;ab(function(a,b){var c=a&&a.brush;F(c)||(c=c?[c]:[]);if(c.length){var d=[];y(c,function(e){e=e.hasOwnProperty("toolbox")?e.toolbox:[];e instanceof Array&&(d=d.concat(e))});c=a&&a.toolbox;F(c)&&(c=c[0]);c||(c={feature:{}},a.toolbox=[c]);a=c.feature||(c.feature={});a=a.brush||(a.brush={});a=a.type||
(a.type=[]);a.push.apply(a,d);BF(a);b&&!a.length&&a.push.apply(a,bI)}});Cb({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});Ta({type:"title",render:function(a,b,c){this.group.removeAll();if(a.get("show")){b=this.group;var d=
a.getModel("textStyle"),e=a.getModel("subtextStyle"),f=a.get("textAlign"),g=Ia(a.get("textBaseline"),a.get("textVerticalAlign"));d=new fa({style:Ca({},d,{text:a.get("text"),textFill:d.getTextColor()},{disableBox:!0}),z2:10});var h=d.getBoundingRect(),k=a.get("subtext");e=new fa({style:Ca({},e,{text:k,textFill:e.getTextColor(),y:h.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10});var l=a.get("link"),m=a.get("sublink");h=a.get("triggerEvent",!0);d.silent=!l&&!h;e.silent=!m&&
!h;if(l)d.on("click",function(){Qg(l,"_"+a.get("target"))});if(m)e.on("click",function(){Qg(m,"_"+a.get("subtarget"))});d.eventData=e.eventData=h?{componentType:"title",componentIndex:a.componentIndex}:null;b.add(d);k&&b.add(e);k=b.getBoundingRect();h=a.getBoxLayoutParams();h.width=k.width;h.height=k.height;c=Ja(h,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));f||(f=a.get("left")||a.get("right"),f==="middle"&&(f="center"),f==="right"?c.x+=c.width:f==="center"&&(c.x+=c.width/2));g||(g=
a.get("top")||a.get("bottom"),g==="center"&&(g="middle"),g==="bottom"?c.y+=c.height:g==="middle"&&(c.y+=c.height/2),g=g||"top");b.attr("position",[c.x,c.y]);f={textAlign:f,textVerticalAlign:g};d.setStyle(f);e.setStyle(f);k=b.getBoundingRect();c=c.margin;f=a.getItemStyle(["color","opacity"]);f.fill=a.get("backgroundColor");c=new oa({shape:{x:k.x-c[3],y:k.y-c[0],width:k.width+c[1]+c[3],height:k.height+c[0]+c[2],r:a.get("borderRadius")},style:f,subPixelOptimize:!0,silent:!0});b.add(c)}}});na.registerSubTypeDefaulter("timeline",
function(){return"slider"});la({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");c&&a.currentIndex!=null&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1));b.resetOption("timeline");return Q({currentIndex:c.option.currentIndex},a)});la({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){(b=b.getComponent("timeline"))&&a.playState!=null&&b.setPlayState(a.playState)});
var vz=na.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);this._initData()},mergeOption:function(a){vz.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){a==
null&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),a<0&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,b=a.data||[];a=a.axisType;var c=this._names=[];if(a==="category"){var d=[];y(b,
function(e,f){var g=tg(e);X(e)?(e=T(e),e.value=f):e=f;d.push(e);va(g)||g!=null&&!isNaN(g)||(g="");c.push(g+"")});b=d}(this._data=new Ua([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(b,c)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),eI=vz.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,
tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",
playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",
nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",
color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});pa(eI,Ap);var fI=xc.extend({type:"timeline"}),Lk=function(a,b,c,d){Ma.call(this,a,b,c);this.type=d||"value";this.model=null};Lk.prototype={constructor:Lk,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}};ua(Lk,Ma);
var dq=Math.PI;fI.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(h){return ya(g.scale.getLabel(h))};y(["AxisLine","AxisTick","Control","CurrentPointer"],function(h){this["_render"+h](e,f,g,a)},this);this._renderAxisLabel(e,
b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.position"),d=a.get("orient"),e=Ja(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));c==null||c==="auto"?c=d==="horizontal"?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);
b={horizontal:"center",vertical:c>=0||c==="+"?"left":"right"};var f={horizontal:c>=0||c==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:dq/2},h=d==="vertical"?e.height:e.width,k=a.getModel("controlStyle"),l=k.get("show",!0),m=l?k.get("itemSize"):0,n=l?k.get("itemGap"):0,p=m+n,q=a.get("label.rotate")||0;q=q*dq/180;var t,r,u,v=k.get("position",!0),x=l&&k.get("showPlayBtn",!0),w=l&&k.get("showPrevBtn",!0);k=l&&k.get("showNextBtn",!0);l=0;var z=h;v==="left"||v==="bottom"?(x&&(t=[0,0],
l+=p),w&&(r=[l,0],l+=p)):(x&&(t=[z-m,0],z-=p),w&&(r=[0,0],l+=p));k&&(u=[z-m,0],z-=p);p=[l,z];a.get("inverse")&&p.reverse();return{viewRect:e,mainLength:h,orient:d,rotation:g[d],labelRotation:q,labelPosOpt:c,labelAlign:a.get("label.align")||b[d],labelBaseline:a.get("label.verticalAlign")||a.get("label.baseline")||f[d],playPosition:t,prevBtnPosition:r,nextBtnPosition:u,axisExtent:p,controlSize:m,controlGap:n}},_position:function(a,b){function c(p){var q=p.position;p.origin=[m[0][0]-q[0],m[1][0]-q[1]]}
function d(p){return[[p.x,p.x+p.width],[p.y,p.y+p.height]]}function e(p,q,t,r,u){p[r]+=t[r][u]-q[r][u]}b=this._mainGroup;var f=this._labelGroup,g=a.viewRect;if(a.orient==="vertical"){var h=mb(),k=g.x,l=g.y+g.height;Yb(h,h,[-k,-l]);Pc(h,h,-dq/2);Yb(h,h,[k,l]);g=g.clone();g.applyTransform(h)}var m=d(g);g=d(b.getBoundingRect());h=d(f.getBoundingRect());k=b.position;l=f.position;l[0]=k[0]=m[0][0];var n=a.labelPosOpt;isNaN(n)?(n=n==="+"?0:1,e(k,g,m,1,n),e(l,h,m,1,1-n)):(e(k,g,m,1,n>=0?0:1),l[1]=k[1]+n);
b.attr("position",k);f.attr("position",l);b.rotation=f.rotation=a.rotation;c(b);c(f)},_createAxis:function(a,b){var c=b.getData(),d=b.get("axisType"),e=Hf(b,d);e.getTicks=function(){return c.mapArray(["value"],function(g){return g})};var f=c.getDataExtent("value");e.setExtent(f[0],f[1]);e.niceTicks();a=new Lk("value",e,a.axisExtent,d);a.model=b;return a},_createGroup:function(a){a=this["_"+a]=new O;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&
b.add(new bb({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:U({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();y(a,function(f){var g=c.dataToCoord(f),h=e.getItemModel(f),k=h.getModel("itemStyle"),l=h.getModel("emphasis.itemStyle");g={position:[g,0],onclick:L(this._changeTimeline,this,f)};k=Bx(h,k,b,g);Aa(k,l.getItemStyle());h.get("tooltip")?(k.dataIndex=f,k.dataModel=d):k.dataIndex=k.dataModel=null},this)},
_renderAxisLabel:function(a,b,c,d){if(c.getLabelModel().get("show")){var e=d.getData();d=c.getViewLabels();y(d,function(f){var g=f.tickValue,h=e.getItemModel(g),k=h.getModel("label");h=h.getModel("emphasis.label");var l=c.dataToCoord(f.tickValue);g=new fa({position:[l,0],rotation:a.labelRotation-a.rotation,onclick:L(this._changeTimeline,this,g),silent:!1});Ca(g.style,k,{text:f.formattedLabel,textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline});b.add(g);Aa(g,Ca({},h))},this)}},_renderControl:function(a,
b,c,d){function e(n,p,q,t){if(n){var r=l;q={position:n,origin:[f/2,0],rotation:t?-g:0,rectHover:!0,style:h,onclick:q};n=q.style;p=yf(d.get(p),q||{},new ea(r[0],r[1],r[2],r[3]));n&&p.setStyle(n);b.add(p);Aa(p,k)}}var f=a.controlSize,g=a.rotation,h=d.getModel("controlStyle").getItemStyle(),k=d.getModel("emphasis.controlStyle").getItemStyle(),l=[0,-f/2,f,f];c=d.getPlayState();var m=d.get("inverse",!0);e(a.nextBtnPosition,"controlStyle.nextIcon",L(this._changeTimeline,this,m?"-":"+"));e(a.prevBtnPosition,
"controlStyle.prevIcon",L(this._changeTimeline,this,m?"+":"-"));e(a.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),L(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=Bx(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(g){g.draggable=!0;g.drift=L(f._handlePointerDrag,f);g.ondragend=L(f._handlePointerDragend,f);Cx(g,e,c,d,!0)},onUpdate:function(g){Cx(g,
e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){a=this._toAxisCoord(a)[0];var c=wc(this._axis.getExtent().slice());a>c[1]&&(a=c[1]);a<c[0]&&(a=c[0]);this._currentPointer.position[0]=
a;this._currentPointer.dirty();a=this._findNearestTick(a);c=this.model;(b||a!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(a)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(L(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return vc(a,b,!0)},_findNearestTick:function(a){var b=
this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(f,g){f=e.dataToCoord(f);f=Math.abs(f-a);f<c&&(c=f,d=g)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();a==="+"?a=b+1:a==="-"&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}});ab(function(a){a=a&&a.timeline;F(a)||(a=a?[a]:[]);y(a,function(b){b&&IF(b)})});var Mk=Cb({type:"marker",
dependencies:["series","grid","polar","geo"],init:function(a,b,c){if(I&&this.type==="marker")throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c);this._mergeOption(a,c,!1,!0)},isAnimationEnabled:function(){if(da.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b){this._mergeOption(a,b,!1,!1)},_mergeOption:function(a,b,c,d){var e=this.constructor,f=
this.mainType+"Model";c||b.eachSeries(function(g){var h=g.get(this.mainType,!0),k=g[f];h&&h.data?(k?k._mergeOption(h,b,!0):(d&&Sj(h),y(h.data,function(l){l instanceof Array?(Sj(l[0]),Sj(l[1])):Sj(l)}),k=new e(h,this,b),U(k,{mainType:this.mainType,seriesIndex:g.seriesIndex,name:g.name,createdBySelf:!0}),k.__hostSeries=g),g[f]=k):g[f]=null},this)},formatTooltip:function(a,b,c,d){var e=this.getData();b=this.getRawValue(a);c=F(b)?H(b,Yc).join(", "):Yc(b);a=e.getName(a);e=ya(this.name);d=d==="html"?"\x3cbr/\x3e":
"\n";if(b!=null||a)e+=d;a&&(e+=ya(a),b!=null&&(e+=" : "));b!=null&&(e+=ya(c));return e},getData:function(){return this._data},setData:function(a){this._data=a}});pa(Mk,Ap);Mk.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Ex=ma,Qo={min:R(Oo,"min"),max:R(Oo,"max"),average:R(Oo,"average")},eq=Ta({type:"marker",init:function(){this.markerGroupMap=aa()},
render:function(a,b,c){a=this.markerGroupMap;a.each(function(e){e.__keep=!1});var d=this.type+"Model";b.eachSeries(function(e){var f=e[d];f&&this.renderSeries(e,f,b,c)},this);a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});eq.extend({type:"markPoint",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markPointModel;e&&(Gx(e.getData(),d,c),this.markerGroupMap.get(d.id).updateLayout(e))},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;
var e=a.id,f=a.getData(),g=this.markerGroupMap;e=g.get(e)||g.set(e,new If);var h=JF(c,a,b);b.setData(h);Gx(b.getData(),a,d);h.each(function(k){var l=h.getItemModel(k),m=l.getShallow("symbol"),n=l.getShallow("symbolSize"),p=l.getShallow("symbolRotate"),q=Oa(m),t=Oa(n),r=Oa(p);if(q||t||r){var u=b.getRawValue(k),v=b.getDataParams(k);q&&(m=m(u,v));t&&(n=n(u,v));r&&(p=p(u,v))}h.setItemVisual(k,{symbol:m,symbolSize:n,symbolRotate:p,color:l.get("itemStyle.color")||f.getVisual("color")})});e.updateData(h);
this.group.add(e.group);h.eachItemGraphicEl(function(k){k.traverse(function(l){l.dataModel=b})});e.__keep=!0;e.group.silent=b.get("silent")||a.get("silent")}});ab(function(a){a.markPoint=a.markPoint||{}});Mk.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var MF=function(a,
b,c,d){var e=a.getData(),f=d.type;if(!F(d)&&(f==="min"||f==="max"||f==="average"||f==="median"||d.xAxis!=null||d.yAxis!=null)){if(d.yAxis!=null||d.xAxis!=null)b=b.getAxis(d.yAxis!=null?"y":"x"),e=xa(d.yAxis,d.xAxis);else{var g=Dx(d,e,b,a);b=g.valueAxis;g=ah(e,g.valueDataDim);e=Po(e,g,f)}b=b.dim==="x"?0:1;var h=1-b;g=T(d);var k={};g.type=null;g.coord=[];k.coord=[];g.coord[h]=-Infinity;k.coord[h]=Infinity;c=c.get("precision");c>=0&&typeof e==="number"&&(e=+e.toFixed(Math.min(c,20)));g.coord[b]=k.coord[b]=
e;d=[g,k,{type:f,valueIndex:d.valueIndex,value:e}]}d=[Ch(a,d[0]),Ch(a,d[1]),U({},d[2])];d[2].type=d[2].type||"";Y(d[2],d[0]);Y(d[2],d[1]);return d};eq.extend({type:"markLine",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markLineModel;if(e){var f=e.getData(),g=e.__from,h=e.__to;g.each(function(k){Ro(g,k,!0,d,c);Ro(h,k,!1,d,c)});f.each(function(k){f.setItemLayout(k,[g.getItemLayout(k),h.getItemLayout(k)])});this.markerGroupMap.get(d.id).updateLayout()}},this)},renderSeries:function(a,
b,c,d){function e(q,t,r){var u=q.getItemModel(t);Ro(q,t,r,a,d);q.setItemVisual(t,{symbolRotate:u.get("symbolRotate"),symbolSize:u.get("symbolSize")||p[r?0:1],symbol:u.get("symbol",!0)||n[r?0:1],color:u.get("itemStyle.color")||g.getVisual("color")})}c=a.coordinateSystem;var f=a.id,g=a.getData(),h=this.markerGroupMap;f=h.get(f)||h.set(f,new yj);this.group.add(f.group);c=LF(c,a,b);var k=c.from,l=c.to,m=c.line;b.__from=k;b.__to=l;b.setData(m);var n=b.get("symbol"),p=b.get("symbolSize");F(n)||(n=[n,n]);
typeof p==="number"&&(p=[p,p]);c.from.each(function(q){e(k,q,!0);e(l,q,!1)});m.each(function(q){var t=m.getItemModel(q).get("lineStyle.color");m.setItemVisual(q,{color:t||k.getItemVisual(q,"color")});m.setItemLayout(q,[k.getItemLayout(q),l.getItemLayout(q)]);m.setItemVisual(q,{fromSymbolRotate:k.getItemVisual(q,"symbolRotate"),fromSymbolSize:k.getItemVisual(q,"symbolSize"),fromSymbol:k.getItemVisual(q,"symbol"),toSymbolRotate:l.getItemVisual(q,"symbolRotate"),toSymbolSize:l.getItemVisual(q,"symbolSize"),
toSymbol:l.getItemVisual(q,"symbol")})});f.updateData(m);c.line.eachItemGraphicEl(function(q,t){q.traverse(function(r){r.dataModel=b})});f.__keep=!0;f.group.silent=b.get("silent")||a.get("silent")}});ab(function(a){a.markLine=a.markLine||{}});Mk.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var PF=function(a,b,c,d){b=Ch(a,d[0]);a=Ch(a,d[1]);d=b.coord;c=
a.coord;d[0]=xa(d[0],-Infinity);d[1]=xa(d[1],-Infinity);c[0]=xa(c[0],Infinity);c[1]=xa(c[1],Infinity);d=hg([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},fq=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];eq.extend({type:"markArea",updateTransform:function(a,b,c){b.eachSeries(function(d){var e=d.markAreaModel;if(e){var f=e.getData();f.each(function(g){var h=H(fq,function(k){return Ix(f,g,k,d,c)});f.setItemLayout(g,h);f.getItemGraphicEl(g).setShape("points",h)})}},
this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem;c=a.id;var f=a.getData(),g=this.markerGroupMap,h=g.get(c)||g.set(c,{group:new O});this.group.add(h.group);h.__keep=!0;var k=OF(e,a,b);b.setData(k);k.each(function(l){var m=H(fq,function(p){return Ix(k,l,p,a,d)}),n=!0;y(fq,function(p){if(n){var q=k.get(p[0],l);p=k.get(p[1],l);(Qd(q)||e.getAxis("x").containData(q))&&(Qd(p)||e.getAxis("y").containData(p))&&(n=!1)}});k.setItemLayout(l,{points:m,allClipped:n});k.setItemVisual(l,{color:f.getVisual("color")})});
k.diff(h.__data).add(function(l){var m=k.getItemLayout(l);m.allClipped||(m=new sb({shape:{points:m.points}}),k.setItemGraphicEl(l,m),h.group.add(m))}).update(function(l,m){m=h.__data.getItemGraphicEl(m);var n=k.getItemLayout(l);n.allClipped?m&&h.group.remove(m):(m?ba(m,{shape:{points:n.points}},b,l):m=new sb({shape:{points:n.points}}),k.setItemGraphicEl(l,m),h.group.add(m))}).remove(function(l){l=h.__data.getItemGraphicEl(l);h.group.remove(l)}).execute();k.eachItemGraphicEl(function(l,m){var n=k.getItemModel(m),
p=n.getModel("label"),q=n.getModel("emphasis.label"),t=k.getItemVisual(m,"color");l.useStyle(Q(n.getModel("itemStyle").getItemStyle(),{fill:fi(t,.4),stroke:t}));l.hoverStyle=n.getModel("emphasis.itemStyle").getItemStyle();yb(l.style,l.hoverStyle,p,q,{labelFetcher:b,labelDataIndex:m,defaultText:k.getName(m)||"",isRectText:!0,autoColor:t});Aa(l,{});l.dataModel=b});h.__data=k;h.group.silent=b.get("silent")||a.get("silent")}});ab(function(a){a.markArea=a.markArea||{}});var gI={all:{type:"all",title:T("\u5168\u9009")},
inverse:{type:"inverse",title:T("\u53cd\u9009")}},wz=Cb({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);a.selected=a.selected||{};this._updateSelector(a)},mergeOption:function(a){wz.superCall(this,"mergeOption",a);this._updateSelector(a)},_updateSelector:function(a){var b=a.selector;b===!0&&(b=a.selector=["all","inverse"]);F(b)&&y(b,function(c,d){va(c)&&(c={type:c});b[d]=Y(c,gI[c.type])})},optionUpdated:function(){this._updateData(this.ecModel);
var a=this._data;if(a[0]&&this.get("selectedMode")==="single"){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d);b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var b=[],c=[];a.eachRawSeries(function(e){c.push(e.name);var f;if(e.legendVisualProvider){var g=e.legendVisualProvider.getAllNames();a.isSeriesFiltered(e)||(c=c.concat(g));g.length?b=b.concat(g):f=!0}else f=!0;f&&Sl(e)&&b.push(e.name)});this._availableNames=c;var d=this.get("data")||
b;this._data=H(d,function(e){if(typeof e==="string"||typeof e==="number")e={name:e};return new ka(e,this,this.ecModel)},this)},getData:function(){return this._data},select:function(a){var b=this.option.selected;this.get("selectedMode")==="single"&&y(this._data,function(c){b[c.get("name")]=!1});b[a]=!0},unSelect:function(a){this.get("selectedMode")!=="single"&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0);this[b[a]?"unSelect":"select"](a)},
allSelect:function(){var a=this.option.selected;y(this._data,function(b){a[b.get("name",!0)]=!0})},inverseSelect:function(){var a=this.option.selected;y(this._data,function(b){b=b.get("name",!0);a.hasOwnProperty(b)||(a[b]=!0);a[b]=!a[b]})},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&ma(this._availableNames,a)>=0},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,
show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",
backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});la("legendToggleSelect","legendselectchanged",R(Eh,"toggleSelected"));la("legendAllSelect","legendselectall",R(Eh,"allSelect"));la("legendInverseSelect","legendinverseselect",R(Eh,"inverseSelect"));la("legendSelect","legendselected",R(Eh,"select"));la("legendUnSelect","legendunselected",R(Eh,"unSelect"));var Nk=O,hI=Ta({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=
new Nk);this.group.add(this._selectorGroup=new Nk);this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(a,b,c){var d=this._isFirstRender;this._isFirstRender=!1;this.resetInner();if(a.get("show",!0)){var e=a.get("align"),f=a.get("orient");e&&e!=="auto"||(e=a.get("left")==="right"&&f==="vertical"?"right":"left");var g=a.get("selector",!0),h=a.get("selectorPosition",!0);!g||h&&h!=="auto"||(h=f==="horizontal"?
"end":"start");this.renderInner(e,a,b,c,g,f,h);b=a.getBoxLayoutParams();c={width:c.getWidth(),height:c.getHeight()};f=a.get("padding");var k=Ja(b,c,f);d=this.layoutInner(a,e,k,d,g,h);e=Ja(Q({width:d.width,height:d.height},b),c,f);this.group.attr("position",[e.x-d.x,e.y-d.y]);this.group.add(this._backgroundEl=dx(d,a))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl);this.getSelectorGroup().removeAll()},renderInner:function(a,b,c,d,
e,f,g){var h=this.getContentGroup(),k=aa(),l=b.get("selectedMode"),m=[];c.eachRawSeries(function(n){!n.get("legendHoverLink")&&m.push(n.id)});y(b.getData(),function(n,p){var q=n.get("name");if(this.newlineDisabled||q!==""&&q!=="\n"){var t=c.getSeriesByName(q)[0];if(!k.get(q)){if(t){var r=t.getData(),u=r.getVisual("color"),v=r.getVisual("borderColor");typeof u==="function"&&(u=u(t.getDataParams(0)));typeof v==="function"&&(v=v(t.getDataParams(0)));var x=r.getVisual("legendSymbol")||"roundRect";r=r.getVisual("symbol");
this._createItem(q,p,n,b,x,r,a,u,v,l).on("click",R(Kx,q,null,d,m)).on("mouseover",R(To,t.name,null,d,m)).on("mouseout",R(So,t.name,null,d,m));k.set(q,!0)}else c.eachRawSeries(function(w){if(!k.get(q)&&w.legendVisualProvider){var z=w.legendVisualProvider;if(z.containName(q)){var A=z.indexOfName(q);w=z.getItemVisual(A,"color");z=z.getItemVisual(A,"borderColor");this._createItem(q,p,n,b,"roundRect",null,a,w,z,l).on("click",R(Kx,null,q,d,m)).on("mouseover",R(To,null,q,d,m)).on("mouseout",R(So,null,q,
d,m));k.set(q,!0)}}},this);I&&(k.get(q)||console.warn(q+" series not exists. Legend data should be same with series name or data name."))}}else h.add(new Nk({newline:!0}))},this);e&&this._createSelector(e,b,d,f,g)},_createSelector:function(a,b,c,d,e){function f(h){var k=h.type,l=new fa({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){c.dispatchAction({type:k==="all"?"legendAllSelect":"legendInverseSelect"})}});g.add(l);var m=b.getModel("selectorLabel"),n=b.getModel("emphasis.selectorLabel");
yb(l.style,l.hoverStyle={},m,n,{defaultText:h.title,isRectText:!1});Aa(l)}var g=this.getSelectorGroup();y(a,function(h){f(h)})},_createItem:function(a,b,c,d,e,f,g,h,k,l){var m=d.get("itemWidth"),n=d.get("itemHeight"),p=d.get("inactiveColor"),q=d.get("inactiveBorderColor"),t=d.get("symbolKeepAspect"),r=d.getModel("itemStyle"),u=d.isSelected(a),v=new Nk,x=c.getModel("textStyle"),w=c.get("icon");c=c.getModel("tooltip");var z=c.parentModel;e=w||e;var A=Db(e,0,0,m,n,u?h:p,t==null?!0:t);v.add(Jx(A,e,r,
k,q,u));w||!f||f===e&&f!=="none"||(e=n*.8,f==="none"&&(f="circle"),h=Db(f,(m-e)/2,(n-e)/2,e,e,u?h:p,t==null?!0:t),v.add(Jx(h,f,r,k,q,u)));f=g==="left"?m+5:-5;k=d.get("formatter");m=a;typeof k==="string"&&k?m=k.replace("{name}",a!=null?a:""):typeof k==="function"&&(m=k(a));v.add(new fa({style:Ca({},x,{text:m,x:f,y:n/2,textFill:u?x.getTextColor():p,textAlign:g,textVerticalAlign:"middle"})}));d=new oa({shape:v.getBoundingRect(),invisible:!0,tooltip:c.get("show")?U({content:a,formatter:z.get("formatter",
!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});v.add(d);v.eachChild(function(B){B.silent=!0});d.silent=!l;this.getContentGroup().add(v);Aa(v);v.__legendDataIndex=b;return v},layoutInner:function(a,b,c,d,e,f){b=this.getContentGroup();d=this.getSelectorGroup();Ge(a.get("orient"),b,a.get("itemGap"),c.width,c.height);c=b.getBoundingRect();var g=[-c.x,-c.y];if(e){Ge("horizontal",d,a.get("selectorItemGap",!0));e=d.getBoundingRect();
var h=[-e.x,-e.y],k=a.get("selectorButtonGap",!0);a=a.getOrient().index;var l=a===0?"width":"height",m=a===0?"height":"width",n=a===0?"y":"x";f==="end"?h[a]+=c[l]+k:g[a]+=e[l]+k;h[1-a]+=c[m]/2-e[m]/2;d.attr("position",h);b.attr("position",g);f={x:0,y:0};f[l]=c[l]+k+e[l];f[m]=Math.max(c[m],e[m]);f[n]=Math.min(0,e[n]+h[1-a]);return f}b.attr("position",g);return this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll();this._isFirstRender=!0}});Bb(Hc.PROCESSOR.SERIES_FILTER,
function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(c){for(var d=0;d<b.length;d++)if(!b[d].isSelected(c.name))return!1;return!0})});na.registerSubTypeDefaulter("legend",function(){return"plain"});var xz=wz.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z",
"M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=ue({},a);xz.superCall(this,"init",a,b,c,d);Lx(this,a,e)},mergeOption:function(a,b){xz.superCall(this,"mergeOption",a,b);Lx(this,this.option,a)}}),yz=O,gq=["width","height"],hq=["x","y"],iq=hI.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){iq.superCall(this,
"init");this._currentIndex=0;this.group.add(this._containerGroup=new yz);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new yz)},resetInner:function(){iq.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d,e,f,g){function h(n,p){var q=n+"DataIndex";p=yf(b.get("pageIcons",!0)[b.getOrient().name][p],{onclick:L(k._pageGo,k,q,b,d)},{x:-m[0]/2,y:-m[1]/
2,width:m[0],height:m[1]});p.name=n;l.add(p)}var k=this;iq.superCall(this,"renderInner",a,b,c,d,e,f,g);var l=this._controllerGroup,m=b.get("pageIconSize",!0);F(m)||(m=[m,m]);h("pagePrev",0);a=b.getModel("pageTextStyle");l.add(new fa({name:"pageText",style:{textFill:a.getTextColor(),font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));h("pageNext",1)},layoutInner:function(a,b,c,d,e,f){b=this.getSelectorGroup();var g=a.getOrient().index,h=gq[g],k=hq[g],l=gq[1-g],m=hq[1-g];e&&
Ge("horizontal",b,a.get("selectorItemGap",!0));var n=a.get("selectorButtonGap",!0),p=b.getBoundingRect(),q=[-p.x,-p.y],t=T(c);e&&(t[h]=c[h]-p[h]-n);a=this._layoutContentAndController(a,d,t,g,h,l,m);e&&(f==="end"?q[g]+=a[h]+n:(e=p[h]+n,q[g]-=e,a[k]-=e),a[h]+=p[h]+n,q[1-g]+=a[m]+a[l]/2-p[l]/2,a[l]=Math.max(a[l],p[l]),a[m]=Math.min(a[m],p[m]+q[1-g]),b.attr("position",q));return a},_layoutContentAndController:function(a,b,c,d,e,f,g){var h=this.getContentGroup(),k=this._containerGroup,l=this._controllerGroup;
Ge(a.get("orient"),h,a.get("itemGap"),d?c.width:null,d?null:c.height);Ge("horizontal",l,a.get("pageButtonItemGap",!0));var m=h.getBoundingRect(),n=l.getBoundingRect(),p=this._showController=m[e]>c[e],q=[-m.x,-m.y];b||(q[d]=h.position[d]);var t=[0,0],r=[-n.x,-n.y];b=Ia(a.get("pageButtonGap",!0),a.get("itemGap",!0));p&&(a.get("pageButtonPosition",!0)==="end"?r[d]+=c[e]-n[e]:t[d]+=n[e]+b);r[1-d]+=m[f]/2-n[f]/2;h.attr("position",q);k.attr("position",t);l.attr("position",r);q={x:0,y:0};q[e]=p?c[e]:m[e];
q[f]=Math.max(m[f],n[f]);q[g]=Math.min(0,n[g]+r[1-d]);k.__rectSize=c[e];p?(d={x:0,y:0},d[e]=Math.max(c[e]-n[e]-b,0),d[f]=q[f],k.setClipPath(new oa({shape:d})),k.__rectSize=d[e]):l.eachChild(function(u){u.attr({invisible:!0,silent:!0})});c=this._getPageInfo(a);c.pageIndex!=null&&ba(h,{position:c.contentPosition},p?a:!1);this._updatePageInfoView(a,c);return q},_pageGo:function(a,b,c){a=this._getPageInfo(b)[a];a!=null&&c.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,
b){var c=this._controllerGroup;y(["pagePrev","pageNext"],function(h){var k=b[h+"DataIndex"]!=null;if(h=c.childOfName(h))h.setStyle("fill",k?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),h.cursor=k?"pointer":"default"});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex;f=f!=null?f+1:0;var g=b.pageCount;d&&e&&d.setStyle("text",va(e)?e.replace("{current}",f).replace("{total}",g):e({current:f,total:g}))},_getPageInfo:function(a){function b(r){if(r){var u=r.getBoundingRect(),
v=u[k]+r.position[g];return{s:v,e:v+u[h],i:r.__legendDataIndex}}}function c(r,u){return r.e>=u&&r.s<=u+f}var d=a.get("scrollDataIndex",!0),e=this.getContentGroup(),f=this._containerGroup.__rectSize,g=a.getOrient().index,h=gq[g],k=hq[g];a=this._findTargetItemIndex(d);d=e.children();var l=d[a],m=d.length,n=m?1:0;e={contentPosition:e.position.slice(),pageCount:n,pageIndex:n-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return e;l=b(l);e.contentPosition[g]=-l.s;n=a+1;for(var p=l,q=l,t=null;n<=
m;++n){t=b(d[n]);if(!t&&q.e>p.s+f||t&&!c(t,p.s))if(p=q.i>p.i?q:t)e.pageNextDataIndex==null&&(e.pageNextDataIndex=p.i),++e.pageCount;q=t}n=a-1;q=p=l;for(t=null;n>=-1;--n)(t=b(d[n]))&&c(q,t.s)||!(p.i<q.i)||(q=p,e.pagePrevDataIndex==null&&(e.pagePrevDataIndex=p.i),++e.pageCount,++e.pageIndex),p=t;return e},_findTargetItemIndex:function(a){if(!this._showController)return 0;var b,c;this.getContentGroup().eachChild(function(d,e){d=d.__legendDataIndex;c==null&&d!=null&&(c=e);d===a&&(b=e)});return b!=null?
b:c}});la("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;c!=null&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(d){d.setScrollDataIndex(c)})});bq.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",
handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});var Ok=oa,iI=["line","bar","candlestick","scatter"],jq=cq.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){jq.superApply(this,"render",
arguments);Tg(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");this.dataZoomModel.get("show")===!1?this.group.removeAll():(d&&d.type==="dataZoom"&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){jq.superApply(this,"remove",arguments);et(this,"_dispatchZoomAction")},dispose:function(){jq.superApply(this,"dispose",arguments);et(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();
this._resetInterval();var b=this._displayables.barGroup=new O;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect();b={width:b.getWidth(),height:b.getHeight()};var d=this._orient==="horizontal"?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},e=ue({},a.option);y(["right","top","width","height"],function(f){e[f]===
"ph"&&(e[f]=d[f])});a=Ja(e,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];this._orient==="vertical"&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel();d=d&&d.get("inverse");var e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr(c!=="horizontal"||d?c==="horizontal"&&d?{scale:f?[-1,1]:[-1,-1]}:c!=="vertical"||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/
2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new Ok({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new Ok({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:L(this._onClickPanelClick,
this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData();a=c.getShadowDim?c.getShadowDim():a.otherDim;if(a!=null){var e=d.getDataExtent(a);c=(e[1]-e[0])*.3;e=[e[0]-c,e[1]+c];var f=[0,b[1]],g=[[b[0],0],[0,0]],h=[],k=b[0]/(d.count()-1),l=0,m=Math.round(d.count()/b[0]),n;d.each([a],function(p,q){if(m>0&&q%m)l+=k;else{var t=p==null||isNaN(p)||p==="";p=t?0:ia(p,e,f,!0);t&&!n&&q?(g.push([g[g.length-1][0],0]),h.push([h[h.length-
1][0],0])):!t&&n&&(g.push([l,0]),h.push([l,0]));g.push([l,p]);h.push([l,p]);l+=k;n=t}});b=this.dataZoomModel;this._displayables.barGroup.add(new sb({shape:{points:g},style:Q({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new Tb({shape:{points:h},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");
if(b!==!1){var c,d=this.ecModel;a.eachTargetAxis(function(e,f){var g=a.getAxisProxy(e.name,f).getTargetSeriesModels();y(g,function(h){if(!(c||b!==!0&&ma(iI,h.get("type"))<0)){var k=d.getComponent(e.axis,f).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name],m=h.coordinateSystem;if(l!=null&&m.getOtherAxis)var n=m.getOtherAxis(k).inverse;l=h.getData().mapDimension(l);c={thisAxis:k,series:h,thisDim:e.name,otherDim:l,otherAxisInverse:n}}},this)},this);return c}},_renderHandle:function(){var a=
this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new Ok({draggable:!0,cursor:Mx(this._orient),drift:L(this._onDragMove,this,"all"),ondragstart:L(this._showDataInfo,this,!0),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}}));d.add(new Ok({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],
height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}));y([0,1],function(g){var h=yf(f.get("handleIcon"),{cursor:Mx(this._orient),draggable:!0,drift:L(this._onDragMove,this,g),ondragend:L(this._onDragEnd,this),onmouseover:L(this._showDataInfo,this,!0),onmouseout:L(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),k=h.getBoundingRect();this._handleHeight=G(f.get("handleSize"),this._size[1]);this._handleWidth=k.width/k.height*this._handleHeight;
h.setStyle(f.getModel("handleStyle").getItemStyle());k=f.get("handleColor");k!=null&&(h.style.fill=k);d.add(b[g]=h);h=f.textStyleModel;this.group.add(c[g]=new fa({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[ia(a[0],[0,100],b,!0),ia(a[1],[0,100],b,!0)]},_updateInterval:function(a,
b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];Je(b,d,e,c.get("zoomLock")?"all":a,f.minSpan!=null?ia(f.minSpan,g,e,!0):null,f.maxSpan!=null?ia(f.maxSpan,g,e,!0):null);a=this._range;d=this._range=wc([ia(d[0],e,g,!0),ia(d[1],e,g,!0)]);return!a||a[0]!==d[0]||a[1]!==d[1]},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=wc(c.slice()),e=this._size;y([0,1],function(f){var g=this._handleHeight;b.handles[f].attr({scale:[g/
2,g/2],position:[c[f],e[1]/2-g/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(m){var n=re(d.handles[m].parent,this.group),p=um(m===0?"right":"left",n),q=this._handleWidth/2+5;n=vc([l[m]+(m===0?-q:q),this._size[1]/2],n);e[m].setStyle({x:n[0],y:n[1],textVerticalAlign:f==="horizontal"?"middle":p,textAlign:f==="horizontal"?p:"center",text:g[m]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,
g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){c=h.getAxisModel().axis;var k=this._range;a=a?h.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var l=wc(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter");c=c.get("labelPrecision");if(c==null||c==="auto")c=b.getPixelPrecision();b=a==null||isNaN(a)?"":
b.type==="category"||b.type==="time"?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return Oa(d)?d(a,b):va(d)?d.replace("{value}",b):b},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c,d){this._dragging=!0;fe(d.event);d=this._displayables.barGroup.getLocalTransform();b=vc([b,c],d,!0);a=this._updateInterval(a,b[0]);b=this.dataZoomModel.get("realtime");this._updateView(!b);a&&
b&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);a[0]<0||a[0]>b[0]||a[1]<0||a[1]>b[1]||(b=this._handleEnds,b=this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),b&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",
from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){y(this.getTargetCoordInfo(),function(d){!c&&d.length&&(d=d[0].model.coordinateSystem,c=d.getRect&&d.getRect())});if(!c)var a=this.api.getWidth(),b=this.api.getHeight(),c={x:a*.2,y:b*.2,width:a*.6,height:b*.6};return c}});bq.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var zz=cq.extend({type:"dataZoom.inside",
init:function(a,b){},render:function(a,b,c,d){zz.superApply(this,"render",arguments);this._range=a.getPercentRange();y(this.getTargetCoordInfo(),function(e,f){var g=H(e,function(h){h=h.model;return h.type+"\x00_"+h.id});y(e,function(h){var k=h.model,l={};y(["pan","zoom","scrollMove"],function(m){l[m]=L(jI[m],this,h,f)},this);QF(c,{coordId:k.type+"\x00_"+k.id,allCoordIds:g,containsPoint:function(m,n,p){return k.coordinateSystem.containPoint([n,p])},dataZoomId:a.id,dataZoomModel:a,getRange:l})},this)},
this)},dispose:function(){UF(this.api,this.dataZoomModel.id);zz.superApply(this,"dispose",arguments);this._range=null}}),jI={zoom:function(a,b,c,d){var e=this._range,f=e.slice(),g=a.axisModels[0];if(g&&(a=kq[b](null,[d.originX,d.originY],g,c,a),a=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(f[1]-f[0])+f[0],d=Math.max(1/d.scale,0),f[0]=(f[0]-a)*d+a,f[1]=(f[1]-a)*d+a,d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),Je(0,f,[0,100],0,d.minSpan,
d.maxSpan),this._range=f,e[0]!==f[0]||e[1]!==f[1]))return f},pan:Px(function(a,b,c,d,e,f){b=kq[d]([f.oldX,f.oldY],[f.newX,f.newY],b,e,c);return b.signal*(a[1]-a[0])*b.pixel/b.pixelLength}),scrollMove:Px(function(a,b,c,d,e,f){return kq[d]([0,0],[f.scrollDelta,f.scrollDelta],b,e,c).signal*(a[1]-a[0])*f.scrollDelta})},kq={grid:function(a,b,c,d,e){c=c.axis;d={};e=e.model.coordinateSystem.getRect();a=a||[0,0];c.dim==="x"?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):
(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d},polar:function(a,b,c,d,e){d=c.axis;var f={};e=e.model.coordinateSystem;var g=e.getRadiusAxis().getExtent(),h=e.getAngleAxis().getExtent();a=a?e.pointToCoord(a):[0,0];b=e.pointToCoord(b);c.mainType==="radiusAxis"?(f.pixel=b[0]-a[0],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],f.signal=d.inverse?1:-1):(f.pixel=b[1]-a[1],f.pixelLength=h[1]-h[0],f.pixelStart=h[0],f.signal=d.inverse?-1:1);return f},singleAxis:function(a,
b,c,d,e){c=c.axis;e=e.model.coordinateSystem.getRect();d={};a=a||[0,0];c.orient==="horizontal"?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1);return d}},Az=function(a){a=a&&a.visualMap;F(a)||(a=a?[a]:[]);y(a,function(b){b&&(Tf(b,"splitList")&&!Tf(b,"pieces")&&(b.pieces=b.splitList,delete b.splitList),(b=b.pieces)&&F(b)&&y(b,function(c){X(c)&&(Tf(c,"start")&&!Tf(c,"min")&&(c.min=
c.start),Tf(c,"end")&&!Tf(c,"max")&&(c.max=c.end))}))})};na.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"});var Bz=Hc.VISUAL.COMPONENT;za(Bz,{createOnAllSeries:!0,reset:function(a,b){var c=[];b.eachComponent("visualMap",function(d){var e=a.pipelineContext;!d.isTargetSeries(a)||e&&e.large||c.push(DF(d.stateList,d.targetVisuals,L(d.getValueState,d),d.getDataDimension(a.getData())))});return c}});
za(Bz,{createOnAllSeries:!0,reset:function(a,b){var c=a.getData(),d=[];b.eachComponent("visualMap",function(e){if(e.isTargetSeries(a)){var f=e.getVisualMeta(L(VF,null,a,e))||{stops:[],outerColors:[]};e=e.getDataDimension(c);e=c.getDimensionInfo(e);e!=null&&(f.dimension=e.index,d.push(f))}});a.getData().setVisual("visualMeta",d)}});var lq={get:function(a,b,c){a=T((kI[a]||{})[b]);return c?F(a)?a[a.length-1]:a:a}},kI={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,
360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Cz=ta.mapVisual,lI=ta.eachVisual,mI=F,Pk=Cb({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],
dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals=
{};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;da.canvasSupported||(c.realtime=!1);!b&&sx(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=L(a,this);this.controllerVisuals=Ko(this.option.controller,b,a);this.targetVisuals=Ko(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,
b=[];a==null||a==="all"?this.ecModel.eachSeries(function(c,d){b.push(d)}):b=Za(a);return b},eachTargetSeries:function(a,b){y(this.getTargetSeriesIndices(),function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(k){return k===g[0]?"min":k===g[1]?"max":(+k).toFixed(Math.min(f,20))}var e=this.option,f=e.precision,g=this.dataBound;e=e.formatter;c=c||["\x3c",
"\x3e"];if(F(a)){a=a.slice();var h=!0}b=b?a:h?[d(a[0]),d(a[1])]:d(a);return va(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):Oa(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=wc([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension,c=a.dimensions;if(b!=null||c.length){if(b!=null)return a.getDimension(b);b=a.dimensions;for(c=b.length-1;c>=0;c--){var d=b[c];if(!a.getDimensionInfo(d).isCalculationCoord)return d}}},
getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(h){mI(c.color)&&!h.inRange&&(h.inRange={color:c.color.slice().reverse()});h.inRange=h.inRange||{color:b.get("gradientColor")};y(this.stateList,function(k){var l=h[k];if(va(l)){var m=lq.get(l,"active",g);m?(h[k]={},h[k][l]=m):delete h[k]}},this)}var b=this.ecModel,c=this.option,d={inRange:c.inRange,outOfRange:c.outOfRange},e=c.target||(c.target={}),f=c.controller||(c.controller={});Y(e,d);Y(f,d);var g=
this.isCategory();a.call(this,e);a.call(this,f);(function(h,k,l){k=h[k];var m=h[l];k&&!m&&(m=h[l]={},y(k,function(n,p){ta.isValidType(p)&&(n=lq.get(p,"inactive",g),n!=null&&(m[p]=n,p!=="color"||m.hasOwnProperty("opacity")||m.hasOwnProperty("colorAlpha")||(m.opacity=[0,0])))}))}).call(this,e,"inRange","outOfRange");(function(h){var k=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,l=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,m=this.get("inactiveColor");y(this.stateList,function(n){var p=
this.itemSize,q=h[n];q||(q=h[n]={color:g?m:[m]});q.symbol==null&&(q.symbol=k&&T(k)||(g?"roundRect":["roundRect"]));q.symbolSize==null&&(q.symbolSize=l&&T(l)||(g?p[0]:[p[0],p[0]]));q.symbol=Cz(q.symbol,function(r){return r==="none"||r==="square"?"roundRect":r});n=q.symbolSize;if(n!=null){var t=-Infinity;lI(n,function(r){r>t&&(t=r)});q.symbolSize=Cz(n,function(r){return ia(r,[0,t],[0,p[0]],!0)})}},this)}).call(this,f)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},
isCategory:function(){return!!this.option.categories},setSelected:Pa,getValueState:Pa,getVisualMeta:Pa}),Dz=[20,140],Ez=Pk.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(a,b){Ez.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(c){c.mappingMethod="linear";c.dataExtent=this.getExtent()});this._resetRange()},
resetItemSize:function(){Ez.superApply(this,"resetItemSize",arguments);var a=this.itemSize;this._orient==="horizontal"&&a.reverse();(a[0]==null||isNaN(a[0]))&&(a[0]=Dz[0]);(a[1]==null||isNaN(a[1]))&&(a[1]=Dz[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):F(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){Pk.prototype.completeVisualOption.apply(this,arguments);y(this.stateList,
function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),b=wc((this.get("range")||[]).slice());b[0]>a[1]&&(b[0]=a[1]);b[1]>a[1]&&(b[1]=a[1]);b[0]<a[0]&&(b[0]=a[0]);b[1]<a[0]&&(b[1]=a[0]);return b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=
[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(f,g){a[0]<=f&&f<=a[1]&&d.push(g)},this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getVisualMeta:function(a){function b(m,n){e.push({value:m,color:a(m,n)})}for(var c=Qx(this,"outOfRange",this.getExtent()),d=Qx(this,"inRange",this.option.range.slice()),e=[],f=0,g=0,h=d.length,k=c.length;g<k&&(!d.length||c[g]<=d[0]);g++)c[g]<d[f]&&b(c[g],"outOfRange");for(var l=1;f<h;f++,l=0)l&&e.length&&b(d[f],
"outOfRange"),b(d[f],"inRange");for(l=1;g<k;g++)if(!d.length||d[d.length-1]<c[g])l&&(e.length&&b(e[e.length-1].value,"outOfRange"),l=0),b(c[g],"outOfRange");c=e.length;return{stops:e,outerColors:[c?e[0].color:"transparent",c?e[c-1].color:"transparent"]}}}),Fz=Ta({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a;this.api=b},render:function(a,b,c,d){this.visualMapModel=a;a.get("show")===!1?this.group.removeAll():this.doRender.apply(this,arguments)},
renderBackground:function(a){var b=this.visualMapModel,c=se(b.get("padding")||0),d=a.getBoundingRect();a.add(new oa({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,c){function d(m){return h[m]}function e(m,n){h[m]=n}c=c||{};var f=c.forceState,g=this.visualMapModel,h={};b==="symbol"&&(h.symbol=g.get("itemSymbol"));if(b===
"color"){var k=g.get("contentColor");h.color=k}var l=g.controllerVisuals[f||g.getValueState(a)];f=ta.prepareVisualTypes(l);y(f,function(m){var n=l[m];c.convertOpacityToAlpha&&m==="opacity"&&(m="colorAlpha",n=l.__alphaForOpacity);ta.dependsOn(m,b)&&n&&n.applyVisual(a,d,e)});return h[b]},positionGroup:function(a){var b=this.api;Ri(a,this.visualMapModel.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})},doRender:Pa}),Qk=Math.min,Wh=Math.max,nI=Fz.extend({type:"visualMap.continuous",init:function(){nI.superApply(this,
"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&d.type==="selectDataRange"&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);
this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=a!=null?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize;d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,c===0?-b:e[1]+b],d);c=this._applyTransform(c===0?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new fa({style:{x:b[0],y:b[1],textVerticalAlign:d==="horizontal"?"middle":c,textAlign:d===
"horizontal"?c:"center",text:a,textFont:e.getFont(),textFill:e.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,f=this._useHandle,g=Rx(b,this.api,d),h=c.barGroup=this._createBarGroup(g);h.add(c.outOfRange=Vj());h.add(c.inRange=Vj(null,f?Tx(this._orient):null,L(this._dragHandle,this,"all",!1),L(this._dragHandle,this,"all",!0)));b=b.textStyleModel.getTextRect("\u56fd");b=Wh(b.width,b.height);f&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=
[],this._createHandle(h,0,d,b,e,g),this._createHandle(h,1,d,b,e,g));this._createIndicator(h,d,b,e);a.add(h)},_createHandle:function(a,b,c,d,e){var f=L(this._dragHandle,this,b,!1),g=L(this._dragHandle,this,b,!0),h=Vj(b===0?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],Tx(this._orient),f,g);h.position[0]=c[0];a.add(h);a=this.visualMapModel.textStyleModel;f=new fa({draggable:!0,drift:f,onmousemove:function(k){fe(k.event)},ondragend:g,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});
this.group.add(f);d=[e==="horizontal"?d/2:d*1.5,e==="horizontal"?b===0?-(d*1.5):d*1.5:b===0?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=h;e.handleLabelPoints[b]=d;e.handleLabels[b]=f},_createIndicator:function(a,b,c,d){var e=Vj([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new fa({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(a);c=[d==="horizontal"?c/2:9,0];d=this._shapes;
d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():Sx(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],
!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent();a=[0,a.itemSize[1]];this._handleEnds=[ia(b[0],c,a,!0),ia(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,d=this._handleEnds,e=[0,c.itemSize[1]];Je(b||0,d,e,a,0);a=c.getExtent();this._dataInterval=[ia(d[0],e,a,!0),ia(d[1],e,a,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes;b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,
c,a,"inRange");c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,c,d){d={forceState:d,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,d);a=[this.getControllerVisual(a[0],"symbolSize",d),this.getControllerVisual(a[1],"symbolSize",d)];c=this._createBarPoints(c,a);return{barColor:new ye(0,
0,0,1,b),barPoints:c,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;e<100;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],
[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new O(b!=="horizontal"||c?b==="horizontal"&&c?{scale:a==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:b!=="vertical"||c?{scale:a==="left"?[1,1]:[-1,1]}:{scale:a==="left"?[1,-1]:[-1,-1]}:{scale:a==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;y([0,1],function(g){var h=e[g];
h.setStyle("fill",b.handlesColor[g]);h.position[1]=a[g];h=vc(c.handleLabelPoints[g],re(h,this.group));f[g].setStyle({x:h[0],y:h[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?g===0?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,h=ia(a,f,[0,g[1]],!0);f=this._shapes;var k=f.indicator;if(k){k.position[1]=h;k.attr("invisible",!1);
var l=k.setShape;g=g[1];d=c?[[0,-Qk(d,Wh(h,0))],[6,0],[0,Qk(d,Wh(g-h,0))]]:[[0,0],[5,-5],[5,5]];l.call(k,"points",d);a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0});k.setStyle("fill",a);a=vc(f.indicatorLabelPoint,re(k,this.group));k=f.indicatorLabel;k.attr("invisible",!1);f=this._applyTransform("left",f.barGroup);d=this._orient;k.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:d==="horizontal"?f:"middle",textAlign:d==="horizontal"?"center":f,x:a[0],y:a[1]})}},_enableHoverLinkToSeries:function(){var a=
this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=Qk(Wh(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),
a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel;if(c.option.hoverLink){var d=[0,c.itemSize[1]],e=c.getExtent();a=Qk(Wh(d[0],a),d[1]);var f=6,g=c.get("hoverLinkDataSize");g&&(f=ia(g,e,d,!0)/2);g=[a-f,a+f];a=ia(a,d,e,!0);e=[ia(g[0],d,e,!0),ia(g[1],d,e,!0)];g[0]<d[0]&&(e[0]=-Infinity);g[1]>d[1]&&(e[1]=Infinity);b&&(e[0]===-Infinity?this._showIndicator(a,e[1],"\x3c ",f):e[1]===Infinity?this._showIndicator(a,e[0],
"\x3e ",f):this._showIndicator(a,a,"\u2248 ",f));d=this._hoverLinkDataIndices;a=[];if(b||Sx(c))a=this._hoverLinkDataIndices=c.findTargetDataIndices(e);b=qA(d,a);this._dispatchHighDown("downplay",Uj(b[0],c));this._dispatchHighDown("highlight",Uj(b[1],c))}},_hoverLinkFromSeriesMouseOver:function(a){a=a.target;var b=this.visualMapModel;if(a&&a.dataIndex!=null){var c=this.ecModel.getSeriesByIndex(a.seriesIndex);b.isTargetSeries(c)&&(c=c.getData(a.dataType),a=c.get(b.getDataDimension(c),a.dataIndex,!0),
isNaN(a)||this._showIndicator(a,a))}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Uj(a,this.visualMapModel));a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",
this._hideIndicator)},_applyTransform:function(a,b,c,d){b=re(b,d?null:this.group);return fd[F(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});la({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,b){b.eachComponent({mainType:"visualMap",
query:a},function(c){c.setSelected(a.selected)})});ab(Az);var oI=Pk.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){oI.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var c=this._mode=this._determineMode();pI[this._mode].call(this);
this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(e,f){c==="categories"?(e.mappingMethod="category",e.categories=T(d)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=H(this._pieceList,function(g){g=T(g);f!=="inRange"&&(g.visual=null);return g}))})},completeVisualOption:function(){function a(f,g,h){return f&&f[g]&&(X(f[g])?f[g].hasOwnProperty(h):f[g]===h)}var b=this.option,c={},d=ta.listVisualTypes(),e=this.isCategory();y(b.pieces,function(f){y(d,
function(g){f.hasOwnProperty(g)&&(c[g]=1)})});y(c,function(f,g){var h=0;y(this.stateList,function(k){h|=a(b,k,g)||a(b.target,k,g)},this);!h&&y(this.stateList,function(k){(b[k]||(b[k]={}))[g]=lq.get(g,k==="inRange"?"active":"inactive",e)})},this);Pk.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};c.selected=e;y(d,function(g,h){g=this.getSelectedMapKey(g);e.hasOwnProperty(g)||(e[g]=!0)},this);if(c.selectedMode===
"single"){var f=!1;y(d,function(g,h){g=this.getSelectedMapKey(g);e[g]&&(f?e[g]=!1:f=!0)},this)}},getSelectedMapKey:function(a){return this._mode==="categories"?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=T(a)},getValueState:function(a){a=ta.findPieceIndex(a,this._pieceList);return a!=null?
this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(f,g){ta.findPieceIndex(f,this._pieceList)===a&&d.push(g)},this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getRepresentValue:function(a){this.isCategory()?a=a.value:a.value!=null?a=a.value:(a=a.interval||[],a=a[0]===-Infinity&&a[1]===Infinity?0:(a[0]+
a[1])/2);return a},getVisualMeta:function(a){function b(k,l){var m=e.getRepresentValue({interval:k});l||(l=e.getValueState(m));l=a(m,l);k[0]===-Infinity?d[0]=l:k[1]===Infinity?d[1]=l:c.push({value:k[0],color:l},{value:k[1],color:l})}if(!this.isCategory()){var c=[],d=[],e=this,f=this._pieceList.slice();if(f.length){var g=f[0].interval[0];g!==-Infinity&&f.unshift({interval:[-Infinity,g]});g=f[f.length-1].interval[1];g!==Infinity&&f.push({interval:[g,Infinity]})}else f.push({interval:[-Infinity,Infinity]});
var h=-Infinity;y(f,function(k){if(k=k.interval)k[0]>h&&b([h,k[0]],"outOfRange"),b(k.slice()),h=k[1]},this);return{stops:c,outerColors:d}}}}),pI={splitNumber:function(){var a=this.option,b=this._pieceList,c=Math.min(a.precision,20),d=this.getExtent(),e=a.splitNumber;e=Math.max(parseInt(e,10),1);a.splitNumber=e;for(var f=(d[1]-d[0])/e;+f.toFixed(c)!==f&&c<5;)c++;a.precision=c;f=+f.toFixed(c);a.minOpen&&b.push({interval:[-Infinity,d[0]],close:[0,0]});c=0;for(var g=d[0];c<e;g+=f,c++)b.push({interval:[g,
c===e-1?d[1]:g+f],close:[1,1]});a.maxOpen&&b.push({interval:[d[1],Infinity],close:[0,0]});Am(b);y(b,function(h,k){h.index=k;h.text=this.formatValueText(h.interval)},this)},categories:function(){var a=this.option;y(a.categories,function(b){this._pieceList.push({text:this.formatValueText(b,!0),value:b})},this);Ux(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;y(a.pieces,function(c,d){X(c)||(c={value:c});var e={text:"",index:d};c.label!=null&&(e.text=c.label);if(c.hasOwnProperty("value"))d=
e.value=c.value,e.interval=[d,d],e.close=[1,1];else{for(var f=e.interval=[],g=e.close=[0,0],h=[1,0,1],k=[-Infinity,Infinity],l=[],m=0;m<2;m++){for(var n=[["gte","gt","min"],["lte","lt","max"]][m],p=0;p<3&&f[m]==null;p++)f[m]=c[n[p]],g[m]=h[p],l[m]=p===2;f[m]==null&&(f[m]=k[m])}l[0]&&f[1]===Infinity&&(g[0]=0);l[1]&&f[0]===-Infinity&&(g[1]=0);I&&f[0]>f[1]&&console.warn("Piece "+d+"is illegal: "+f+" lower bound should not greater then uppper bound.");f[0]===f[1]&&g[0]&&g[1]&&(e.value=f[0])}e.visual=
ta.retrieveVisuals(c);b.push(e)},this);Ux(a,b);Am(b);y(b,function(c){var d=c.close;d=[["\x3c","\u2264"][d[1]],["\x3e","\u2265"][d[0]]];c.text=c.text||this.formatValueText(c.value!=null?c.value:c.interval,!1,d)},this)}};Fz.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,e=d.getFont(),f=d.getTextColor(),g=this._getItemAlign(),h=b.itemSize;d=this._getViewData();var k=d.endsText,l=xa(b.get("showLabel",
!0),!k);k&&this._renderEndsText(a,k[0],h,l,g);y(d.viewPieceList,function(m){var n=m.piece,p=new O;p.onclick=L(this._onItemClick,this,n);this._enableHoverLink(p,m.indexInModelPieceList);m=b.getRepresentValue(n);this._createItemSymbol(p,m,[0,0,h[0],h[1]]);l&&(m=this.visualMapModel.getValueState(m),p.add(new fa({style:{x:g==="right"?-c:h[0]+c,y:h[1]/2,text:n.text,textVerticalAlign:"middle",textAlign:g,textFont:e,textFill:f,opacity:m==="outOfRange"?.5:1}})));a.add(p)},this);k&&this._renderEndsText(a,
k[1],h,l,g);Ge(b.get("orient"),a,b.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,b){function c(d){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:d,batch:Uj(e.findTargetDataIndices(b),e)})}a.on("mouseover",L(c,this,"highlight")).on("mouseout",L(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if(b.orient==="vertical")return Rx(a,this.api,a.itemSize);(a=b.align)&&a!=="auto"||(a="left");return a},
_renderEndsText:function(a,b,c,d,e){if(b){var f=new O,g=this.visualMapModel.textStyleModel;f.add(new fa({style:{x:d?e==="right"?c[0]:0:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:d?e:"center",text:b,textFont:g.getFont(),textFill:g.getTextColor()}}));a.add(f)}},_getViewData:function(){var a=this.visualMapModel,b=H(a.getPieceList(),function(e,f){return{piece:e,indexInModelPieceList:f}}),c=a.get("text"),d=a.get("orient");a=a.get("inverse");(d==="horizontal"?a:!a)?b.reverse():c&&(c=c.slice().reverse());
return{viewPieceList:b,endsText:c}},_createItemSymbol:function(a,b,c){a.add(Db(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(a){var b=this.visualMapModel,c=b.option,d=T(c.selected),e=b.getSelectedMapKey(a);c.selectedMode==="single"?(d[e]=!0,y(d,function(f,g){d[g]=g===e})):d[e]=!d[e];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}});ab(Az);var Gz=typeof window==="undefined"?
null:window,Vx=!1,Fb=Gz&&Gz.document;if(Fb&&!da.canvasSupported)try{!Fb.namespaces.zrvml&&Fb.namespaces.add("zrvml","urn:schemas-microsoft-com:vml");var We=function(a){return Fb.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(a){We=function(b){return Fb.createElement("\x3c"+b+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}var Xe=qb.CMD,ra=Math.round,Xh=Math.sqrt,qI=Math.abs,Hz=Math.cos,Iz=Math.sin,mq=Math.max;if(!da.canvasSupported){var nq=function(a){a.style.cssText=
"position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},Kc=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},Yh=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},oq=function(a,b,c){return(parseFloat(a)||0)*1E5+(parseFloat(b)||0)*1E3+c},Jz=Gl,Kz=function(a,b,c){b=vb(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},rI=function(a){a=vb(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},sI=function(a,b,
c){var d=b.fill;if(d!=null)if(d instanceof Vd){var e=0,f=[0,0],g=0,h=1,k=c.getBoundingRect(),l=k.width,m=k.height;if(d.type==="linear"){var n="gradient",p=c.transform,q=[d.x*l,d.y*m];e=[d.x2*l,d.y2*m];p&&(sa(q,q,p),sa(e,e,p));e=Math.atan2(e[0]-q[0],e[1]-q[1])*180/Math.PI;e<0&&(e+=360);e<1E-6&&(e=0)}else n="gradientradial",q=[d.x*l,d.y*m],p=c.transform,g=c.scale,h=l,f=[(q[0]-k.x)/h,(q[1]-k.y)/m],p&&sa(q,q,p),h/=g[0]*21600,m/=g[1]*21600,h=mq(h,m),g=0/h,h=2*d.r/h-g;q=d.colorStops.slice();q.sort(function(t,
r){return t.offset-r.offset});k=q.length;p=[];d=[];for(m=0;m<k;m++)l=q[m],c=rI(l.color),d.push(l.offset*h+g+" "+c[0]),m!==0&&m!==k-1||p.push(c);k>=2&&(g=p[0][0],h=p[1][0],q=p[0][1]*b.opacity,b=p[1][1]*b.opacity,a.type=n,a.method="none",a.focus="100%",a.angle=e,a.color=g,a.color2=h,a.colors=d.join(","),a.opacity=b,a.opacity2=q);n==="radial"&&(a.focusposition=f.join(","))}else Kz(a,d,b.opacity)},Rk=function(a,b,c,d){var e=b==="fill",f=a.getElementsByTagName(b)[0];c[b]!=null&&c[b]!=="none"&&(e||!e&&
c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Vd&&Yh(a,f),f||(f=We(b)),e?sI(f,c,d):(b=f,c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),c.stroke==null||c.stroke instanceof Vd||Kz(b,c.stroke,c.opacity)),Kc(a,f)):(a[e?"filled":"stroked"]="false",Yh(a,f))},Hb=[[],[],[]];ha.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=We("shape"),nq(c),this._vmlEl=c);Rk(c,"fill",b,this);Rk(c,"stroke",b,this);var d=this.transform,e=d!=null,f=c.getElementsByTagName("stroke")[0];if(f){var g=
b.lineWidth;e&&!b.strokeNoScale&&(g*=Xh(qI(d[0]*d[3]-d[1]*d[2])));f.weight=g+"px"}var h=this.path||(this.path=new qb);this.__dirtyPath&&(h.beginPath(),h.subPixelOptimize=!1,this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1);d=c;e=this.transform;f=Xe.M;g=Xe.C;var k=Xe.L,l=Xe.A,m=Xe.Q,n=[],p,q=h.data,t=h.len();for(p=0;p<t;){var r=q[p++],u="";h=0;switch(r){case f:u=" m ";h=1;var v=q[p++],x=q[p++];Hb[0][0]=v;Hb[0][1]=x;break;case k:u=" l ";h=1;v=q[p++];x=q[p++];Hb[0][0]=v;Hb[0][1]=x;break;
case m:case g:u=" c ";h=3;var w=q[p++],z=q[p++],A=q[p++],B=q[p++];if(r===m){r=A;var C=B;A=(A+2*w)/3;B=(B+2*z)/3;w=(v+2*w)/3;z=(x+2*z)/3}else r=q[p++],C=q[p++];Hb[0][0]=w;Hb[0][1]=z;Hb[1][0]=A;Hb[1][1]=B;Hb[2][0]=r;Hb[2][1]=C;v=r;x=C;break;case l:x=v=0;B=A=1;w=0;e&&(v=e[4],x=e[5],A=Xh(e[0]*e[0]+e[1]*e[1]),B=Xh(e[2]*e[2]+e[3]*e[3]),w=Math.atan2(-e[1]/B,e[0]/A));r=q[p++];C=q[p++];var D=q[p++],E=q[p++],P=q[p++]+w,W=q[p++]+P+w;p++;var M=q[p++],J=r+Hz(P)*D,S=C+Iz(P)*E;w=r+Hz(W)*D;z=C+Iz(W)*E;var N=M?" wa ":
" at ";Math.abs(J-w)<1E-4&&(Math.abs(W-P)>.01?M&&(J+=.0125):Math.abs(S-C)<1E-4?z=M&&J<r||!M&&J>r?z-.0125:z+.0125:w=M&&S<C||!M&&S>C?w+.0125:w-.0125);n.push(N,ra(((r-D)*A+v)*21600-10800),",",ra(((C-E)*B+x)*21600-10800),",",ra(((r+D)*A+v)*21600-10800),",",ra(((C+E)*B+x)*21600-10800),",",ra((J*A+v)*21600-10800),",",ra((S*B+x)*21600-10800),",",ra((w*A+v)*21600-10800),",",ra((z*B+x)*21600-10800));v=w;x=z;break;case Xe.R:w=Hb[0];z=Hb[1];w[0]=q[p++];w[1]=q[p++];z[0]=w[0]+q[p++];z[1]=w[1]+q[p++];e&&(sa(w,
w,e),sa(z,z,e));w[0]=ra(w[0]*21600-10800);z[0]=ra(z[0]*21600-10800);w[1]=ra(w[1]*21600-10800);z[1]=ra(z[1]*21600-10800);n.push(" m ",w[0],",",w[1]," l ",z[0],",",w[1]," l ",z[0],",",z[1]," l ",w[0],",",z[1]);break;case Xe.Z:n.push(" x ")}if(h>0)for(n.push(u),u=0;u<h;u++)w=Hb[u],e&&sa(w,w,e),n.push(ra(w[0]*21600-10800),",",ra(w[1]*21600-10800),u<h-1?",":"")}e=n.join("");d.path=e;c.style.zIndex=oq(this.zlevel,this.z,this.z2);Kc(a,c);b.text!=null?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};
ha.prototype.onRemove=function(a){Yh(a,this._vmlEl);this.removeRectText(a)};ha.prototype.onAdd=function(a){Kc(a,this._vmlEl);this.appendRectText(a)};Va.prototype.brushVML=function(a){var b=this.style,c=b.image;if(typeof c==="object"&&c.tagName&&c.tagName.toUpperCase()==="IMG"){var d=c.src;if(d===this._imageSrc)var e=this._imageWidth,f=this._imageHeight;else{var g=c.runtimeStyle,h=g.width,k=g.height;g.width="auto";g.height="auto";e=c.width;f=c.height;g.width=h;g.height=k;this._imageSrc=d;this._imageWidth=
e;this._imageHeight=f}c=d}else c===this._imageSrc&&(e=this._imageWidth,f=this._imageHeight);if(c){var l=b.x||0,m=b.y||0,n=b.width,p=b.height,q=b.sWidth,t=b.sHeight;g=b.sx||0;h=b.sy||0;k=q&&t;(d=this._vmlEl)||(d=Fb.createElement("div"),nq(d),this._vmlEl=d);var r=d.style,u=!1,v=1,x=1;if(this.transform){var w=this.transform;v=Xh(w[0]*w[0]+w[1]*w[1]);x=Xh(w[2]*w[2]+w[3]*w[3]);u=w[1]||w[2]}if(u){var z=[l,m],A=[l+n,m],B=[l,m+p],C=[l+n,m+p];sa(z,z,w);sa(A,A,w);sa(B,B,w);sa(C,C,w);u=mq(z[0],A[0],B[0],C[0]);
z=mq(z[1],A[1],B[1],C[1]);A=[];A.push("M11\x3d",w[0]/v,",","M12\x3d",w[2]/x,",","M21\x3d",w[1]/v,",","M22\x3d",w[3]/x,",","Dx\x3d",ra(l*v+w[4]),",","Dy\x3d",ra(m*x+w[5]));r.padding="0 "+ra(u)+"px "+ra(z)+"px 0";r.filter="progid:DXImageTransform.Microsoft.Matrix("+A.join("")+", SizingMethod\x3dclip)"}else w&&(l=l*v+w[4],m=m*x+w[5]),r.filter="",r.left=ra(l)+"px",r.top=ra(m)+"px";w=this._imageEl;l=this._cropEl;w||(this._imageEl=w=Fb.createElement("div"));var D=w.style;if(k){if(e&&f)D.width=ra(v*e*n/
q)+"px",D.height=ra(x*f*p/t)+"px";else{var E=new Image,P=this;E.onload=function(){E.onload=null;e=E.width;f=E.height;D.width=ra(v*e*n/q)+"px";D.height=ra(x*f*p/t)+"px";P._imageWidth=e;P._imageHeight=f;P._imageSrc=c};E.src=c}l||(l=Fb.createElement("div"),l.style.overflow="hidden",this._cropEl=l);k=l.style;k.width=ra((n+g*n/q)*v);k.height=ra((p+h*p/t)*x);k.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*n/q*v+",Dy\x3d"+-h*p/t*x+")";l.parentNode||d.appendChild(l);w.parentNode!==l&&l.appendChild(w)}else D.width=
ra(v*n)+"px",D.height=ra(x*p)+"px",d.appendChild(w),l&&l.parentNode&&(d.removeChild(l),this._cropEl=null);w="";g=b.opacity;g<1&&(w+=".Alpha(opacity\x3d"+ra(g*100)+") ");D.filter=w+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");d.style.zIndex=oq(this.zlevel,this.z,this.z2);Kc(a,d);b.text!=null&&this.drawRectText(a,this.getBoundingRect())}};Va.prototype.onRemove=function(a){Yh(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};
Va.prototype.onAdd=function(a){Kc(a,this._vmlEl);this.appendRectText(a)};var pq={},qq=0,tI=document.createElement("div"),ce;hA("measureText",function(a,b){var c=Fb;ce||(ce=c.createElement("div"),ce.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Fb.body.appendChild(ce));try{ce.style.font=b}catch(d){}ce.innerHTML="";ce.appendChild(c.createTextNode(a));return{width:ce.offsetWidth}});for(var rq=new ea,uI=function(a,b,c,d){var e=this.style;this.__dirty&&
sg(e,!0);var f=e.text;f!=null&&(f+="");if(f){if(e.rich){var g=ul(f,e);f=[];for(var h=0;h<g.lines.length;h++){for(var k=g.lines[h].tokens,l=[],m=0;m<k.length;m++)l.push(k[m].text);f.push(l.join(""))}f=f.join("\n")}k=e.textAlign;l=e.textVerticalAlign;g=e.font;h=pq[g];if(!h){qq>100&&(qq=0,pq={});h=tI.style;try{h.font=g;var n=h.fontFamily.split(",")[0]}catch(q){}h={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:parseFloat(h.fontSize||12)|0,family:n||"Microsoft YaHei"};
pq[g]=h;qq++}n=h;g=n.style+" "+n.variant+" "+n.weight+" "+n.size+'px "'+n.family+'"';c=c||qc(f,g,k,l,e.textPadding,e.textLineHeight);(h=this.transform)&&!d&&(rq.copy(b),rq.applyTransform(h),b=rq);d?(n=b.x,b=b.y):(m=e.textPosition,m instanceof Array?(n=b.x+Jz(m[0],b.width),b=b.y+Jz(m[1],b.height),k=k||"left"):(m=this.calculateTextPosition?this.calculateTextPosition({},e,b):wl({},e,b),n=m.x,b=m.y,k=k||m.textAlign,l=l||m.textVerticalAlign));n=rg(n,c.width,k);b=jf(b,c.height,l);b+=c.height/2;(c=this._textVmlEl)?
(l=c.firstChild,m=l.nextSibling,k=m.nextSibling):(c=We("line"),m=We("path"),k=We("textpath"),l=We("skew"),k.style["v-text-align"]="left",nq(c),m.textpathok=!0,k.on=!0,c.from="0 0",c.to="1000 0.05",Kc(c,l),Kc(c,m),Kc(c,k),this._textVmlEl=c);m=[n,b];var p=c.style;h&&d?(sa(m,m,h),l.on=!0,l.matrix=h[0].toFixed(3)+","+h[2].toFixed(3)+","+h[1].toFixed(3)+","+h[3].toFixed(3)+",0,0",l.offset=(ra(m[0])||0)+","+(ra(m[1])||0),l.origin="0 0",p.left="0px",p.top="0px"):(l.on=!1,p.left=ra(n)+"px",p.top=ra(b)+"px");
k.string=String(f).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{k.style.font=g}catch(q){}Rk(c,"fill",{fill:e.textFill,opacity:e.opacity},this);Rk(c,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash||null},this);c.style.zIndex=oq(this.zlevel,this.z,this.z2);Kc(a,c)}},vI=function(a){Yh(a,this._textVmlEl);this._textVmlEl=null},wI=function(a){Kc(a,this._textVmlEl)},Lz=[dk,nb,Va,ha,fa],sq=0;sq<Lz.length;sq++){var tq=Lz[sq].prototype;tq.drawRectText=uI;tq.removeRectText=vI;tq.appendRectText=
wI}fa.prototype.brushVML=function(a){var b=this.style;b.text!=null?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};fa.prototype.onRemove=function(a){this.removeRectText(a)};fa.prototype.onAdd=function(a){this.appendRectText(a)}}Wj.prototype={constructor:Wj,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||
0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];if(d.invisible||d.ignore){if(!d.__alreadyNotVisible)d.onRemove(b);d.__alreadyNotVisible=!0}else{if(d.__alreadyNotVisible)d.onAdd(b);d.__alreadyNotVisible=!1;d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())}d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),
this._firstPaint=!1)},resize:function(a,b){a=a==null?this._getWidth():a;b=b==null?this._getHeight():b;if(this._width!==a||this._height!==b){this._width=a;this._height=b;var c=this._vmlViewport.style;c.width=a+"px";c.height=b+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=
this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};y("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){Wj.prototype[a]=XF(a)});Vf.vml=Wj;var Ye=qb.CMD,YF=Array.prototype.join,
Uo=Math.round,Mz=Math.sin,Nz=Math.cos,Oz=Math.PI,de=Math.PI*2,xI=180/Oz,Tk={brush:function(a){var b=a.style,c=a.__svgEl;c||(c=Cc("path"),a.__svgEl=c);a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath();d.subPixelOptimize=!1;a.buildPath(d,a.shape);a.__dirtyPath=!1;var e=[],f=d.data;d=d.len();for(var g=0;g<d;){var h="",k=0;switch(f[g++]){case Ye.M:h="M";k=2;break;case Ye.L:h="L";k=2;break;case Ye.Q:h="Q";k=4;break;case Ye.C:h="C";k=6;break;case Ye.A:var l=f[g++],m=f[g++],n=f[g++],
p=f[g++],q=f[g++],t=f[g++],r=f[g++],u=f[g++],v=Math.abs(t),x=v-de;x=x<1E-4&&x>-1E-4||(u?t>=de:-t>=de);var w=t>0?t%de:t%de+de;v=x?!0:v<1E-4&&v>-1E-4?!1:w>=Oz===!!u;w=jc(l+n*Nz(q));var z=jc(m+p*Mz(q));x&&(t=u?de-1E-4:-de+1E-4,v=!0,g===9&&e.push("M",w,z));l=jc(l+n*Nz(q+t));m=jc(m+p*Mz(q+t));e.push("A",jc(n),jc(p),Uo(r*xI),+v,+u,l,m);break;case Ye.Z:h="Z";break;case Ye.R:l=jc(f[g++]),m=jc(f[g++]),n=jc(f[g++]),p=jc(f[g++]),e.push("M",l,m,"L",l+n,m,"L",l+n,m+p,"L",l,m+p,"L",l,m)}h&&e.push(h);for(h=0;h<
k;h++)e.push(jc(f[g++]))}e=e.join(" ");e.indexOf("NaN")<0&&Fa(c,"d",e)}Wx(c,b,!1,a);Vo(c,a.transform);b.text!=null?Sk(a,a.getBoundingRect()):Wo(a)}},Pz={brush:function(a){var b=a.style,c=b.image;c instanceof HTMLImageElement&&(c=c.src);if(c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=Cc("image"),a.__svgEl=h);c!==a.__imageSrc&&(h.setAttributeNS("http://www.w3.org/1999/xlink","href",c),a.__imageSrc=c);Fa(h,"width",f);Fa(h,"height",g);Fa(h,"x",d);Fa(h,"y",e);Vo(h,a.transform);b.text!=
null?Sk(a,a.getBoundingRect()):Wo(a)}}},Uk={},uq=new ea,Zh={},Ib=[],ZF={left:"start",right:"end",center:"middle",middle:"middle"},Sk=function(a,b){var c=a.style,d=a.transform,e=a instanceof fa||c.transformText;a.__dirty&&sg(c,!0);var f=c.text;f!=null&&(f+="");if(Hl(f,c)){f==null&&(f="");!e&&d&&(uq.copy(b),uq.applyTransform(d),b=uq);var g=a.__textSvgEl;g||(g=Cc("text"),a.__textSvgEl=g);var h=g.style,k=c.font||"12px sans-serif",l=g.__computedFont;k!==g.__styleFont&&(h.font=g.__styleFont=k,l=g.__computedFont=
h.font);var m=c.textPadding;h=c.textLineHeight;k=a.__textCotentBlock;if(!k||a.__dirtyText)k=a.__textCotentBlock=vl(f,l,m,h,c.truncate);var n=k.outerHeight;l=k.lineHeight;Bl(Zh,a,c,b);var p=Zh.baseX,q=Zh.baseY;h=Zh.textAlign||"left";var t=Zh.textVerticalAlign,r=g,u=p,v=q;ef(Ib);e&&d&&ng(Ib,d);d=c.textRotation;b&&d&&(e=c.textOrigin,e==="center"?(u=b.width/2+b.x,v=b.height/2+b.y):e&&(u=e[0]+b.x,v=e[1]+b.y),Ib[4]-=u,Ib[5]-=v,Pc(Ib,Ib,d),Ib[4]+=u,Ib[5]+=v);Vo(r,Ib);e=jf(q,n,t);d=p;m&&(d=h==="right"?p-
m[1]:h==="center"?p+m[3]/2-m[1]/2:p+m[3],e+=m[0]);e+=l/2;Wx(g,c,!0,a);p=k.canCacheByTextString;c=a.__tspanList||(a.__tspanList=[]);m=c.length;if(p&&a.__canCacheByTextString&&a.__text===f){if(a.__dirtyText&&m)for(a=0;a<m;++a)Xx(c[a],h,d,e+a*l)}else{a.__text=f;a.__canCacheByTextString=p;f=k.lines;k=f.length;for(a=0;a<k;a++)p=c[a],n=f[a],p?p.__zrText!==n&&(p.innerHTML="",p.appendChild(document.createTextNode(n))):(p=c[a]=Cc("tspan"),g.appendChild(p),p.appendChild(document.createTextNode(n))),Xx(p,h,
d,e+a*l);if(m>k){for(;a<m;a++)g.removeChild(c[a]);c.length=k}}}};Uk.drawRectText=Sk;Uk.brush=function(a){a.style.text!=null?Sk(a,!1):Wo(a)};Yx.prototype={diff:function(a,b,c){function d(){for(var m=-1*h;m<=h;m+=2){var n=k[m-1],p=k[m+1],q=(p?p.newPos:0)-m;n&&(k[m-1]=void 0);var t=n&&n.newPos+1<f;q=p&&0<=q&&q<g;if(t||q){!t||q&&n.newPos<p.newPos?(n={newPos:p.newPos,components:p.components.slice(0)},e.pushComponent(n.components,void 0,!0)):(n.newPos++,e.pushComponent(n.components,!0,void 0));q=e.extractCommon(n,
b,a,m);if(n.newPos+1>=f&&q+1>=g){m=n.components;n=0;p=m.length;for(t=q=0;n<p;n++){var r=m[n];if(r.removed){u=[];for(v=t;v<t+r.count;v++)u.push(v);r.indices=u;t+=r.count}else{for(var u=[],v=q;v<q+r.count;v++)u.push(v);r.indices=u;q+=r.count;r.added||(t+=r.count)}}return m}k[m]=n}else k[m]=void 0}h++}c||(c=function(m,n){return m===n});this.equals=c;var e=this;a=a.slice();b=b.slice();var f=b.length,g=a.length,h=1;c=f+g;var k=[{newPos:-1,components:[]}],l=this.extractCommon(k[0],b,a,0);if(k[0].newPos+
1>=f&&l+1>=g){c=[];for(l=0;l<b.length;l++)c.push(l);return[{indices:c,count:b.length}]}for(;h<=c;)if(l=d())return l},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){var e=b.length,f=c.length,g=a.newPos;d=g-d;for(var h=0;g+1<e&&d+1<f&&this.equals(b[g+1],c[d+1]);)g++,d++,h++;h&&a.components.push({count:h});a.newPos=g;return d},tokenize:function(a){return a.slice()},
join:function(a){return a.slice()}};var yI=new Yx;Ba.prototype.createElement=Cc;Ba.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return c.length===0?a?(c=b.insertBefore(this.createElement("defs"),b.firstChild),c.contains||(c.contains=function(d){var e=c.children;if(!e)return!1;for(var f=e.length-1;f>=0;--f)if(e[f]===d)return!0;return!1}),c):null:c[0]};Ba.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);a[this._domName]&&c.contains(a[this._domName])?
typeof b==="function"&&b(a):(b=this.add(a))&&(a[this._domName]=b)}};Ba.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)};Ba.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)};Ba.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];y(this._tagNames,function(c){c=a.getElementsByTagName(c);b=b.concat([].slice.call(c))});return b};Ba.prototype.markAllUnused=function(){var a=this.getDoms(),
b=this;y(a,function(c){c[b._markLabel]="0"})};Ba.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")};Ba.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this.getDoms(),c=this;y(b,function(d){d[c._markLabel]!=="1"&&a.removeChild(d)})}};Ba.prototype.getSvgProxy=function(a){return a instanceof ha?Tk:a instanceof Va?Pz:a instanceof fa?Uk:Tk};Ba.prototype.getTextSvgElement=function(a){return a.__textSvgEl};Ba.prototype.getSvgElement=function(a){return a.__svgEl};ua(Ke,Ba);Ke.prototype.addWithoutUpdate=
function(a,b){if(b&&b.style){var c=this;y(["fill","stroke"],function(d){if(b.style[d]&&(b.style[d].type==="linear"||b.style[d].type==="radial")){var e=b.style[d],f=c.getDefs(!0);if(e._dom){var g=e._dom;f.contains(e._dom)||c.addDom(g)}else g=c.add(e);c.markUsed(b);e=g.getAttribute("id");a.setAttribute(d,"url(#"+e+")")}})}};Ke.prototype.add=function(a){if(a.type==="linear")var b=this.createElement("linearGradient");else if(a.type==="radial")b=this.createElement("radialGradient");else return null;a.id=
a.id||this.nextId++;b.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id);this.updateDom(a,b);this.addDom(b);return b};Ke.prototype.update=function(a){var b=this;Ba.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;c==="linear"&&d==="linearGradient"||c==="radial"&&d==="radialGradient"?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})};Ke.prototype.updateDom=function(a,b){if(a.type==="linear")b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",
a.y2);else if(a.type==="radial")b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r);else return;a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox");b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",c[d].offset*100+"%");var g=c[d].color;if(g.indexOf("rgba")>-1){var h=vb(g)[3];g=nl(g);f.setAttribute("stop-color","#"+g);f.setAttribute("stop-opacity",h)}else f.setAttribute("stop-color",
c[d].color);b.appendChild(f)}a._dom=b};Ke.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&Ba.prototype.markUsed.call(this,b._dom);(b=a.style.stroke)&&b._dom&&Ba.prototype.markUsed.call(this,b._dom)}};ua(Fh,Ba);Fh.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);(b=this.getTextSvgElement(a))&&this.updateDom(b,a.__clipPaths,!0);this.markUsed(a)};Fh.prototype.updateDom=function(a,b,c){if(b&&b.length>0){var d=this.getDefs(!0),e=b[0],
f=c?"_textDom":"_dom";if(e[f]){var g=e[f].getAttribute("id"),h=e[f];d.contains(h)||d.appendChild(h)}else g="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,h=this.createElement("clipPath"),h.setAttribute("id",g),d.appendChild(h),e[f]=h;d=this.getSvgProxy(e);e.transform&&e.parent.invTransform&&!c?(f=Array.prototype.slice.call(e.transform),jd(e.transform,e.parent.invTransform,e.transform),d.brush(e),e.transform=f):d.brush(e);e=this.getSvgElement(e);h.innerHTML="";h.appendChild(e.cloneNode());a.setAttribute("clip-path",
"url(#"+g+")");b.length>1&&this.updateDom(h,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")};Fh.prototype.markUsed=function(a){var b=this;a.__clipPaths&&y(a.__clipPaths,function(c){c._dom&&Ba.prototype.markUsed.call(b,c._dom);c._textDom&&Ba.prototype.markUsed.call(b,c._textDom)})};ua(Rd,Ba);Rd.prototype.addWithoutUpdate=function(a,b){if(b&&Zx(b.style)){if(b._shadowDom){var c=b._shadowDom;this.getDefs(!0).contains(b._shadowDom)||this.addDom(c)}else c=this.add(b);this.markUsed(b);b=c.getAttribute("id");
a.style.filter="url(#"+b+")"}};Rd.prototype.add=function(a){var b=this.createElement("filter");a._shadowDomId=a._shadowDomId||this.nextId++;b.setAttribute("id","zr"+this._zrId+"-shadow-"+a._shadowDomId);this.updateDom(a,b);this.addDom(b);return b};Rd.prototype.update=function(a,b){if(Zx(b.style)){var c=this;Ba.prototype.update.call(this,b,function(){c.updateDom(b,b._shadowDom)})}else this.remove(a,b)};Rd.prototype.remove=function(a,b){b._shadowDomId!=null&&(this.removeDom(a),a.style.filter="")};Rd.prototype.updateDom=
function(a,b){var c=b.getElementsByTagName("feDropShadow");c=c.length===0?this.createElement("feDropShadow"):c[0];var d=a.style,e=a.scale?a.scale[0]||1:1,f=a.scale?a.scale[1]||1:1;if(d.shadowBlur||d.shadowOffsetX||d.shadowOffsetY){var g=d.shadowOffsetX||0,h=d.shadowOffsetY||0,k=d.shadowBlur;d=d.shadowColor}else if(d.textShadowBlur)g=d.textShadowOffsetX||0,h=d.textShadowOffsetY||0,k=d.textShadowBlur,d=d.textShadowColor;else{this.removeDom(b,d);return}c.setAttribute("dx",g/e);c.setAttribute("dy",h/
f);c.setAttribute("flood-color",d);c.setAttribute("stdDeviation",k/2/e+" "+k/2/f);b.setAttribute("x","-100%");b.setAttribute("y","-100%");b.setAttribute("width",Math.ceil(k/2*200)+"%");b.setAttribute("height",Math.ceil(k/2*200)+"%");b.appendChild(c);a._shadowDom=b};Rd.prototype.markUsed=function(a){a._shadowDom&&Ba.prototype.markUsed.call(this,a._shadowDom)};var Vk=function(a,b,c,d){this.root=a;this.storage=b;this._opts=c=U({},c||{});b=Cc("svg");b.setAttribute("xmlns","http://www.w3.org/2000/svg");
b.setAttribute("version","1.1");b.setAttribute("baseProfile","full");b.style.cssText="user-select:none;position:absolute;left:0;top:0;";var e=Cc("g");b.appendChild(e);var f=Cc("g");b.appendChild(f);this.gradientManager=new Ke(d,f);this.clipPathManager=new Fh(d,f);this.shadowManager=new Rd(d,f);d=document.createElement("div");d.style.cssText="overflow:hidden;position:relative";this._svgDom=b;this._svgRoot=f;this._backgroundRoot=e;this._viewport=d;a.appendChild(d);d.appendChild(b);this.resize(c.width,
c.height);this._visibleList=[]};Vk.prototype={constructor:Vk,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._backgroundRoot&&this._backgroundNode&&
this._backgroundRoot.removeChild(this._backgroundNode);var b=Cc("rect");b.setAttribute("width",this.getWidth());b.setAttribute("height",this.getHeight());b.setAttribute("x",0);b.setAttribute("y",0);b.setAttribute("id",0);b.style.fill=a;this._backgroundRoot.appendChild(b);this._backgroundNode=b},_paintList:function(a){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var b=this._svgRoot,c=this._visibleList,d=a.length,e=[],f;for(f=0;f<d;f++){var g=
a[f],h=g instanceof ha?Tk:g instanceof Va?Pz:g instanceof fa?Uk:Tk,k=g.__svgEl||g.__textSvgEl;g.invisible||(g.__dirty&&(h&&h.brush(g),this.clipPathManager.update(g),g.style&&(this.gradientManager.update(g.style.fill),this.gradientManager.update(g.style.stroke),this.shadowManager.update(k,g)),g.__dirty=!1),e.push(g))}a=yI.diff(c,e,void 0);for(f=0;f<a.length;f++)if(d=a[f],d.removed)for(h=0;h<d.count;h++){g=c[d.indices[h]];k=g.__svgEl;var l=g.__textSvgEl;k&&b&&k.parentNode===b&&b.removeChild(k);l&&b&&
l.parentNode===b&&b.removeChild(l)}for(f=0;f<a.length;f++)if(d=a[f],d.added)for(h=0;h<d.count;h++){g=e[d.indices[h]];k=g.__svgEl;l=g.__textSvgEl;m?Gh(b,k,m):$x(b,k);k?Gh(b,l,k):m?Gh(b,l,m):$x(b,l);Gh(b,l,k);var m=l||k||m;this.gradientManager.addWithoutUpdate(k||l,g);this.shadowManager.addWithoutUpdate(k||l,g);this.clipPathManager.markUsed(g)}else if(!d.removed)for(h=0;h<d.count;h++)g=e[d.indices[h]],k=g.__svgEl,l=g.__textSvgEl,this.gradientManager.markUsed(g),this.gradientManager.addWithoutUpdate(k||
l,g),this.shadowManager.markUsed(g),this.shadowManager.addWithoutUpdate(k||l,g),this.clipPathManager.markUsed(g),l&&Gh(b,l,k),m=k||l||m;this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=e},_getDefs:function(a){var b=this._svgDom,c=b.getElementsByTagName("defs");return c.length===0?a?(c=b.insertBefore(Cc("defs"),b.firstChild),c.contains||(c.contains=function(d){var e=c.children;if(!e)return!1;for(var f=e.length-1;f>=0;--f)if(e[f]===
d)return!0;return!1}),c):null:c[0]},resize:function(a,b){var c=this._viewport;c.style.display="none";var d=this._opts;a!=null&&(d.width=a);b!=null&&(d.height=b);a=this._getSize(0);b=this._getSize(1);c.style.display="";if(this._width!==a||this._height!==b)this._width=a,this._height=b,c=c.style,c.width=a+"px",c.height=b+"px",c=this._svgDom,c.setAttribute("width",a),c.setAttribute("height",b);this._backgroundNode&&(this._backgroundNode.setAttribute("width",a),this._backgroundNode.setAttribute("height",
b))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(b[c]!=null&&b[c]!=="auto")return parseFloat(b[c]);b=this.root;var f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},dispose:function(){this.root.innerHTML=
"";this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){this.refresh();return"data:image/svg+xml;charset\x3dUTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,"\x3e\n\r\x3c"))}};y("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer pathToImage".split(" "),function(a){Vk.prototype[a]=$F(a)});Vf.svg=
Vk;ca.version="4.9.0";ca.dependencies=Ep;ca.PRIORITY=Hc;ca.init=function(a,b,c){if(I){if(43.2<Ep.zrender.replace(".","")-0)throw Error("zrender/src 4.3.2 is too old for ECharts 4.9.0. Current version need ZRender "+Ep.zrender+"+");if(!a)throw Error("Initialize failed: invalid dom.");}var d=Um(a);if(d)return I&&console.warn("There is a chart instance already initialized on the dom."),d;I&&(!Ze(a)||a.nodeName.toUpperCase()==="CANVAS"||(a.clientWidth||c&&c.width!=null)&&(a.clientHeight||c&&c.height!=
null)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));b=new Vg(a,b,c);b.id="ec_"+CG++;we[b.id]=b;vr(a,Vm,b.id);TB(b);return b};ca.connect=function(a){if(F(a)){var b=a;a=null;Qa(b,function(c){c.group!=null&&(a=c.group)});a=a||"g_"+DG++;Qa(b,function(c){c.group=a})}ej[a]=!0;return a};ca.disConnect=xt;ca.disconnect=xt;ca.dispose=function(a){typeof a==="string"?
a=we[a]:a instanceof Vg||(a=Um(a));a instanceof Vg&&!a.isDisposed()&&a.dispose()};ca.getInstanceByDom=Um;ca.getInstanceById=function(a){return we[a]};ca.registerTheme=function(a,b){$i[a]=b};ca.registerPreprocessor=ab;ca.registerProcessor=Bb;ca.registerPostUpdate=function(a){wt.push(a)};ca.registerAction=la;ca.registerCoordinateSystem=Xm;ca.getCoordinateSystemDimensions=function(a){if(a=$a.get(a))return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()};ca.registerLayout=Da;ca.registerVisual=
za;ca.registerLoading=function(a,b){pk[a]=b};ca.extendComponentModel=Cb;ca.extendComponentView=Ta;ca.extendSeriesModel=fj;ca.extendChartView=rb;ca.setCanvasCreator=function(a){vq("createCanvas",a)};ca.registerMap=function(a,b,c){nj.registerMap(a,b,c)};ca.getMap=function(a){return(a=nj.retrieveMap(a))&&a[0]&&{geoJson:a[0].geoJSON,specialAreas:a[0].specialAreas}};ca.dataTool={};ca.zrender=hG;ca.number=oG;ca.format=pG;ca.throttle=Wi;ca.helper=OG;ca.matrix=dG;ca.vector=bG;ca.color=eG;ca.parseGeoJSON=
Kp;ca.parseGeoJson=Kp;ca.util=xy;ca.graphic=yy;ca.List=Ua;ca.Model=ka;ca.Axis=Ma;ca.env=da});